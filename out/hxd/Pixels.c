// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <hxd/Pixels.h>
extern hl_type t$hl_types_ArrayObj;
extern hl_type t$_dyn;
venum* hxd_Pixels_set_innerFormat(hxd__Pixels,venum*);
int hxd_Pixels_calcStride(int,venum*);
int hxd_Pixels_calcDataSize(int,int,venum*);
extern String s$0a31f72;
String Std_string(vdynamic*);
String String___add__(String,String);
vdynamic* haxe_Exception_thrown(vdynamic*);
extern String s$Pixels_sub_outside_bounds;
haxe__io__Bytes haxe_io_Bytes_alloc(int);
void haxe_io_Bytes_blit(haxe__io__Bytes,int,haxe__io__Bytes,int,int);
extern hl_type t$hxd_Pixels;
extern String s$Pixels_blit_outside_bounds;
extern String s$Pixels_blit_outside_src_bounds;
void hxd_Pixels_copyInner(hxd__Pixels);
void hxd_Pixels_convert(hxd__Pixels,venum*);
extern String s$assert;
void haxe_io_Bytes_fill(haxe__io__Bytes,int,int,int);
#include <hl/types/ArrayBytes_Int.h>
#include <hl/natives.h>
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
extern hl_type t$_i32;
void hl_types_ArrayBytes_Int___expand(hl__types__ArrayBytes_Int,int);
int haxe_io_Bytes_getInt32(haxe__io__Bytes,int);
void haxe_io_Bytes_setInt32(haxe__io__Bytes,int,int);
extern String s$Cannot_convert_from_;
extern String s$_to_;
double haxe_io_Bytes_getFloat(haxe__io__Bytes,int);
void haxe_io_Bytes_setFloat(haxe__io__Bytes,int,double);
extern String s$8ceecb4;
extern String s$Failed_to_decode_DDS;
extern venum* g$hxd_PixelFormat_RGBA;
void haxe_io_Bytes_set(haxe__io__Bytes,int,int);
#include <h3d/Vector.h>
extern hl_type t$h3d_Vector;
void h3d_Vector_new(h3d__Vector,double*,double*,double*,double*);
String hxd_Pixels_toString(hxd__Pixels);
extern String s$Pixels_;
String String___alloc__(vbyte*,int);
extern String s$x;
extern String s$7215ee9;
extern String s$9371d7a;
#include <haxe/ds/List.h>
#include <haxe/io/BytesOutput.h>
#include <format/png/Writer.h>
haxe__ds__List format_png_Tools_build32ARGB(int,int,haxe__io__Bytes,vdynamic*);
extern venum* g$hxd_PixelFormat_BGRA;
haxe__ds__List format_png_Tools_build32BGRA(int,int,haxe__io__Bytes,vdynamic*);
extern hl_type t$haxe_io_BytesOutput;
void haxe_io_BytesOutput_new(haxe__io__BytesOutput);
extern hl_type t$format_png_Writer;
#include <haxe/io/Output.h>
void format_png_Writer_new(format__png__Writer,haxe__io__Output);
void format_png_Writer_write(format__png__Writer,haxe__ds__List);
haxe__io__Bytes haxe_io_BytesOutput_getBytes(haxe__io__BytesOutput);
extern String s$Bit_packed_format;
extern String s$Not_supported;
extern hl_type t$fun_1414408;
extern String s$Must_contain_at_least_one_image;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern String s$61cf523;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$fun_51b844e;
void hl_types_ArrayObj_sort(hl__types__ArrayObj,vclosure*);
extern String s$cb05fd5;
extern String s$e265492;
extern String s$_should_be_;
extern String s$Invalid_mip_level_size_;
extern String s$Unsupported_format_;

int hxd_Pixels_toDDS__$2(vclosure* r0,vdynamic* r1,vdynamic* r2) {
	hl__types__ArrayObj r3, r4;
	int r5;
	r3 = (hl__types__ArrayObj)hl_dyn_castp(&r1,&t$_dyn,&t$hl_types_ArrayObj);
	r4 = (hl__types__ArrayObj)hl_dyn_castp(&r2,&t$_dyn,&t$hl_types_ArrayObj);
	r5 = r0->hasValue ? ((int (*)(vdynamic*,hl__types__ArrayObj,hl__types__ArrayObj))r0->fun)((vdynamic*)r0->value,r3,r4) : ((int (*)(hl__types__ArrayObj,hl__types__ArrayObj))r0->fun)(r3,r4);
	return r5;
}

void hxd_Pixels_new(hxd__Pixels r0,int r1,int r2,haxe__io__Bytes r3,venum* r4,int* r5) {
	venum *r8;
	int r6, r7;
	if( r5 ) goto label$d055329_2_3;
	r6 = 0;
	goto label$d055329_2_4;
	label$d055329_2_3:
	r6 = *r5;
	label$d055329_2_4:
	r0->width = r1;
	r0->height = r2;
	r0->bytes = r3;
	r8 = hxd_Pixels_set_innerFormat(r0,r4);
	r0->offset = r6;
	r7 = 0;
	r0->flags = r7;
	return;
}

int hxd_Pixels_switchEndian(int r0) {
	int r1, r2, r3;
	r2 = 24;
	r1 = ((unsigned)r0) >> r2;
	r3 = 8;
	r2 = r0 >> r3;
	r3 = 65280;
	r2 = r2 & r3;
	r1 = r1 | r2;
	r3 = 8;
	r2 = r0 << r3;
	r3 = 16711680;
	r2 = r2 & r3;
	r1 = r1 | r2;
	r3 = 24;
	r2 = r0 << r3;
	r1 = r1 | r2;
	return r1;
}

int hxd_Pixels_switchBR(int r0) {
	int r1, r2, r3;
	r2 = -16711936;
	r1 = r0 & r2;
	r3 = 16;
	r2 = r0 << r3;
	r3 = 16711680;
	r2 = r2 & r3;
	r1 = r1 | r2;
	r3 = 16;
	r2 = r0 >> r3;
	r3 = 255;
	r2 = r2 & r3;
	r1 = r1 | r2;
	return r1;
}

venum* hxd_Pixels_get_format(hxd__Pixels r0) {
	venum *r1;
	r1 = r0->innerFormat;
	return r1;
}

venum* hxd_Pixels_set_innerFormat(hxd__Pixels r0,venum* r1) {
	int r2, r3;
	r0->innerFormat = r1;
	r2 = r0->width;
	r2 = hxd_Pixels_calcStride(r2,r1);
	r0->stride = r2;
	r2 = r0->width;
	r3 = r0->height;
	r2 = hxd_Pixels_calcDataSize(r2,r3,r1);
	r0->dataSize = r2;
	r2 = 1;
	r2 = hxd_Pixels_calcStride(r2,r1);
	r0->bytesPerPixel = r2;
	return r1;
}

void hxd_Pixels_invalidFormat(hxd__Pixels r0) {
	String r2, r3;
	venum *r4;
	vdynamic *r1;
	r2 = (String)s$0a31f72;
	r4 = r0->innerFormat;
	r3 = Std_string(((vdynamic*)r4));
	r2 = String___add__(r2,r3);
	r1 = haxe_Exception_thrown(((vdynamic*)r2));
	hl_throw((vdynamic*)r1);
}

hxd__Pixels hxd_Pixels_sub(hxd__Pixels r0,int r1,int r2,int r3,int r4) {
	String r9;
	hxd__Pixels r20;
	venum *r11;
	haxe__io__Bytes r10, r19;
	int *r21;
	vdynamic *r8;
	int r6, r7, r12, r13, r14, r15, r16, r17, r18;
	r7 = 0;
	if( r1 < r7 ) goto label$d055329_8_10;
	r7 = 0;
	if( r2 < r7 ) goto label$d055329_8_10;
	r6 = r1 + r3;
	r7 = r0->width;
	if( r7 < r6 ) goto label$d055329_8_10;
	r6 = r2 + r4;
	r7 = r0->height;
	if( r7 >= r6 ) goto label$d055329_8_13;
	label$d055329_8_10:
	r9 = (String)s$Pixels_sub_outside_bounds;
	r8 = haxe_Exception_thrown(((vdynamic*)r9));
	hl_throw((vdynamic*)r8);
	label$d055329_8_13:
	r7 = r0->stride;
	r6 = r4 * r7;
	r10 = haxe_io_Bytes_alloc(r6);
	r11 = r0->innerFormat;
	r6 = hxd_Pixels_calcStride(r3,r11);
	r7 = 0;
	r12 = 0;
	r13 = r4;
	label$d055329_8_21:
	if( r12 >= r13 ) goto label$d055329_8_50;
	r14 = r12;
	++r12;
	r15 = r2 + r14;
	r17 = r0->flags;
	r18 = 4;
	r17 = r17 & r18;
	r18 = 0;
	if( r17 == r18 ) goto label$d055329_8_36;
	r17 = r0->height;
	r18 = 1;
	r17 = r17 - r18;
	r17 = r17 - r15;
	goto label$d055329_8_37;
	label$d055329_8_36:
	r17 = r15;
	label$d055329_8_37:
	r18 = r0->width;
	r17 = r17 * r18;
	r16 = r1 + r17;
	r17 = r0->bytesPerPixel;
	r16 = r16 * r17;
	r17 = r0->offset;
	r16 = r16 + r17;
	if( r10 == NULL ) hl_null_access();
	r19 = r0->bytes;
	haxe_io_Bytes_blit(r10,r7,r19,r16,r6);
	r17 = r7 + r6;
	r7 = r17;
	goto label$d055329_8_21;
	label$d055329_8_50:
	r20 = (hxd__Pixels)hl_alloc_obj(&t$hxd_Pixels);
	r11 = r0->innerFormat;
	r21 = NULL;
	hxd_Pixels_new(r20,r3,r4,r10,r11,r21);
	return r20;
}

int hxd_Pixels_yflip(hxd__Pixels r0,int r1) {
	int r2, r3;
	r2 = r0->flags;
	r3 = 4;
	r2 = r2 & r3;
	r3 = 0;
	if( r2 == r3 ) goto label$d055329_9_10;
	r2 = r0->height;
	r3 = 1;
	r2 = r2 - r3;
	r2 = r2 - r1;
	return r2;
	label$d055329_9_10:
	return r1;
}

void hxd_Pixels_blit(hxd__Pixels r0,int r1,int r2,hxd__Pixels r3,int r4,int r5,int r6,int r7) {
	String r12;
	venum *r13;
	haxe__io__Bytes r23, r24;
	vdynamic *r11;
	int r9, r10, r14, r15, r16, r17, r18, r19, r20, r21, r22;
	r10 = 0;
	if( r1 < r10 ) goto label$d055329_10_10;
	r10 = 0;
	if( r2 < r10 ) goto label$d055329_10_10;
	r9 = r1 + r6;
	r10 = r0->width;
	if( r10 < r9 ) goto label$d055329_10_10;
	r9 = r2 + r7;
	r10 = r0->height;
	if( r10 >= r9 ) goto label$d055329_10_13;
	label$d055329_10_10:
	r12 = (String)s$Pixels_blit_outside_bounds;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$d055329_10_13:
	r10 = 0;
	if( r4 < r10 ) goto label$d055329_10_24;
	r10 = 0;
	if( r4 < r10 ) goto label$d055329_10_24;
	r9 = r4 + r6;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->width;
	if( r10 < r9 ) goto label$d055329_10_24;
	r9 = r5 + r7;
	r10 = r3->height;
	if( r10 >= r9 ) goto label$d055329_10_27;
	label$d055329_10_24:
	r12 = (String)s$Pixels_blit_outside_src_bounds;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$d055329_10_27:
	r9 = r0->flags;
	r10 = 1;
	r9 = r9 & r10;
	r10 = 0;
	if( r9 == r10 ) goto label$d055329_10_33;
	hxd_Pixels_copyInner(r0);
	label$d055329_10_33:
	r13 = r0->innerFormat;
	hxd_Pixels_convert(r3,r13);
	r9 = r0->bytesPerPixel;
	r14 = 0;
	if( r9 != r14 ) goto label$d055329_10_41;
	r12 = (String)s$assert;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$d055329_10_41:
	r13 = r0->innerFormat;
	r10 = hxd_Pixels_calcStride(r6,r13);
	r14 = 0;
	r15 = r7;
	label$d055329_10_45:
	if( r14 >= r15 ) goto label$d055329_10_91;
	r16 = r14;
	++r14;
	r17 = r16 + r5;
	if( r3 == NULL ) hl_null_access();
	r19 = r3->flags;
	r20 = 4;
	r19 = r19 & r20;
	r20 = 0;
	if( r19 == r20 ) goto label$d055329_10_61;
	r19 = r3->height;
	r20 = 1;
	r19 = r19 - r20;
	r19 = r19 - r17;
	goto label$d055329_10_62;
	label$d055329_10_61:
	r19 = r17;
	label$d055329_10_62:
	r20 = r3->width;
	r19 = r19 * r20;
	r18 = r4 + r19;
	r18 = r18 * r9;
	r19 = r3->offset;
	r18 = r18 + r19;
	r19 = r16 + r2;
	r21 = r0->flags;
	r22 = 4;
	r21 = r21 & r22;
	r22 = 0;
	if( r21 == r22 ) goto label$d055329_10_79;
	r21 = r0->height;
	r22 = 1;
	r21 = r21 - r22;
	r21 = r21 - r19;
	goto label$d055329_10_80;
	label$d055329_10_79:
	r21 = r19;
	label$d055329_10_80:
	r22 = r0->width;
	r21 = r21 * r22;
	r20 = r1 + r21;
	r20 = r20 * r9;
	r21 = r0->offset;
	r20 = r20 + r21;
	r23 = r0->bytes;
	if( r23 == NULL ) hl_null_access();
	r24 = r3->bytes;
	haxe_io_Bytes_blit(r23,r20,r24,r18,r10);
	goto label$d055329_10_45;
	label$d055329_10_91:
	return;
}

void hxd_Pixels_clear(hxd__Pixels r0,int r1,int* r2) {
	venum *r11;
	haxe__io__Bytes r9;
	vbyte *r12;
	int r3, r4, r6, r7, r8, r10, r13, r14;
	if( r2 ) goto label$d055329_11_3;
	r3 = 0;
	goto label$d055329_11_4;
	label$d055329_11_3:
	r3 = *r2;
	label$d055329_11_4:
	r4 = r3;
	r6 = r0->flags;
	r7 = 1;
	r6 = r6 & r7;
	r7 = 0;
	if( r6 == r7 ) goto label$d055329_11_11;
	hxd_Pixels_copyInner(r0);
	label$d055329_11_11:
	r7 = 255;
	r6 = r1 & r7;
	r8 = 8;
	r7 = r1 >> r8;
	r8 = 255;
	r7 = r7 & r8;
	if( r6 != r7 ) goto label$d055329_11_37;
	r7 = 65535;
	r6 = r1 & r7;
	r8 = 16;
	r7 = ((unsigned)r1) >> r8;
	if( r6 != r7 ) goto label$d055329_11_37;
	r7 = 0;
	if( r3 != r7 ) goto label$d055329_11_37;
	r9 = r0->bytes;
	if( r9 == NULL ) hl_null_access();
	r6 = r0->offset;
	r7 = r0->width;
	r8 = r0->height;
	r7 = r7 * r8;
	r8 = r0->bytesPerPixel;
	r7 = r7 * r8;
	r10 = 255;
	r8 = r1 & r10;
	haxe_io_Bytes_fill(r9,r6,r7,r8);
	return;
	label$d055329_11_37:
	r11 = r0->innerFormat;
	if( r11 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r11);
	switch(r6) {
		default:
			hxd_Pixels_invalidFormat(r0);
			goto label$d055329_11_103;
		case 0:
			r7 = 24;
			r6 = ((unsigned)r1) >> r7;
			r8 = 8;
			r7 = r1 >> r8;
			r8 = 65280;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r8 = 8;
			r7 = r1 << r8;
			r8 = 16711680;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r8 = 24;
			r7 = r1 << r8;
			r6 = r6 | r7;
			r1 = r6;
			r7 = 24;
			r6 = ((unsigned)r3) >> r7;
			r8 = 8;
			r7 = r3 >> r8;
			r8 = 65280;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r8 = 8;
			r7 = r3 << r8;
			r8 = 16711680;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r8 = 24;
			r7 = r3 << r8;
			r6 = r6 | r7;
			r4 = r6;
			goto label$d055329_11_103;
		case 1:
			goto label$d055329_11_103;
		case 2:
			r7 = -16711936;
			r6 = r1 & r7;
			r8 = 16;
			r7 = r1 << r8;
			r8 = 16711680;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r8 = 16;
			r7 = r1 >> r8;
			r8 = 255;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r1 = r6;
			r7 = -16711936;
			r6 = r3 & r7;
			r8 = 16;
			r7 = r3 << r8;
			r8 = 16711680;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r8 = 16;
			r7 = r3 >> r8;
			r8 = 255;
			r7 = r7 & r8;
			r6 = r6 | r7;
			r4 = r6;
	}
	label$d055329_11_103:
	r6 = r0->offset;
	r8 = 0;
	if( r4 != r8 ) goto label$d055329_11_122;
	r9 = r0->bytes;
	if( r9 == NULL ) hl_null_access();
	r12 = r9->b;
	r7 = 0;
	r8 = r0->width;
	r10 = r0->height;
	r8 = r8 * r10;
	label$d055329_11_113:
	if( r7 >= r8 ) goto label$d055329_11_121;
	++r7;
	*(int*)(r12 + r6) = r1;
	r14 = 4;
	r13 = r6 + r14;
	r6 = r13;
	goto label$d055329_11_113;
	label$d055329_11_121:
	goto label$d055329_11_140;
	label$d055329_11_122:
	r9 = r0->bytes;
	if( r9 == NULL ) hl_null_access();
	r12 = r9->b;
	r7 = 0;
	r8 = r0->width;
	r10 = r0->height;
	r8 = r8 * r10;
	label$d055329_11_129:
	if( r7 >= r8 ) goto label$d055329_11_140;
	++r7;
	r14 = *(int*)(r12 + r6);
	r14 = r14 & r4;
	r13 = r1 | r14;
	*(int*)(r12 + r6) = r13;
	r14 = 4;
	r13 = r6 + r14;
	r6 = r13;
	goto label$d055329_11_129;
	label$d055329_11_140:
	return;
}

hl__types__ArrayBytes_Int hxd_Pixels_toVector(hxd__Pixels r0) {
	venum *r13;
	haxe__io__Bytes r17;
	hl__types__ArrayBytes_Int r4, r7;
	vdynamic *r8;
	vbyte *r5;
	int r1, r2, r6, r9, r10, r11, r12, r14, r15, r16, r18, r19, r20, r21;
	r1 = r0->width;
	r2 = r0->height;
	r1 = r1 * r2;
	r2 = 0;
	r5 = hl_alloc_bytes(r2);
	r2 = 0;
	r2 = 0;
	r4 = hl_types_ArrayBase_allocI32(r5,r2);
	r6 = 0;
	if( r6 >= r1 ) goto label$d055329_12_22;
	if( r4 == NULL ) hl_null_access();
	r6 = 1;
	r2 = r1 - r6;
	r8 = NULL;
	r6 = (int)hl_dyn_casti(&r8,&t$_dyn,&t$_i32);
	r9 = r4->length;
	if( ((unsigned)r2) < ((unsigned)r9) ) goto label$d055329_12_18;
	hl_types_ArrayBytes_Int___expand(r4,r2);
	label$d055329_12_18:
	r5 = r4->bytes;
	r9 = 2;
	r9 = r2 << r9;
	*(int*)(r5 + r9) = r6;
	label$d055329_12_22:
	r7 = r4;
	r2 = 0;
	r6 = r0->offset;
	r9 = 0;
	r10 = r0->flags;
	r11 = 4;
	r10 = r10 & r11;
	r11 = 0;
	if( r10 == r11 ) goto label$d055329_12_47;
	r11 = r0->height;
	r12 = 1;
	r11 = r11 - r12;
	r12 = r0->width;
	r11 = r11 * r12;
	r12 = r0->bytesPerPixel;
	r11 = r11 * r12;
	r10 = r6 + r11;
	r6 = r10;
	r10 = r0->width;
	r10 = -r10;
	r11 = 2;
	r10 = r10 * r11;
	r11 = r0->bytesPerPixel;
	r10 = r10 * r11;
	r9 = r10;
	label$d055329_12_47:
	r13 = r0->innerFormat;
	if( r13 == NULL ) hl_null_access();
	r10 = HL__ENUM_INDEX__(r13);
	switch(r10) {
		default:
			hxd_Pixels_invalidFormat(r0);
			goto label$d055329_12_172;
		case 0:
			r10 = 0;
			r11 = r0->height;
			label$d055329_12_55:
			if( r10 >= r11 ) goto label$d055329_12_98;
			++r10;
			r14 = 0;
			r15 = r0->width;
			label$d055329_12_60:
			if( r14 >= r15 ) goto label$d055329_12_95;
			++r14;
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r16 = haxe_io_Bytes_getInt32(r17,r6);
			if( r7 == NULL ) hl_null_access();
			r18 = r2;
			++r2;
			r20 = 24;
			r19 = ((unsigned)r16) >> r20;
			r21 = 8;
			r20 = r16 >> r21;
			r21 = 65280;
			r20 = r20 & r21;
			r19 = r19 | r20;
			r21 = 8;
			r20 = r16 << r21;
			r21 = 16711680;
			r20 = r20 & r21;
			r19 = r19 | r20;
			r21 = 24;
			r20 = r16 << r21;
			r19 = r19 | r20;
			r20 = r7->length;
			if( ((unsigned)r18) < ((unsigned)r20) ) goto label$d055329_12_87;
			hl_types_ArrayBytes_Int___expand(r7,r18);
			label$d055329_12_87:
			r5 = r7->bytes;
			r20 = 2;
			r20 = r18 << r20;
			*(int*)(r5 + r20) = r19;
			r19 = 4;
			r18 = r6 + r19;
			r6 = r18;
			goto label$d055329_12_60;
			label$d055329_12_95:
			r14 = r6 + r9;
			r6 = r14;
			goto label$d055329_12_55;
			label$d055329_12_98:
			goto label$d055329_12_172;
		case 1:
			r10 = 0;
			r11 = r0->height;
			label$d055329_12_101:
			if( r10 >= r11 ) goto label$d055329_12_129;
			++r10;
			r14 = 0;
			r15 = r0->width;
			label$d055329_12_106:
			if( r14 >= r15 ) goto label$d055329_12_126;
			++r14;
			if( r7 == NULL ) hl_null_access();
			r16 = r2;
			++r2;
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r18 = haxe_io_Bytes_getInt32(r17,r6);
			r19 = r7->length;
			if( ((unsigned)r16) < ((unsigned)r19) ) goto label$d055329_12_118;
			hl_types_ArrayBytes_Int___expand(r7,r16);
			label$d055329_12_118:
			r5 = r7->bytes;
			r19 = 2;
			r19 = r16 << r19;
			*(int*)(r5 + r19) = r18;
			r18 = 4;
			r16 = r6 + r18;
			r6 = r16;
			goto label$d055329_12_106;
			label$d055329_12_126:
			r14 = r6 + r9;
			r6 = r14;
			goto label$d055329_12_101;
			label$d055329_12_129:
			goto label$d055329_12_172;
		case 2:
			r10 = 0;
			r11 = r0->height;
			label$d055329_12_132:
			if( r10 >= r11 ) goto label$d055329_12_172;
			++r10;
			r14 = 0;
			r15 = r0->width;
			label$d055329_12_137:
			if( r14 >= r15 ) goto label$d055329_12_169;
			++r14;
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r16 = haxe_io_Bytes_getInt32(r17,r6);
			if( r7 == NULL ) hl_null_access();
			r18 = r2;
			++r2;
			r20 = -16711936;
			r19 = r16 & r20;
			r21 = 16;
			r20 = r16 << r21;
			r21 = 16711680;
			r20 = r20 & r21;
			r19 = r19 | r20;
			r21 = 16;
			r20 = r16 >> r21;
			r21 = 255;
			r20 = r20 & r21;
			r19 = r19 | r20;
			r20 = r7->length;
			if( ((unsigned)r18) < ((unsigned)r20) ) goto label$d055329_12_161;
			hl_types_ArrayBytes_Int___expand(r7,r18);
			label$d055329_12_161:
			r5 = r7->bytes;
			r20 = 2;
			r20 = r18 << r20;
			*(int*)(r5 + r20) = r19;
			r19 = 4;
			r18 = r6 + r19;
			r6 = r18;
			goto label$d055329_12_137;
			label$d055329_12_169:
			r14 = r6 + r9;
			r6 = r14;
			goto label$d055329_12_132;
	}
	label$d055329_12_172:
	return r7;
}

hxd__Pixels hxd_Pixels_makeSquare(hxd__Pixels r0,vdynamic* r1) {
	hxd__Pixels r21;
	venum *r22;
	bool r20;
	haxe__io__Bytes r9, r15;
	int *r23;
	int r2, r4, r5, r6, r7, r8, r10, r11, r12, r13, r14, r16, r17, r18, r19;
	r2 = r0->width;
	r4 = r0->height;
	r6 = 0;
	if( r2 != r6 ) goto label$d055329_13_6;
	r5 = 0;
	goto label$d055329_13_7;
	label$d055329_13_6:
	r5 = 1;
	label$d055329_13_7:
	r7 = 0;
	if( r4 != r7 ) goto label$d055329_13_11;
	r6 = 0;
	goto label$d055329_13_12;
	label$d055329_13_11:
	r6 = 1;
	label$d055329_13_12:
	if( r5 >= r2 ) goto label$d055329_13_18;
	r8 = 1;
	r7 = r5 << r8;
	r5 = r7;
	goto label$d055329_13_12;
	label$d055329_13_18:
	if( r6 >= r4 ) goto label$d055329_13_24;
	r8 = 1;
	r7 = r6 << r8;
	r6 = r7;
	goto label$d055329_13_18;
	label$d055329_13_24:
	if( r2 != r5 ) goto label$d055329_13_27;
	if( r4 != r6 ) goto label$d055329_13_27;
	return r0;
	label$d055329_13_27:
	r7 = r0->bytesPerPixel;
	r8 = r5 * r6;
	r8 = r8 * r7;
	r9 = haxe_io_Bytes_alloc(r8);
	r8 = 0;
	r10 = r0->offset;
	r11 = 0;
	r12 = r4;
	label$d055329_13_35:
	if( r11 >= r12 ) goto label$d055329_13_64;
	++r11;
	if( r9 == NULL ) hl_null_access();
	r15 = r0->bytes;
	r17 = r2 * r7;
	haxe_io_Bytes_blit(r9,r8,r15,r10,r17);
	r16 = r2 * r7;
	r14 = r8 + r16;
	r8 = r14;
	r16 = r2 * r7;
	r14 = r10 + r16;
	r10 = r14;
	r14 = 0;
	r16 = r5 - r2;
	r16 = r16 * r7;
	r17 = 2;
	r16 = r16 >> r17;
	label$d055329_13_53:
	if( r14 >= r16 ) goto label$d055329_13_63;
	++r14;
	if( r9 == NULL ) hl_null_access();
	r19 = 0;
	haxe_io_Bytes_setInt32(r9,r8,r19);
	r19 = 4;
	r18 = r8 + r19;
	r8 = r18;
	goto label$d055329_13_53;
	label$d055329_13_63:
	goto label$d055329_13_35;
	label$d055329_13_64:
	r11 = 0;
	r12 = r6 - r4;
	r12 = r12 * r5;
	r12 = r12 * r7;
	r13 = 2;
	r12 = r12 >> r13;
	label$d055329_13_70:
	if( r11 >= r12 ) goto label$d055329_13_80;
	++r11;
	if( r9 == NULL ) hl_null_access();
	r16 = 0;
	haxe_io_Bytes_setInt32(r9,r8,r16);
	r16 = 4;
	r14 = r8 + r16;
	r8 = r14;
	goto label$d055329_13_70;
	label$d055329_13_80:
	r20 = r1 ? r1->v.b : 0;
	if( !r20 ) goto label$d055329_13_87;
	r21 = (hxd__Pixels)hl_alloc_obj(&t$hxd_Pixels);
	r22 = r0->innerFormat;
	r23 = NULL;
	hxd_Pixels_new(r21,r5,r6,r9,r22,r23);
	return r21;
	label$d055329_13_87:
	r0->bytes = r9;
	r0->width = r5;
	r0->height = r6;
	return r0;
}

void hxd_Pixels_copyInner(hxd__Pixels r0) {
	haxe__io__Bytes r1, r3;
	int r4, r5, r6;
	r1 = r0->bytes;
	r4 = r0->dataSize;
	r3 = haxe_io_Bytes_alloc(r4);
	r0->bytes = r3;
	r3 = r0->bytes;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	r5 = r0->offset;
	r6 = r0->dataSize;
	haxe_io_Bytes_blit(r3,r4,r1,r5,r6);
	r4 = 0;
	r0->offset = r4;
	r4 = r0->flags;
	r5 = -2;
	r4 = r4 & r5;
	r0->flags = r4;
	return;
}

void hxd_Pixels_willChange(hxd__Pixels r0) {
	int r2, r3;
	r2 = r0->flags;
	r3 = 1;
	r2 = r2 & r3;
	r3 = 0;
	if( r2 == r3 ) goto label$d055329_15_6;
	hxd_Pixels_copyInner(r0);
	label$d055329_15_6:
	return;
}

void hxd_Pixels_setFlip(hxd__Pixels r0,bool r1) {
	haxe__io__Bytes r13;
	bool r3;
	int r4, r5, r6, r7, r8, r9, r10, r11, r12, r14, r15, r16;
	r4 = r0->flags;
	r5 = 4;
	r4 = r4 & r5;
	r5 = 0;
	if( r4 != r5 ) goto label$d055329_16_7;
	r3 = false;
	goto label$d055329_16_8;
	label$d055329_16_7:
	r3 = true;
	label$d055329_16_8:
	if( r3 != r1 ) goto label$d055329_16_10;
	return;
	label$d055329_16_10:
	r4 = r0->flags;
	r5 = 1;
	r4 = r4 & r5;
	r5 = 0;
	if( r4 == r5 ) goto label$d055329_16_16;
	hxd_Pixels_copyInner(r0);
	label$d055329_16_16:
	if( !r1 ) goto label$d055329_16_22;
	r4 = r0->flags;
	r5 = 4;
	r4 = r4 | r5;
	r0->flags = r4;
	goto label$d055329_16_26;
	label$d055329_16_22:
	r4 = r0->flags;
	r5 = -5;
	r4 = r4 & r5;
	r0->flags = r4;
	label$d055329_16_26:
	r4 = r0->stride;
	r5 = 4;
	r4 = r5 == 0 ? 0 : r4 % r5;
	r5 = 0;
	if( r4 == r5 ) goto label$d055329_16_32;
	hxd_Pixels_invalidFormat(r0);
	label$d055329_16_32:
	r4 = 0;
	r5 = r0->height;
	r6 = 1;
	r5 = r5 >> r6;
	label$d055329_16_36:
	if( r4 >= r5 ) goto label$d055329_16_79;
	r6 = r4;
	++r4;
	r8 = r0->stride;
	r7 = r6 * r8;
	r8 = r0->offset;
	r7 = r7 + r8;
	r8 = r0->height;
	r9 = 1;
	r8 = r8 - r9;
	r8 = r8 - r6;
	r9 = r0->stride;
	r8 = r8 * r9;
	r9 = r0->offset;
	r8 = r8 + r9;
	r9 = 0;
	r10 = r0->stride;
	r11 = 2;
	r10 = r10 >> r11;
	label$d055329_16_56:
	if( r9 >= r10 ) goto label$d055329_16_78;
	++r9;
	r13 = r0->bytes;
	if( r13 == NULL ) hl_null_access();
	r12 = haxe_io_Bytes_getInt32(r13,r7);
	r13 = r0->bytes;
	if( r13 == NULL ) hl_null_access();
	r14 = haxe_io_Bytes_getInt32(r13,r8);
	r13 = r0->bytes;
	if( r13 == NULL ) hl_null_access();
	haxe_io_Bytes_setInt32(r13,r7,r14);
	r13 = r0->bytes;
	if( r13 == NULL ) hl_null_access();
	haxe_io_Bytes_setInt32(r13,r8,r12);
	r16 = 4;
	r15 = r7 + r16;
	r7 = r15;
	r16 = 4;
	r15 = r8 + r16;
	r8 = r15;
	goto label$d055329_16_56;
	label$d055329_16_78:
	goto label$d055329_16_36;
	label$d055329_16_79:
	return;
}

void hxd_Pixels_convert(hxd__Pixels r0,venum* r1) {
	String r12, r13;
	venum *r3, *r4;
	haxe__io__Bytes r10, r22, r25;
	bool r5;
	double r24, r26;
	vdynamic *r6;
	vbyte *r9, *r11, *r17, *r23;
	int r7, r8, r14, r15, r16, r18, r19, r20, r21;
	r3 = r0->innerFormat;
	if( r3 == r1 ) goto label$d055329_17_5;
	r3 = r0->innerFormat;
	r5 = hl_type_enum_eq(((vdynamic*)r3),((vdynamic*)r1));
	if( !r5 ) goto label$d055329_17_6;
	label$d055329_17_5:
	return;
	label$d055329_17_6:
	r7 = r0->flags;
	r8 = 1;
	r7 = r7 & r8;
	r8 = 0;
	if( r7 == r8 ) goto label$d055329_17_12;
	hxd_Pixels_copyInner(r0);
	label$d055329_17_12:
	r10 = r0->bytes;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->b;
	r11 = r9;
	r3 = r0->innerFormat;
	if( r3 == NULL ) hl_null_access();
	r7 = HL__ENUM_INDEX__(r3);
	switch(r7) {
		default:
		case 3:
		case 5:
		case 6:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
		case 14:
		case 15:
		case 16:
		case 17:
		case 19:
		case 20:
			r12 = (String)s$Cannot_convert_from_;
			r4 = r0->innerFormat;
			r13 = Std_string(((vdynamic*)r4));
			r12 = String___add__(r12,r13);
			r13 = (String)s$_to_;
			r12 = String___add__(r12,r13);
			r13 = Std_string(((vdynamic*)r1));
			r12 = String___add__(r12,r13);
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
		case 0:
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			switch(r7) {
				default:
				case 0:
					r12 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r13 = Std_string(((vdynamic*)r4));
					r12 = String___add__(r12,r13);
					r13 = (String)s$_to_;
					r12 = String___add__(r12,r13);
					r13 = Std_string(((vdynamic*)r1));
					r12 = String___add__(r12,r13);
					r6 = haxe_Exception_thrown(((vdynamic*)r12));
					hl_throw((vdynamic*)r6);
				case 1:
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_47:
					if( r7 >= r8 ) goto label$d055329_17_76;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r16 = r0->offset;
					r15 = r15 + r16;
					r16 = *(unsigned char*)(r11 + r15);
					r19 = 1;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					r20 = 2;
					r19 = r15 + r20;
					r19 = *(unsigned char*)(r11 + r19);
					r21 = 3;
					r20 = r15 + r21;
					r20 = *(unsigned char*)(r11 + r20);
					r21 = r15;
					++r15;
					*(unsigned char*)(r11 + r21) = (unsigned char)r20;
					r21 = r15;
					++r15;
					*(unsigned char*)(r11 + r21) = (unsigned char)r19;
					r21 = r15;
					++r15;
					*(unsigned char*)(r11 + r21) = (unsigned char)r18;
					*(unsigned char*)(r11 + r15) = (unsigned char)r16;
					goto label$d055329_17_47;
					label$d055329_17_76:
					goto label$d055329_17_110;
				case 2:
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_81:
					if( r7 >= r8 ) goto label$d055329_17_110;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r16 = r0->offset;
					r15 = r15 + r16;
					r16 = *(unsigned char*)(r11 + r15);
					r19 = 1;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					*(unsigned char*)(r11 + r15) = (unsigned char)r18;
					r19 = 2;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					r20 = 1;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r18;
					r19 = 3;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					r20 = 2;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r18;
					r19 = 3;
					r18 = r15 + r19;
					*(unsigned char*)(r11 + r18) = (unsigned char)r16;
					goto label$d055329_17_81;
			}
			label$d055329_17_110:
			goto label$d055329_17_500;
		case 1:
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			switch(r7) {
				default:
				case 1:
					r12 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r13 = Std_string(((vdynamic*)r4));
					r12 = String___add__(r12,r13);
					r13 = (String)s$_to_;
					r12 = String___add__(r12,r13);
					r13 = Std_string(((vdynamic*)r1));
					r12 = String___add__(r12,r13);
					r6 = haxe_Exception_thrown(((vdynamic*)r12));
					hl_throw((vdynamic*)r6);
				case 0:
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_128:
					if( r7 >= r8 ) goto label$d055329_17_157;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r16 = r0->offset;
					r15 = r15 + r16;
					r16 = *(unsigned char*)(r11 + r15);
					r19 = 1;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					r20 = 2;
					r19 = r15 + r20;
					r19 = *(unsigned char*)(r11 + r19);
					r21 = 3;
					r20 = r15 + r21;
					r20 = *(unsigned char*)(r11 + r20);
					r21 = r15;
					++r15;
					*(unsigned char*)(r11 + r21) = (unsigned char)r20;
					r21 = r15;
					++r15;
					*(unsigned char*)(r11 + r21) = (unsigned char)r19;
					r21 = r15;
					++r15;
					*(unsigned char*)(r11 + r21) = (unsigned char)r18;
					*(unsigned char*)(r11 + r15) = (unsigned char)r16;
					goto label$d055329_17_128;
					label$d055329_17_157:
					goto label$d055329_17_179;
				case 2:
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_162:
					if( r7 >= r8 ) goto label$d055329_17_179;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r16 = r0->offset;
					r15 = r15 + r16;
					r16 = *(unsigned char*)(r11 + r15);
					r19 = 2;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					*(unsigned char*)(r11 + r15) = (unsigned char)r18;
					r20 = 2;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r16;
					goto label$d055329_17_162;
			}
			label$d055329_17_179:
			goto label$d055329_17_500;
		case 2:
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			switch(r7) {
				default:
				case 2:
				case 3:
				case 4:
					r12 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r13 = Std_string(((vdynamic*)r4));
					r12 = String___add__(r12,r13);
					r13 = (String)s$_to_;
					r12 = String___add__(r12,r13);
					r13 = Std_string(((vdynamic*)r1));
					r12 = String___add__(r12,r13);
					r6 = haxe_Exception_thrown(((vdynamic*)r12));
					hl_throw((vdynamic*)r6);
				case 0:
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_197:
					if( r7 >= r8 ) goto label$d055329_17_226;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r16 = r0->offset;
					r15 = r15 + r16;
					r18 = 3;
					r16 = r15 + r18;
					r16 = *(unsigned char*)(r11 + r16);
					r19 = 2;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					r20 = 3;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r18;
					r19 = 1;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					r20 = 2;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r18;
					r18 = *(unsigned char*)(r11 + r15);
					r20 = 1;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r18;
					*(unsigned char*)(r11 + r15) = (unsigned char)r16;
					goto label$d055329_17_197;
					label$d055329_17_226:
					goto label$d055329_17_270;
				case 1:
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_231:
					if( r7 >= r8 ) goto label$d055329_17_248;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r16 = r0->offset;
					r15 = r15 + r16;
					r16 = *(unsigned char*)(r11 + r15);
					r19 = 2;
					r18 = r15 + r19;
					r18 = *(unsigned char*)(r11 + r18);
					*(unsigned char*)(r11 + r15) = (unsigned char)r18;
					r20 = 2;
					r19 = r15 + r20;
					*(unsigned char*)(r11 + r19) = (unsigned char)r16;
					goto label$d055329_17_231;
					label$d055329_17_248:
					goto label$d055329_17_270;
				case 5:
					r7 = r0->width;
					r8 = r0->height;
					r7 = r7 * r8;
					r10 = haxe_io_Bytes_alloc(r7);
					if( r10 == NULL ) hl_null_access();
					r17 = r10->b;
					r23 = r17;
					r7 = 0;
					r8 = r0->width;
					r14 = r0->height;
					r8 = r8 * r14;
					label$d055329_17_260:
					if( r7 >= r8 ) goto label$d055329_17_269;
					r14 = r7;
					++r7;
					r16 = 2;
					r15 = r14 << r16;
					r15 = *(unsigned char*)(r11 + r15);
					*(unsigned char*)(r23 + r14) = (unsigned char)r15;
					goto label$d055329_17_260;
					label$d055329_17_269:
					r0->bytes = r10;
			}
			label$d055329_17_270:
			goto label$d055329_17_500;
		case 4:
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			r8 = 7;
			if( r7 != r8 ) goto label$d055329_17_303;
			r7 = r0->height;
			r8 = r0->width;
			r7 = r7 * r8;
			r8 = 4;
			r7 = r7 * r8;
			r10 = haxe_io_Bytes_alloc(r7);
			if( r10 == NULL ) hl_null_access();
			r17 = r10->b;
			r7 = 0;
			r8 = r0->width;
			r14 = r0->height;
			r8 = r8 * r14;
			label$d055329_17_287:
			if( r7 >= r8 ) goto label$d055329_17_301;
			r14 = r7;
			++r7;
			if( r10 == NULL ) hl_null_access();
			r16 = 2;
			r15 = r14 << r16;
			r25 = r0->bytes;
			if( r25 == NULL ) hl_null_access();
			r18 = 4;
			r16 = r14 << r18;
			r24 = haxe_io_Bytes_getFloat(r25,r16);
			haxe_io_Bytes_setFloat(r10,r15,r24);
			goto label$d055329_17_287;
			label$d055329_17_301:
			r0->bytes = r10;
			goto label$d055329_17_313;
			label$d055329_17_303:
			r12 = (String)s$Cannot_convert_from_;
			r4 = r0->innerFormat;
			r13 = Std_string(((vdynamic*)r4));
			r12 = String___add__(r12,r13);
			r13 = (String)s$_to_;
			r12 = String___add__(r12,r13);
			r13 = Std_string(((vdynamic*)r1));
			r12 = String___add__(r12,r13);
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
			label$d055329_17_313:
			goto label$d055329_17_500;
		case 7:
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			switch(r7) {
				default:
				case 0:
					r12 = (String)s$Cannot_convert_from_;
					r4 = r0->innerFormat;
					r13 = Std_string(((vdynamic*)r4));
					r12 = String___add__(r12,r13);
					r13 = (String)s$_to_;
					r12 = String___add__(r12,r13);
					r13 = Std_string(((vdynamic*)r1));
					r12 = String___add__(r12,r13);
					r6 = haxe_Exception_thrown(((vdynamic*)r12));
					hl_throw((vdynamic*)r6);
				case 1:
				case 2:
					r10 = r0->bytes;
					r7 = 0;
					r8 = 0;
					r14 = r0->width;
					r15 = r0->height;
					r14 = r14 * r15;
					label$d055329_17_333:
					if( r8 >= r14 ) goto label$d055329_17_364;
					++r8;
					if( r10 == NULL ) hl_null_access();
					r24 = haxe_io_Bytes_getFloat(r10,r7);
					r26 = 255.;
					r24 = r24 * r26;
					r16 = (int)r24;
					r19 = 0;
					if( r16 >= r19 ) goto label$d055329_17_346;
					r18 = 0;
					r16 = r18;
					goto label$d055329_17_350;
					label$d055329_17_346:
					r19 = 255;
					if( r19 >= r16 ) goto label$d055329_17_350;
					r18 = 255;
					r16 = r18;
					label$d055329_17_350:
					r18 = r7;
					++r7;
					*(unsigned char*)(r11 + r18) = (unsigned char)r16;
					r18 = r7;
					++r7;
					*(unsigned char*)(r11 + r18) = (unsigned char)r16;
					r18 = r7;
					++r7;
					*(unsigned char*)(r11 + r18) = (unsigned char)r16;
					r18 = r7;
					++r7;
					r20 = 255;
					*(unsigned char*)(r11 + r18) = (unsigned char)r20;
					goto label$d055329_17_333;
			}
			label$d055329_17_364:
			goto label$d055329_17_500;
		case 18:
			if( r1 == NULL ) hl_null_access();
			r7 = HL__ENUM_INDEX__(r1);
			r8 = 7;
			if( r7 != r8 ) goto label$d055329_17_407;
			r7 = r0->width;
			r8 = r0->height;
			r7 = r7 * r8;
			r8 = 4;
			r7 = r7 * r8;
			r10 = haxe_io_Bytes_alloc(r7);
			r22 = r0->bytes;
			r7 = 0;
			r8 = r0->width;
			r14 = r0->height;
			r8 = r8 * r14;
			label$d055329_17_380:
			if( r7 >= r8 ) goto label$d055329_17_405;
			r14 = r7;
			++r7;
			r16 = 1;
			r15 = r14 << r16;
			r18 = 1;
			r16 = r15 + r18;
			if( r22 == NULL ) hl_null_access();
			r18 = r22->length;
			if( ((unsigned)r16) < ((unsigned)r18) ) goto label$d055329_17_394;
			r18 = 0;
			r16 = r18;
			goto label$d055329_17_397;
			label$d055329_17_394:
			r17 = r22->b;
			r18 = *(unsigned short*)(r17 + r15);
			r16 = r18;
			label$d055329_17_397:
			if( r10 == NULL ) hl_null_access();
			r19 = 2;
			r18 = r14 << r19;
			r24 = (double)r16;
			r26 = 65535.;
			r24 = r24 / r26;
			haxe_io_Bytes_setFloat(r10,r18,r24);
			goto label$d055329_17_380;
			label$d055329_17_405:
			r0->bytes = r10;
			goto label$d055329_17_417;
			label$d055329_17_407:
			r12 = (String)s$Cannot_convert_from_;
			r4 = r0->innerFormat;
			r13 = Std_string(((vdynamic*)r4));
			r12 = String___add__(r12,r13);
			r13 = (String)s$_to_;
			r12 = String___add__(r12,r13);
			r13 = Std_string(((vdynamic*)r1));
			r12 = String___add__(r12,r13);
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
			label$d055329_17_417:
			goto label$d055329_17_500;
		case 21:
			r7 = ((hxd_PixelFormat_S3TC*)r3)->p0;
			if( r1 == NULL ) hl_null_access();
			r8 = HL__ENUM_INDEX__(r1);
			r14 = 21;
			if( r8 != r14 ) goto label$d055329_17_463;
			r8 = ((hxd_PixelFormat_S3TC*)r1)->p0;
			if( r7 == r8 ) goto label$d055329_17_462;
			r16 = r0->width;
			r18 = r0->height;
			r16 = r16 | r18;
			r18 = 3;
			r16 = r16 & r18;
			r18 = 0;
			if( r16 == r18 ) goto label$d055329_17_435;
			r12 = (String)s$8ceecb4;
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
			label$d055329_17_435:
			r16 = r0->width;
			r18 = r0->height;
			r16 = r16 * r18;
			r18 = 4;
			r16 = r16 * r18;
			r10 = haxe_io_Bytes_alloc(r16);
			r22 = r0->bytes;
			if( r22 == NULL ) hl_null_access();
			r17 = r22->b;
			r16 = r0->offset;
			r17 = hl_bytes_offset(r17,r16);
			if( r10 == NULL ) hl_null_access();
			r23 = r10->b;
			r16 = r0->width;
			r18 = r0->height;
			r5 = fmt_dxt_decode(r17,r23,r16,r18,r7);
			if( r5 ) goto label$d055329_17_455;
			r12 = (String)s$Failed_to_decode_DDS;
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
			label$d055329_17_455:
			r16 = 0;
			r0->offset = r16;
			r0->bytes = r10;
			r4 = (venum*)g$hxd_PixelFormat_RGBA;
			r4 = hxd_Pixels_set_innerFormat(r0,r4);
			hxd_Pixels_convert(r0,r1);
			return;
			label$d055329_17_462:
			goto label$d055329_17_500;
			label$d055329_17_463:
			r14 = r0->width;
			r15 = r0->height;
			r14 = r14 | r15;
			r15 = 3;
			r14 = r14 & r15;
			r15 = 0;
			if( r14 == r15 ) goto label$d055329_17_473;
			r12 = (String)s$8ceecb4;
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
			label$d055329_17_473:
			r14 = r0->width;
			r15 = r0->height;
			r14 = r14 * r15;
			r15 = 4;
			r14 = r14 * r15;
			r10 = haxe_io_Bytes_alloc(r14);
			r22 = r0->bytes;
			if( r22 == NULL ) hl_null_access();
			r17 = r22->b;
			r14 = r0->offset;
			r17 = hl_bytes_offset(r17,r14);
			if( r10 == NULL ) hl_null_access();
			r23 = r10->b;
			r14 = r0->width;
			r15 = r0->height;
			r5 = fmt_dxt_decode(r17,r23,r14,r15,r7);
			if( r5 ) goto label$d055329_17_493;
			r12 = (String)s$Failed_to_decode_DDS;
			r6 = haxe_Exception_thrown(((vdynamic*)r12));
			hl_throw((vdynamic*)r6);
			label$d055329_17_493:
			r14 = 0;
			r0->offset = r14;
			r0->bytes = r10;
			r4 = (venum*)g$hxd_PixelFormat_RGBA;
			r4 = hxd_Pixels_set_innerFormat(r0,r4);
			hxd_Pixels_convert(r0,r1);
			return;
	}
	label$d055329_17_500:
	r3 = hxd_Pixels_set_innerFormat(r0,r1);
	return;
}

int hxd_Pixels_getPixel(hxd__Pixels r0,int r1,int r2) {
	venum *r7;
	haxe__io__Bytes r8;
	int r3, r4, r5, r9, r10;
	r4 = r0->flags;
	r5 = 4;
	r4 = r4 & r5;
	r5 = 0;
	if( r4 == r5 ) goto label$d055329_18_10;
	r4 = r0->height;
	r5 = 1;
	r4 = r4 - r5;
	r4 = r4 - r2;
	goto label$d055329_18_11;
	label$d055329_18_10:
	r4 = r2;
	label$d055329_18_11:
	r5 = r0->width;
	r4 = r4 * r5;
	r3 = r1 + r4;
	r4 = r0->bytesPerPixel;
	r3 = r3 * r4;
	r4 = r0->offset;
	r3 = r3 + r4;
	r7 = r0->innerFormat;
	if( r7 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r7);
	switch(r4) {
		default:
			hxd_Pixels_invalidFormat(r0);
			r4 = 0;
			return r4;
		case 0:
			r8 = r0->bytes;
			if( r8 == NULL ) hl_null_access();
			r4 = haxe_io_Bytes_getInt32(r8,r3);
			r9 = 24;
			r5 = ((unsigned)r4) >> r9;
			r10 = 8;
			r9 = r4 >> r10;
			r10 = 65280;
			r9 = r9 & r10;
			r5 = r5 | r9;
			r10 = 8;
			r9 = r4 << r10;
			r10 = 16711680;
			r9 = r9 & r10;
			r5 = r5 | r9;
			r10 = 24;
			r9 = r4 << r10;
			r5 = r5 | r9;
			return r5;
		case 1:
			r8 = r0->bytes;
			if( r8 == NULL ) hl_null_access();
			r4 = haxe_io_Bytes_getInt32(r8,r3);
			return r4;
		case 2:
			r8 = r0->bytes;
			if( r8 == NULL ) hl_null_access();
			r4 = haxe_io_Bytes_getInt32(r8,r3);
			r9 = -16711936;
			r5 = r4 & r9;
			r10 = 16;
			r9 = r4 << r10;
			r10 = 16711680;
			r9 = r9 & r10;
			r5 = r5 | r9;
			r10 = 16;
			r9 = r4 >> r10;
			r10 = 255;
			r9 = r9 & r10;
			r5 = r5 | r9;
			return r5;
	}
}

void hxd_Pixels_setPixel(hxd__Pixels r0,int r1,int r2,int r3) {
	venum *r8;
	haxe__io__Bytes r9;
	int r4, r5, r6, r10, r11;
	r5 = r0->flags;
	r6 = 4;
	r5 = r5 & r6;
	r6 = 0;
	if( r5 == r6 ) goto label$d055329_19_10;
	r5 = r0->height;
	r6 = 1;
	r5 = r5 - r6;
	r5 = r5 - r2;
	goto label$d055329_19_11;
	label$d055329_19_10:
	r5 = r2;
	label$d055329_19_11:
	r6 = r0->width;
	r5 = r5 * r6;
	r4 = r1 + r5;
	r5 = r0->bytesPerPixel;
	r4 = r4 * r5;
	r5 = r0->offset;
	r4 = r4 + r5;
	r5 = r0->flags;
	r6 = 1;
	r5 = r5 & r6;
	r6 = 0;
	if( r5 == r6 ) goto label$d055329_19_24;
	hxd_Pixels_copyInner(r0);
	label$d055329_19_24:
	r8 = r0->innerFormat;
	if( r8 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r8);
	switch(r5) {
		default:
		case 3:
		case 4:
			hxd_Pixels_invalidFormat(r0);
			goto label$d055329_19_72;
		case 0:
			r9 = r0->bytes;
			if( r9 == NULL ) hl_null_access();
			r10 = 24;
			r6 = ((unsigned)r3) >> r10;
			r11 = 8;
			r10 = r3 >> r11;
			r11 = 65280;
			r10 = r10 & r11;
			r6 = r6 | r10;
			r11 = 8;
			r10 = r3 << r11;
			r11 = 16711680;
			r10 = r10 & r11;
			r6 = r6 | r10;
			r11 = 24;
			r10 = r3 << r11;
			r6 = r6 | r10;
			haxe_io_Bytes_setInt32(r9,r4,r6);
			goto label$d055329_19_72;
		case 1:
			r9 = r0->bytes;
			if( r9 == NULL ) hl_null_access();
			haxe_io_Bytes_setInt32(r9,r4,r3);
			goto label$d055329_19_72;
		case 2:
			r9 = r0->bytes;
			if( r9 == NULL ) hl_null_access();
			r10 = -16711936;
			r6 = r3 & r10;
			r11 = 16;
			r10 = r3 << r11;
			r11 = 16711680;
			r10 = r10 & r11;
			r6 = r6 | r10;
			r11 = 16;
			r10 = r3 >> r11;
			r11 = 255;
			r10 = r10 & r11;
			r6 = r6 | r10;
			haxe_io_Bytes_setInt32(r9,r4,r6);
			goto label$d055329_19_72;
		case 5:
			r9 = r0->bytes;
			if( r9 == NULL ) hl_null_access();
			haxe_io_Bytes_set(r9,r4,r3);
	}
	label$d055329_19_72:
	return;
}

h3d__Vector hxd_Pixels_getPixelF(hxd__Pixels r0,int r1,int r2,h3d__Vector r3) {
	venum *r13;
	haxe__io__Bytes r17;
	h3d__Vector r5;
	double r14, r16, r18, r19;
	double *r6, *r7, *r8, *r9;
	int r10, r11, r12, r15;
	if( r3 ) goto label$d055329_20_8;
	r5 = (h3d__Vector)hl_alloc_obj(&t$h3d_Vector);
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	r9 = NULL;
	h3d_Vector_new(r5,r6,r7,r8,r9);
	r3 = r5;
	label$d055329_20_8:
	r11 = r0->flags;
	r12 = 4;
	r11 = r11 & r12;
	r12 = 0;
	if( r11 == r12 ) goto label$d055329_20_18;
	r11 = r0->height;
	r12 = 1;
	r11 = r11 - r12;
	r11 = r11 - r2;
	goto label$d055329_20_19;
	label$d055329_20_18:
	r11 = r2;
	label$d055329_20_19:
	r12 = r0->width;
	r11 = r11 * r12;
	r10 = r1 + r11;
	r11 = r0->bytesPerPixel;
	r10 = r10 * r11;
	r11 = r0->offset;
	r10 = r10 + r11;
	r13 = r0->innerFormat;
	if( r13 == NULL ) hl_null_access();
	r11 = HL__ENUM_INDEX__(r13);
	switch(r11) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 5:
		case 6:
		case 8:
		case 9:
			r11 = hxd_Pixels_getPixel(r0,r1,r2);
			if( r3 == NULL ) hl_null_access();
			r15 = 16;
			r12 = r11 >> r15;
			r15 = 255;
			r12 = r12 & r15;
			r14 = (double)r12;
			r16 = 255.;
			r14 = r14 / r16;
			r3->x = r14;
			r15 = 8;
			r12 = r11 >> r15;
			r15 = 255;
			r12 = r12 & r15;
			r14 = (double)r12;
			r16 = 255.;
			r14 = r14 / r16;
			r3->y = r14;
			r15 = 255;
			r12 = r11 & r15;
			r14 = (double)r12;
			r16 = 255.;
			r14 = r14 / r16;
			r3->z = r14;
			r15 = 24;
			r12 = ((unsigned)r11) >> r15;
			r14 = (double)r12;
			r16 = 255.;
			r14 = r14 / r16;
			r3->w = r14;
			return r3;
		case 4:
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r14 = haxe_io_Bytes_getFloat(r17,r10);
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r12 = 4;
			r11 = r10 + r12;
			r16 = haxe_io_Bytes_getFloat(r17,r11);
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r12 = 8;
			r11 = r10 + r12;
			r18 = haxe_io_Bytes_getFloat(r17,r11);
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r12 = 12;
			r11 = r10 + r12;
			r19 = haxe_io_Bytes_getFloat(r17,r11);
			if( r3 == NULL ) hl_null_access();
			r3->x = r14;
			r3->y = r16;
			r3->z = r18;
			r3->w = r19;
			return r3;
		case 7:
			if( r3 == NULL ) hl_null_access();
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r14 = haxe_io_Bytes_getFloat(r17,r10);
			r3->x = r14;
			r14 = 0.;
			r3->y = r14;
			r14 = 0.;
			r3->z = r14;
			r14 = 0.;
			r3->w = r14;
			return r3;
		case 10:
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r14 = haxe_io_Bytes_getFloat(r17,r10);
			r17 = r0->bytes;
			if( r17 == NULL ) hl_null_access();
			r12 = 4;
			r11 = r10 + r12;
			r16 = haxe_io_Bytes_getFloat(r17,r11);
			if( r3 == NULL ) hl_null_access();
			r3->x = r14;
			r3->y = r16;
			r18 = 0.;
			r3->z = r18;
			r18 = 0.;
			r3->w = r18;
			return r3;
	}
}

void hxd_Pixels_setPixelF(hxd__Pixels r0,int r1,int r2,h3d__Vector r3) {
	venum *r8;
	haxe__io__Bytes r31;
	double r9, r10, r11, r12, r13, r14, r15, r16, r17, r20, r21, r22, r23, r25, r26, r27, r28;
	int r5, r6, r7, r18, r19, r24, r29, r30;
	r5 = r0->flags;
	r6 = 1;
	r5 = r5 & r6;
	r6 = 0;
	if( r5 == r6 ) goto label$d055329_21_6;
	hxd_Pixels_copyInner(r0);
	label$d055329_21_6:
	r6 = r0->flags;
	r7 = 4;
	r6 = r6 & r7;
	r7 = 0;
	if( r6 == r7 ) goto label$d055329_21_16;
	r6 = r0->height;
	r7 = 1;
	r6 = r6 - r7;
	r6 = r6 - r2;
	goto label$d055329_21_17;
	label$d055329_21_16:
	r6 = r2;
	label$d055329_21_17:
	r7 = r0->width;
	r6 = r6 * r7;
	r5 = r1 + r6;
	r6 = r0->bytesPerPixel;
	r5 = r5 * r6;
	r6 = r0->offset;
	r5 = r5 + r6;
	r8 = r0->innerFormat;
	if( r8 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r8);
	switch(r6) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 5:
		case 6:
			if( r3 == NULL ) hl_null_access();
			r9 = r3->w;
			r10 = 0.;
			r11 = 1.;
			if( !(r9 < r10) ) goto label$d055329_21_35;
			r12 = r10;
			goto label$d055329_21_39;
			label$d055329_21_35:
			if( !(r11 < r9) ) goto label$d055329_21_38;
			r12 = r11;
			goto label$d055329_21_39;
			label$d055329_21_38:
			r12 = r9;
			label$d055329_21_39:
			r13 = 255.;
			r12 = r12 * r13;
			r13 = 0.4989999999999999991;
			r12 = r12 + r13;
			r6 = (int)r12;
			r7 = 24;
			r6 = r6 << r7;
			r13 = r3->x;
			r14 = 0.;
			r15 = 1.;
			if( !(r13 < r14) ) goto label$d055329_21_52;
			r16 = r14;
			goto label$d055329_21_56;
			label$d055329_21_52:
			if( !(r15 < r13) ) goto label$d055329_21_55;
			r16 = r15;
			goto label$d055329_21_56;
			label$d055329_21_55:
			r16 = r13;
			label$d055329_21_56:
			r17 = 255.;
			r16 = r16 * r17;
			r17 = 0.4989999999999999991;
			r16 = r16 + r17;
			r18 = (int)r16;
			r19 = 16;
			r18 = r18 << r19;
			r7 = r6 | r18;
			r17 = r3->y;
			r20 = 0.;
			r21 = 1.;
			if( !(r17 < r20) ) goto label$d055329_21_70;
			r22 = r20;
			goto label$d055329_21_74;
			label$d055329_21_70:
			if( !(r21 < r17) ) goto label$d055329_21_73;
			r22 = r21;
			goto label$d055329_21_74;
			label$d055329_21_73:
			r22 = r17;
			label$d055329_21_74:
			r23 = 255.;
			r22 = r22 * r23;
			r23 = 0.4989999999999999991;
			r22 = r22 + r23;
			r19 = (int)r22;
			r24 = 8;
			r19 = r19 << r24;
			r18 = r7 | r19;
			r23 = r3->z;
			r25 = 0.;
			r26 = 1.;
			if( !(r23 < r25) ) goto label$d055329_21_88;
			r27 = r25;
			goto label$d055329_21_92;
			label$d055329_21_88:
			if( !(r26 < r23) ) goto label$d055329_21_91;
			r27 = r26;
			goto label$d055329_21_92;
			label$d055329_21_91:
			r27 = r23;
			label$d055329_21_92:
			r28 = 255.;
			r27 = r27 * r28;
			r28 = 0.4989999999999999991;
			r27 = r27 + r28;
			r30 = (int)r27;
			r29 = r18 | r30;
			hxd_Pixels_setPixel(r0,r1,r2,r29);
			goto label$d055329_21_129;
		case 4:
			r31 = r0->bytes;
			if( r31 == NULL ) hl_null_access();
			if( r3 == NULL ) hl_null_access();
			r9 = r3->x;
			haxe_io_Bytes_setFloat(r31,r5,r9);
			r31 = r0->bytes;
			if( r31 == NULL ) hl_null_access();
			r7 = 4;
			r6 = r5 + r7;
			r9 = r3->y;
			haxe_io_Bytes_setFloat(r31,r6,r9);
			r31 = r0->bytes;
			if( r31 == NULL ) hl_null_access();
			r7 = 8;
			r6 = r5 + r7;
			r9 = r3->z;
			haxe_io_Bytes_setFloat(r31,r6,r9);
			r31 = r0->bytes;
			if( r31 == NULL ) hl_null_access();
			r7 = 12;
			r6 = r5 + r7;
			r9 = r3->w;
			haxe_io_Bytes_setFloat(r31,r6,r9);
			goto label$d055329_21_129;
		case 7:
			r31 = r0->bytes;
			if( r31 == NULL ) hl_null_access();
			if( r3 == NULL ) hl_null_access();
			r9 = r3->x;
			haxe_io_Bytes_setFloat(r31,r5,r9);
	}
	label$d055329_21_129:
	return;
}

void hxd_Pixels_dispose(hxd__Pixels r0) {
	haxe__io__Bytes r1;
	r1 = NULL;
	r0->bytes = r1;
	return;
}

vbyte* hxd_Pixels___string(hxd__Pixels r0) {
	String r2;
	vbyte *r1;
	r2 = hxd_Pixels_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String hxd_Pixels_toString(hxd__Pixels r0) {
	String r1, r5;
	venum *r6;
	int *r3;
	vbyte *r4;
	int r2;
	r1 = (String)s$Pixels_;
	r2 = r0->width;
	r3 = &r2;
	r4 = hl_itos(r2,r3);
	r5 = String___alloc__(r4,r2);
	r1 = String___add__(r1,r5);
	r5 = (String)s$x;
	r1 = String___add__(r1,r5);
	r2 = r0->height;
	r3 = &r2;
	r4 = hl_itos(r2,r3);
	r5 = String___alloc__(r4,r2);
	r1 = String___add__(r1,r5);
	r5 = (String)s$7215ee9;
	r1 = String___add__(r1,r5);
	r6 = r0->innerFormat;
	r5 = Std_string(((vdynamic*)r6));
	r1 = String___add__(r1,r5);
	r5 = (String)s$9371d7a;
	r1 = String___add__(r1,r5);
	return r1;
}

haxe__io__Bytes hxd_Pixels_toPNG(hxd__Pixels r0,vdynamic* r1) {
	venum *r5;
	haxe__io__Bytes r8;
	bool r4;
	haxe__io__BytesOutput r9;
	format__png__Writer r10;
	haxe__ds__List r7;
	int r2, r6;
	if( r1 ) goto label$d055329_25_3;
	r2 = 9;
	r1 = hl_alloc_dynamic(&t$_i32);
	r1->v.i = r2;
	label$d055329_25_3:
	r4 = false;
	hxd_Pixels_setFlip(r0,r4);
	r5 = r0->innerFormat;
	if( r5 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r5);
	r6 = 0;
	if( r2 != r6 ) goto label$d055329_25_15;
	r2 = r0->width;
	r6 = r0->height;
	r8 = r0->bytes;
	r7 = format_png_Tools_build32ARGB(r2,r6,r8,r1);
	goto label$d055329_25_21;
	label$d055329_25_15:
	r5 = (venum*)g$hxd_PixelFormat_BGRA;
	hxd_Pixels_convert(r0,r5);
	r2 = r0->width;
	r6 = r0->height;
	r8 = r0->bytes;
	r7 = format_png_Tools_build32BGRA(r2,r6,r8,r1);
	label$d055329_25_21:
	r9 = (haxe__io__BytesOutput)hl_alloc_obj(&t$haxe_io_BytesOutput);
	haxe_io_BytesOutput_new(r9);
	r10 = (format__png__Writer)hl_alloc_obj(&t$format_png_Writer);
	format_png_Writer_new(r10,((haxe__io__Output)r9));
	format_png_Writer_write(r10,r7);
	r8 = haxe_io_BytesOutput_getBytes(r9);
	return r8;
}

hxd__Pixels hxd_Pixels_clone(hxd__Pixels r0) {
	hxd__Pixels r1;
	venum *r5;
	haxe__io__Bytes r4, r8;
	int *r6;
	int r2, r3, r9;
	r1 = (hxd__Pixels)hl_alloc_obj(&t$hxd_Pixels);
	r2 = r0->width;
	r3 = r0->height;
	r4 = NULL;
	r5 = r0->innerFormat;
	r6 = NULL;
	hxd_Pixels_new(r1,r2,r3,r4,r5,r6);
	r2 = r0->flags;
	r1->flags = r2;
	r2 = r1->flags;
	r3 = -2;
	r2 = r2 & r3;
	r1->flags = r2;
	r4 = r0->bytes;
	if( !r4 ) goto label$d055329_26_25;
	r2 = r0->dataSize;
	r4 = haxe_io_Bytes_alloc(r2);
	r1->bytes = r4;
	r4 = r1->bytes;
	if( r4 == NULL ) hl_null_access();
	r2 = 0;
	r8 = r0->bytes;
	r3 = r0->offset;
	r9 = r0->dataSize;
	haxe_io_Bytes_blit(r4,r2,r8,r3,r9);
	label$d055329_26_25:
	return r1;
}

int hxd_Pixels_calcDataSize(int r0,int r1,venum* r2) {
	int r3, r4, r5;
	if( r2 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r2);
	r4 = 21;
	if( r3 != r4 ) goto label$d055329_27_14;
	r3 = ((hxd_PixelFormat_S3TC*)r2)->p0;
	r5 = 3;
	r4 = r1 + r5;
	r5 = 2;
	r4 = r4 >> r5;
	r5 = 2;
	r4 = r4 << r5;
	r5 = hxd_Pixels_calcStride(r0,r2);
	r4 = r4 * r5;
	return r4;
	label$d055329_27_14:
	r4 = hxd_Pixels_calcStride(r0,r2);
	r3 = r1 * r4;
	return r3;
}

int hxd_Pixels_calcStride(int r0,venum* r1) {
	int r2, r3, r4, r5, r6;
	if( r1 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r1);
	switch(r2) {
		default:
			goto label$d055329_28_61;
		case 3:
		case 20:
			r3 = 8;
			r2 = r3;
			goto label$d055329_28_61;
		case 4:
			r3 = 16;
			r2 = r3;
			goto label$d055329_28_61;
		case 5:
			r3 = 1;
			r2 = r3;
			goto label$d055329_28_61;
		case 7:
			r3 = 4;
			r2 = r3;
			goto label$d055329_28_61;
		case 8:
			r3 = 2;
			r2 = r3;
			goto label$d055329_28_61;
		case 9:
			r3 = 4;
			r2 = r3;
			goto label$d055329_28_61;
		case 10:
			r3 = 8;
			r2 = r3;
			goto label$d055329_28_61;
		case 11:
			r3 = 3;
			r2 = r3;
			goto label$d055329_28_61;
		case 12:
		case 19:
			r3 = 6;
			r2 = r3;
			goto label$d055329_28_61;
		case 13:
			r3 = 12;
			r2 = r3;
			goto label$d055329_28_61;
		case 0:
		case 1:
		case 2:
		case 14:
		case 15:
			r3 = 4;
			r2 = r3;
			goto label$d055329_28_61;
		case 16:
			r3 = 4;
			r2 = r3;
			goto label$d055329_28_61;
		case 17:
			r3 = 4;
			r2 = r3;
			goto label$d055329_28_61;
		case 6:
		case 18:
			r3 = 2;
			r2 = r3;
			goto label$d055329_28_61;
		case 21:
			r3 = ((hxd_PixelFormat_S3TC*)r1)->p0;
			r5 = 3;
			r4 = r0 + r5;
			r5 = 2;
			r4 = r4 >> r5;
			r6 = 1;
			if( r3 == r6 ) goto label$d055329_28_55;
			r6 = 4;
			if( r3 != r6 ) goto label$d055329_28_58;
			label$d055329_28_55:
			r6 = 1;
			r5 = r4 << r6;
			return r5;
			label$d055329_28_58:
			r6 = 2;
			r5 = r4 << r6;
			return r5;
	}
	label$d055329_28_61:
	r3 = r0 * r2;
	return r3;
}

bool hxd_Pixels_isFloatFormat(venum* r0) {
	bool r2;
	int r1, r3;
	if( r0 == NULL ) hl_null_access();
	r1 = HL__ENUM_INDEX__(r0);
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 5:
		case 8:
		case 11:
		case 14:
		case 15:
		case 16:
		case 17:
		case 18:
		case 19:
		case 20:
			r2 = false;
			return r2;
		case 3:
		case 6:
		case 9:
		case 12:
			r2 = true;
			return r2;
		case 4:
		case 7:
		case 10:
		case 13:
			r2 = true;
			return r2;
		case 21:
			r1 = ((hxd_PixelFormat_S3TC*)r0)->p0;
			r3 = 6;
			if( r1 != r3 ) goto label$d055329_29_14;
			r2 = true;
			return r2;
			label$d055329_29_14:
			r2 = false;
			return r2;
	}
}

int hxd_Pixels_getChannelOffset(venum* r0,int r1) {
	String r9;
	hl__types__ArrayBytes_Int r3;
	vdynamic *r7;
	vbyte *r4;
	int r2, r5, r6, r8;
	if( r0 == NULL ) hl_null_access();
	r2 = HL__ENUM_INDEX__(r0);
	switch(r2) {
		default:
			goto label$d055329_30_167;
		case 0:
			r2 = 16;
			r4 = hl_alloc_bytes(r2);
			r2 = 0;
			r5 = 1;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 2;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 3;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 0;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r2 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r2);
			if( r3 == NULL ) hl_null_access();
			r5 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r5) ) goto label$d055329_30_34;
			r2 = 0;
			goto label$d055329_30_38;
			label$d055329_30_34:
			r4 = r3->bytes;
			r5 = 2;
			r5 = r1 << r5;
			r2 = *(int*)(r4 + r5);
			label$d055329_30_38:
			return r2;
		case 1:
			r2 = 16;
			r4 = hl_alloc_bytes(r2);
			r2 = 0;
			r5 = 2;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 1;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 0;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r5 = 3;
			r6 = 2;
			r6 = r2 << r6;
			*(int*)(r4 + r6) = r5;
			++r2;
			r2 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r2);
			if( r3 == NULL ) hl_null_access();
			r5 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r5) ) goto label$d055329_30_69;
			r2 = 0;
			goto label$d055329_30_73;
			label$d055329_30_69:
			r4 = r3->bytes;
			r5 = 2;
			r5 = r1 << r5;
			r2 = *(int*)(r4 + r5);
			label$d055329_30_73:
			return r2;
		case 3:
		case 20:
			r5 = 2;
			r2 = r1 * r5;
			return r2;
		case 4:
			r5 = 4;
			r2 = r1 * r5;
			return r2;
		case 5:
		case 6:
		case 7:
		case 18:
			r5 = 0;
			if( r1 != r5 ) goto label$d055329_30_84;
			r2 = 0;
			return r2;
			label$d055329_30_84:
			r2 = -1;
			return r2;
		case 8:
		case 9:
		case 10:
			r2 = 1;
			r2 = hxd_Pixels_calcStride(r2,r0);
			r5 = 16;
			r4 = hl_alloc_bytes(r5);
			r5 = 0;
			r6 = 0;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r6;
			++r5;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r2;
			++r5;
			r6 = -1;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r6;
			++r5;
			r6 = -1;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r6;
			++r5;
			r5 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r5);
			if( r3 == NULL ) hl_null_access();
			r6 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r6) ) goto label$d055329_30_117;
			r5 = 0;
			goto label$d055329_30_121;
			label$d055329_30_117:
			r4 = r3->bytes;
			r6 = 2;
			r6 = r1 << r6;
			r5 = *(int*)(r4 + r6);
			label$d055329_30_121:
			return r5;
		case 11:
		case 12:
		case 13:
		case 19:
			r2 = 1;
			r2 = hxd_Pixels_calcStride(r2,r0);
			r5 = 16;
			r4 = hl_alloc_bytes(r5);
			r5 = 0;
			r6 = 0;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r6;
			++r5;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r2;
			++r5;
			r8 = 1;
			r6 = r2 << r8;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r6;
			++r5;
			r6 = -1;
			r8 = 2;
			r8 = r5 << r8;
			*(int*)(r4 + r8) = r6;
			++r5;
			r5 = 4;
			r3 = hl_types_ArrayBase_allocI32(r4,r5);
			if( r3 == NULL ) hl_null_access();
			r6 = r3->length;
			if( ((unsigned)r1) < ((unsigned)r6) ) goto label$d055329_30_154;
			r5 = 0;
			goto label$d055329_30_158;
			label$d055329_30_154:
			r4 = r3->bytes;
			r6 = 2;
			r6 = r1 << r6;
			r5 = *(int*)(r4 + r6);
			label$d055329_30_158:
			return r5;
		case 2:
		case 14:
		case 15:
			return r1;
		case 16:
		case 17:
			r9 = (String)s$Bit_packed_format;
			r7 = haxe_Exception_thrown(((vdynamic*)r9));
			hl_throw((vdynamic*)r7);
		case 21:
			r2 = ((hxd_PixelFormat_S3TC*)r0)->p0;
			r9 = (String)s$Not_supported;
			r7 = haxe_Exception_thrown(((vdynamic*)r9));
			hl_throw((vdynamic*)r7);
	}
	label$d055329_30_167:
	r2 = 0;
	return r2;
}

hxd__Pixels hxd_Pixels_alloc(int r0,int r1,venum* r2) {
	hxd__Pixels r3;
	haxe__io__Bytes r4;
	int *r6;
	int r5;
	r3 = (hxd__Pixels)hl_alloc_obj(&t$hxd_Pixels);
	r5 = hxd_Pixels_calcDataSize(r0,r1,r2);
	r4 = haxe_io_Bytes_alloc(r5);
	r6 = NULL;
	hxd_Pixels_new(r3,r0,r1,r4,r2,r6);
	return r3;
}

int hxd_Pixels_toDDS__$1(hl__types__ArrayObj r0,hl__types__ArrayObj r1) {
	hxd__Pixels r4;
	vdynamic *r5;
	varray *r6;
	int r2, r3, r7, r8;
	if( r1 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r1->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$d055329_32_6;
	r4 = NULL;
	goto label$d055329_32_9;
	label$d055329_32_6:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (hxd__Pixels)r5;
	label$d055329_32_9:
	if( r4 == NULL ) hl_null_access();
	r2 = r4->width;
	r3 = 0;
	r7 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r7) ) goto label$d055329_32_16;
	r4 = NULL;
	goto label$d055329_32_19;
	label$d055329_32_16:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r3];
	r4 = (hxd__Pixels)r5;
	label$d055329_32_19:
	if( r4 == NULL ) hl_null_access();
	r3 = r4->height;
	r2 = r2 * r3;
	if( r0 == NULL ) hl_null_access();
	r3 = 0;
	r7 = r0->length;
	if( ((unsigned)r3) < ((unsigned)r7) ) goto label$d055329_32_28;
	r4 = NULL;
	goto label$d055329_32_31;
	label$d055329_32_28:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r3];
	r4 = (hxd__Pixels)r5;
	label$d055329_32_31:
	if( r4 == NULL ) hl_null_access();
	r3 = r4->width;
	r7 = 0;
	r8 = r0->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$d055329_32_38;
	r4 = NULL;
	goto label$d055329_32_41;
	label$d055329_32_38:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r7];
	r4 = (hxd__Pixels)r5;
	label$d055329_32_41:
	if( r4 == NULL ) hl_null_access();
	r7 = r4->height;
	r3 = r3 * r7;
	r2 = r2 - r3;
	return r2;
}

haxe__io__Bytes hxd_Pixels_toDDS(hl__types__ArrayObj r0,bool* r1) {
	String r8, r31;
	hxd__Pixels r9, r12, r18;
	hl__types__ArrayObj r5, r16, r21;
	hl_type *r13;
	venum *r11, *r17;
	haxe__io__Bytes r36, r38;
	bool r2, r19, r22;
	vclosure *r23, *r24;
	int *r29;
	vdynamic *r7;
	vbyte *r30;
	varray *r10;
	int r4, r6, r14, r15, r20, r25, r26, r27, r28, r32, r33, r34, r35, r37, r39;
	static vclosure cl$0 = { &t$fun_1414408, hxd_Pixels_toDDS__$1, 0 };
	if( r1 ) goto label$d055329_33_3;
	r2 = false;
	goto label$d055329_33_4;
	label$d055329_33_3:
	r2 = *r1;
	label$d055329_33_4:
	if( r0 == NULL ) hl_null_access();
	r4 = r0->length;
	r6 = 0;
	if( r4 != r6 ) goto label$d055329_33_11;
	r8 = (String)s$Must_contain_at_least_one_image;
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$d055329_33_11:
	r4 = 0;
	r6 = r0->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$d055329_33_16;
	r9 = NULL;
	goto label$d055329_33_19;
	label$d055329_33_16:
	r10 = r0->array;
	r7 = ((vdynamic**)(r10 + 1))[r4];
	r9 = (hxd__Pixels)r7;
	label$d055329_33_19:
	if( r9 == NULL ) hl_null_access();
	r11 = r9->innerFormat;
	r13 = &t$hl_types_ArrayObj;
	r4 = 0;
	r10 = hl_alloc_array(r13,r4);
	r5 = hl_types_ArrayObj_alloc(r10);
	r4 = 0;
	r6 = 0;
	label$d055329_33_27:
	if( r0 == NULL ) hl_null_access();
	r15 = r0->length;
	if( r6 >= r15 ) goto label$d055329_33_102;
	r15 = r0->length;
	if( ((unsigned)r6) < ((unsigned)r15) ) goto label$d055329_33_35;
	r12 = NULL;
	goto label$d055329_33_38;
	label$d055329_33_35:
	r10 = r0->array;
	r7 = ((vdynamic**)(r10 + 1))[r6];
	r12 = (hxd__Pixels)r7;
	label$d055329_33_38:
	++r6;
	if( r12 == NULL ) hl_null_access();
	r17 = r12->innerFormat;
	if( r17 == r11 ) goto label$d055329_33_45;
	r8 = (String)s$61cf523;
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$d055329_33_45:
	r15 = r12->dataSize;
	r14 = r4 + r15;
	r4 = r14;
	r19 = false;
	r14 = 0;
	label$d055329_33_50:
	if( r5 == NULL ) hl_null_access();
	r20 = r5->length;
	if( r14 >= r20 ) goto label$d055329_33_93;
	r20 = r5->length;
	if( ((unsigned)r14) < ((unsigned)r20) ) goto label$d055329_33_58;
	r16 = NULL;
	goto label$d055329_33_61;
	label$d055329_33_58:
	r10 = r5->array;
	r7 = ((vdynamic**)(r10 + 1))[r14];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_33_61:
	++r14;
	if( r16 == NULL ) hl_null_access();
	r15 = 0;
	r20 = r16->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_33_68;
	r18 = NULL;
	goto label$d055329_33_71;
	label$d055329_33_68:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r15];
	r18 = (hxd__Pixels)r7;
	label$d055329_33_71:
	if( r18 == NULL ) hl_null_access();
	r15 = r18->width;
	if( r12 == NULL ) hl_null_access();
	r20 = r12->width;
	if( r15 != r20 ) goto label$d055329_33_92;
	r15 = 0;
	r20 = r16->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_33_81;
	r18 = NULL;
	goto label$d055329_33_84;
	label$d055329_33_81:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r15];
	r18 = (hxd__Pixels)r7;
	label$d055329_33_84:
	if( r18 == NULL ) hl_null_access();
	r15 = r18->height;
	r20 = r12->height;
	if( r15 != r20 ) goto label$d055329_33_92;
	r15 = hl_types_ArrayObj_push(r16,((vdynamic*)r12));
	r22 = true;
	r19 = r22;
	goto label$d055329_33_93;
	label$d055329_33_92:
	goto label$d055329_33_50;
	label$d055329_33_93:
	if( r19 ) goto label$d055329_33_101;
	r13 = &t$hxd_Pixels;
	r14 = 1;
	r10 = hl_alloc_array(r13,r14);
	r14 = 0;
	((hxd__Pixels*)(r10 + 1))[r14] = r12;
	r21 = hl_types_ArrayObj_alloc(r10);
	r14 = hl_types_ArrayObj_push(r5,((vdynamic*)r21));
	label$d055329_33_101:
	goto label$d055329_33_27;
	label$d055329_33_102:
	if( r5 == NULL ) hl_null_access();
	r23 = &cl$0;
	if( r23 ) goto label$d055329_33_107;
	r24 = NULL;
	goto label$d055329_33_108;
	label$d055329_33_107:
	r24 = hl_alloc_closure_ptr(&t$fun_51b844e,hxd_Pixels_toDDS__$2,r23);
	label$d055329_33_108:
	hl_types_ArrayObj_sort(r5,r24);
	r6 = 0;
	r14 = r5->length;
	if( ((unsigned)r6) < ((unsigned)r14) ) goto label$d055329_33_114;
	r16 = NULL;
	goto label$d055329_33_117;
	label$d055329_33_114:
	r10 = r5->array;
	r7 = ((vdynamic**)(r10 + 1))[r6];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_33_117:
	if( r16 == NULL ) hl_null_access();
	r6 = r16->length;
	r14 = 0;
	r15 = r5->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$d055329_33_124;
	r16 = NULL;
	goto label$d055329_33_127;
	label$d055329_33_124:
	r10 = r5->array;
	r7 = ((vdynamic**)(r10 + 1))[r14];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_33_127:
	if( r16 == NULL ) hl_null_access();
	r14 = 0;
	r15 = r16->length;
	if( ((unsigned)r14) < ((unsigned)r15) ) goto label$d055329_33_133;
	r12 = NULL;
	goto label$d055329_33_136;
	label$d055329_33_133:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r14];
	r12 = (hxd__Pixels)r7;
	label$d055329_33_136:
	if( r12 == NULL ) hl_null_access();
	r14 = r12->width;
	r15 = 0;
	r20 = r5->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_33_143;
	r16 = NULL;
	goto label$d055329_33_146;
	label$d055329_33_143:
	r10 = r5->array;
	r7 = ((vdynamic**)(r10 + 1))[r15];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_33_146:
	if( r16 == NULL ) hl_null_access();
	r15 = 0;
	r20 = r16->length;
	if( ((unsigned)r15) < ((unsigned)r20) ) goto label$d055329_33_152;
	r12 = NULL;
	goto label$d055329_33_155;
	label$d055329_33_152:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r15];
	r12 = (hxd__Pixels)r7;
	label$d055329_33_155:
	if( r12 == NULL ) hl_null_access();
	r15 = r12->height;
	r20 = 1;
	r25 = r5->length;
	label$d055329_33_159:
	if( r20 >= r25 ) goto label$d055329_33_265;
	r26 = r20;
	++r20;
	if( r5 == NULL ) hl_null_access();
	r28 = r5->length;
	if( ((unsigned)r26) < ((unsigned)r28) ) goto label$d055329_33_168;
	r16 = NULL;
	goto label$d055329_33_171;
	label$d055329_33_168:
	r10 = r5->array;
	r7 = ((vdynamic**)(r10 + 1))[r26];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_33_171:
	if( r16 == NULL ) hl_null_access();
	r27 = r16->length;
	if( r27 == r6 ) goto label$d055329_33_196;
	r8 = (String)s$cb05fd5;
	r27 = r26;
	r29 = &r27;
	r30 = hl_itos(r27,r29);
	r31 = String___alloc__(r30,r27);
	r8 = String___add__(r8,r31);
	r31 = (String)s$e265492;
	r8 = String___add__(r8,r31);
	r27 = r16->length;
	r29 = &r27;
	r30 = hl_itos(r27,r29);
	r31 = String___alloc__(r30,r27);
	r8 = String___add__(r8,r31);
	r31 = (String)s$_should_be_;
	r8 = String___add__(r8,r31);
	r27 = r6;
	r29 = &r27;
	r30 = hl_itos(r27,r29);
	r31 = String___alloc__(r30,r27);
	r8 = String___add__(r8,r31);
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$d055329_33_196:
	r27 = r14 >> r26;
	r32 = 0;
	if( r27 != r32 ) goto label$d055329_33_201;
	r28 = 1;
	r27 = r28;
	label$d055329_33_201:
	r28 = r15 >> r26;
	r33 = 0;
	if( r28 != r33 ) goto label$d055329_33_206;
	r32 = 1;
	r28 = r32;
	label$d055329_33_206:
	r32 = 0;
	r33 = r16->length;
	if( ((unsigned)r32) < ((unsigned)r33) ) goto label$d055329_33_211;
	r12 = NULL;
	goto label$d055329_33_214;
	label$d055329_33_211:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r32];
	r12 = (hxd__Pixels)r7;
	label$d055329_33_214:
	if( r12 == NULL ) hl_null_access();
	r32 = r12->width;
	r33 = 0;
	r34 = r16->length;
	if( ((unsigned)r33) < ((unsigned)r34) ) goto label$d055329_33_221;
	r12 = NULL;
	goto label$d055329_33_224;
	label$d055329_33_221:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r33];
	r12 = (hxd__Pixels)r7;
	label$d055329_33_224:
	if( r12 == NULL ) hl_null_access();
	r33 = r12->height;
	if( r32 != r27 ) goto label$d055329_33_228;
	if( r33 == r28 ) goto label$d055329_33_264;
	label$d055329_33_228:
	r8 = (String)s$Invalid_mip_level_size_;
	r34 = r26;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r8 = String___add__(r8,r31);
	r31 = (String)s$e265492;
	r8 = String___add__(r8,r31);
	r34 = r32;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r8 = String___add__(r8,r31);
	r31 = (String)s$x;
	r8 = String___add__(r8,r31);
	r34 = r33;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r8 = String___add__(r8,r31);
	r31 = (String)s$_should_be_;
	r8 = String___add__(r8,r31);
	r34 = r27;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r8 = String___add__(r8,r31);
	r31 = (String)s$x;
	r8 = String___add__(r8,r31);
	r34 = r28;
	r29 = &r34;
	r30 = hl_itos(r34,r29);
	r31 = String___alloc__(r30,r34);
	r8 = String___add__(r8,r31);
	r7 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r7);
	label$d055329_33_264:
	goto label$d055329_33_159;
	label$d055329_33_265:
	r25 = 128;
	r20 = r4 + r25;
	r36 = haxe_io_Bytes_alloc(r20);
	r20 = 0;
	if( r36 == NULL ) hl_null_access();
	r26 = 542327876;
	haxe_io_Bytes_setInt32(r36,r20,r26);
	r26 = 4;
	r25 = r20 + r26;
	r26 = 124;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 135183;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	haxe_io_Bytes_setInt32(r36,r25,r14);
	r26 = 4;
	r25 = r25 + r26;
	haxe_io_Bytes_setInt32(r36,r25,r15);
	r26 = 4;
	r25 = r25 + r26;
	if( r9 == NULL ) hl_null_access();
	r26 = r9->stride;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 1;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	if( r5 == NULL ) hl_null_access();
	r26 = r5->length;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 0;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r26 = 32;
	haxe_io_Bytes_setInt32(r36,r25,r26);
	r26 = 4;
	r25 = r25 + r26;
	r20 = r25;
	if( r11 == NULL ) hl_null_access();
	r25 = HL__ENUM_INDEX__(r11);
	switch(r25) {
		default:
			r25 = 3;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r26 = 0;
			if( r25 >= r26 ) goto label$d055329_33_360;
			r19 = false;
			goto label$d055329_33_361;
			label$d055329_33_360:
			r19 = true;
			label$d055329_33_361:
			r26 = 4;
			haxe_io_Bytes_setInt32(r36,r20,r26);
			r26 = 4;
			r25 = r20 + r26;
			r20 = r25;
			r25 = HL__ENUM_INDEX__(r11);
			switch(r25) {
				default:
				case 0:
				case 1:
				case 2:
				case 5:
				case 8:
					r8 = (String)s$Unsupported_format_;
					r31 = Std_string(((vdynamic*)r11));
					r8 = String___add__(r8,r31);
					r7 = haxe_Exception_thrown(((vdynamic*)r8));
					hl_throw((vdynamic*)r7);
				case 3:
					r26 = 113;
					r25 = r26;
					goto label$d055329_33_390;
				case 4:
					r26 = 116;
					r25 = r26;
					goto label$d055329_33_390;
				case 6:
					r26 = 111;
					r25 = r26;
					goto label$d055329_33_390;
				case 7:
					r26 = 114;
					r25 = r26;
					goto label$d055329_33_390;
				case 9:
					r26 = 112;
					r25 = r26;
					goto label$d055329_33_390;
				case 10:
					r26 = 115;
					r25 = r26;
			}
			label$d055329_33_390:
			haxe_io_Bytes_setInt32(r36,r20,r25);
			r27 = 4;
			r26 = r20 + r27;
			r20 = r26;
			r25 = r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r20 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r20 = r25;
			goto label$d055329_33_467;
		case 0:
		case 1:
		case 2:
			r26 = 65;
			haxe_io_Bytes_setInt32(r36,r20,r26);
			r26 = 4;
			r25 = r20 + r26;
			r26 = 0;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r26 = 32;
			haxe_io_Bytes_setInt32(r36,r25,r26);
			r26 = 4;
			r25 = r25 + r26;
			r20 = r25;
			r25 = 0;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r20,r27);
			r27 = 4;
			r26 = r20 + r27;
			r25 = 1;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r26,r27);
			r27 = 4;
			r26 = r26 + r27;
			r25 = 2;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r26,r27);
			r27 = 4;
			r26 = r26 + r27;
			r25 = 3;
			r25 = hxd_Pixels_getChannelOffset(r11,r25);
			r27 = 255;
			r32 = 8;
			r28 = r25 * r32;
			r27 = r27 << r28;
			haxe_io_Bytes_setInt32(r36,r26,r27);
			r27 = 4;
			r26 = r26 + r27;
			r20 = r26;
	}
	label$d055329_33_467:
	if( r0 == NULL ) hl_null_access();
	r26 = r0->length;
	r27 = 1;
	if( r26 != r27 ) goto label$d055329_33_473;
	r26 = 0;
	goto label$d055329_33_474;
	label$d055329_33_473:
	r26 = 8;
	label$d055329_33_474:
	r27 = 4096;
	r26 = r26 | r27;
	r27 = r5->length;
	r28 = 1;
	if( r27 != r28 ) goto label$d055329_33_481;
	r27 = 0;
	goto label$d055329_33_482;
	label$d055329_33_481:
	r27 = 4194304;
	label$d055329_33_482:
	r26 = r26 | r27;
	haxe_io_Bytes_setInt32(r36,r20,r26);
	r26 = 4;
	r25 = r20 + r26;
	r20 = r25;
	r25 = 1536;
	r27 = 1;
	if( r27 >= r6 ) goto label$d055329_33_492;
	r26 = 2048;
	goto label$d055329_33_493;
	label$d055329_33_492:
	r26 = 0;
	label$d055329_33_493:
	r25 = r25 | r26;
	r27 = 2;
	if( r27 >= r6 ) goto label$d055329_33_498;
	r26 = 4096;
	goto label$d055329_33_499;
	label$d055329_33_498:
	r26 = 0;
	label$d055329_33_499:
	r25 = r25 | r26;
	r27 = 3;
	if( r27 >= r6 ) goto label$d055329_33_504;
	r26 = 8192;
	goto label$d055329_33_505;
	label$d055329_33_504:
	r26 = 0;
	label$d055329_33_505:
	r25 = r25 | r26;
	r27 = 4;
	if( r27 >= r6 ) goto label$d055329_33_510;
	r26 = 16384;
	goto label$d055329_33_511;
	label$d055329_33_510:
	r26 = 0;
	label$d055329_33_511:
	r25 = r25 | r26;
	r27 = 5;
	if( r27 >= r6 ) goto label$d055329_33_516;
	r26 = 32768;
	goto label$d055329_33_517;
	label$d055329_33_516:
	r26 = 0;
	label$d055329_33_517:
	r25 = r25 | r26;
	if( !r2 ) goto label$d055329_33_521;
	r27 = r25;
	goto label$d055329_33_522;
	label$d055329_33_521:
	r27 = 0;
	label$d055329_33_522:
	haxe_io_Bytes_setInt32(r36,r20,r27);
	r27 = 4;
	r26 = r20 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r27 = 0;
	haxe_io_Bytes_setInt32(r36,r26,r27);
	r27 = 4;
	r26 = r26 + r27;
	r20 = r26;
	r26 = 0;
	r27 = r6;
	label$d055329_33_540:
	if( r26 >= r27 ) goto label$d055329_33_578;
	r28 = r26;
	++r26;
	r32 = 0;
	if( r5 == NULL ) hl_null_access();
	r33 = r5->length;
	label$d055329_33_547:
	if( r32 >= r33 ) goto label$d055329_33_577;
	r34 = r32;
	++r32;
	if( r5 == NULL ) hl_null_access();
	r37 = r5->length;
	if( ((unsigned)r34) < ((unsigned)r37) ) goto label$d055329_33_556;
	r16 = NULL;
	goto label$d055329_33_559;
	label$d055329_33_556:
	r10 = r5->array;
	r7 = ((vdynamic**)(r10 + 1))[r34];
	r16 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	label$d055329_33_559:
	if( r16 == NULL ) hl_null_access();
	r37 = r16->length;
	if( ((unsigned)r28) < ((unsigned)r37) ) goto label$d055329_33_564;
	r12 = NULL;
	goto label$d055329_33_567;
	label$d055329_33_564:
	r10 = r16->array;
	r7 = ((vdynamic**)(r10 + 1))[r28];
	r12 = (hxd__Pixels)r7;
	label$d055329_33_567:
	if( r36 == NULL ) hl_null_access();
	if( r12 == NULL ) hl_null_access();
	r38 = r12->bytes;
	r37 = r12->offset;
	r39 = r12->dataSize;
	haxe_io_Bytes_blit(r36,r20,r38,r37,r39);
	r37 = r12->dataSize;
	r35 = r20 + r37;
	r20 = r35;
	goto label$d055329_33_547;
	label$d055329_33_577:
	goto label$d055329_33_540;
	label$d055329_33_578:
	return r36;
}

