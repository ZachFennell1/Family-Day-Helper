// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <hxd/fmt/hmd/Reader.h>
#include <hxd/fmt/hmd/Property.h>
extern String s$Unknown_property_;
#include <hl/natives.h>
String String___alloc__(vbyte*,int);
String String___add__(String,String);
vdynamic* haxe_Exception_thrown(vdynamic*);
double haxe_io_Input_readFloat(haxe__io__Input);
extern hl_type t$hxd_fmt_hmd_Property;
extern String s$Obsolete_HasMaterialFlags;
extern venum* g$69da9ba;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
#include <haxe/io/Encoding.h>
String haxe_io_Input_readString(haxe__io__Input,int,venum*);
extern hxd__fmt__hmd__$Reader g$_hxd_fmt_hmd_Reader;
extern hl_type t$haxe_ds_StringMap;
void haxe_ds_StringMap_new(haxe__ds__StringMap);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
#include <hxd/fmt/hmd/Position.h>
extern hl_type t$hxd_fmt_hmd_Position;
void hxd_fmt_hmd_Position_new(hxd__fmt__hmd__Position);
#include <h3d/col/Bounds.h>
extern hl_type t$h3d_col_Bounds;
void h3d_col_Bounds_new(h3d__col__Bounds);
#include <hxd/fmt/hmd/Skin.h>
#include <hxd/fmt/hmd/SkinJoint.h>
#include <hxd/fmt/hmd/SkinSplit.h>
#include <hl/types/ArrayBytes_Int.h>
extern hl_type t$hxd_fmt_hmd_Skin;
void hxd_fmt_hmd_Skin_new(hxd__fmt__hmd__Skin);
extern hl_type t$hxd_fmt_hmd_SkinJoint;
int haxe_io_Input_readUInt16(haxe__io__Input);
void hxd_fmt_hmd_SkinJoint_new(hxd__fmt__hmd__SkinJoint);
extern hl_type t$hxd_fmt_hmd_SkinSplit;
void hxd_fmt_hmd_SkinSplit_new(hxd__fmt__hmd__SkinSplit);
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
int hl_types_ArrayBytes_Int_push(hl__types__ArrayBytes_Int,int);
#include <hxd/fmt/hmd/Data.h>
#include <hxd/fmt/hmd/Geometry.h>
#include <hxd/fmt/hmd/GeometryFormat.h>
#include <hxd/fmt/hmd/Material.h>
#include <h2d/BlendMode.h>
#include <hxd/fmt/hmd/Model.h>
#include <hxd/fmt/hmd/Animation.h>
#include <hxd/fmt/hmd/AnimationObject.h>
#include <hxd/fmt/hmd/AnimationEvent.h>
extern hl_type t$hxd_fmt_hmd_Data;
void hxd_fmt_hmd_Data_new(hxd__fmt__hmd__Data);
extern String s$HMD;
int String___compare(String,vdynamic*);
vdynamic* String_charCodeAt(String,int);
extern hl_type t$_i32;
extern String s$FBX_was_not_converted_to_HMD;
extern hl_type t$String;
extern String s$Invalid_HMD_header_;
extern String s$Can_t_read_HMD_v;
extern hl_type t$hxd_fmt_hmd_Geometry;
int haxe_io_Input_readInt32(haxe__io__Input);
void hxd_fmt_hmd_Geometry_new(hxd__fmt__hmd__Geometry);
extern hl_type t$hxd_fmt_hmd_GeometryFormat;
void hxd_fmt_hmd_GeometryFormat_new(hxd__fmt__hmd__GeometryFormat,String,int);
extern hl_type t$hxd_fmt_hmd_Material;
void hxd_fmt_hmd_Material_new(hxd__fmt__hmd__Material);
int hl_types_ArrayObj_indexOf(hl__types__ArrayObj,vdynamic*,vdynamic*);
extern hl_type t$hxd_fmt_hmd_Model;
void hxd_fmt_hmd_Model_new(hxd__fmt__hmd__Model);
extern hl_type t$hxd_fmt_hmd_Animation;
void hxd_fmt_hmd_Animation_new(hxd__fmt__hmd__Animation);
extern hl_type t$hxd_fmt_hmd_AnimationObject;
void hxd_fmt_hmd_AnimationObject_new(hxd__fmt__hmd__AnimationObject);
extern hl_type t$hxd_fmt_hmd_AnimationEvent;
void hxd_fmt_hmd_AnimationEvent_new(hxd__fmt__hmd__AnimationEvent);
#include <haxe/io/Bytes.h>
haxe__io__Bytes haxe_io_Input_read(haxe__io__Input,int);

void hxd_fmt_hmd_Reader_new(hxd__fmt__hmd__Reader r0,haxe__io__Input r1) {
	r0->i = r1;
	return;
}

venum* hxd_fmt_hmd_Reader_readProperty(hxd__fmt__hmd__Reader r0) {
	String r4, r8;
	venum *r9;
	double r10;
	int *r6;
	vdynamic *r3;
	haxe__io__Input r2;
	vbyte *r7;
	int r1, r5;
	r2 = r0->i;
	if( r2 == NULL ) hl_null_access();
	r1 = ((int (*)(haxe__io__Input))r2->$type->vobj_proto[0])(r2);
	switch(r1) {
		default:
			r4 = (String)s$Unknown_property_;
			r5 = r1;
			r6 = &r5;
			r7 = hl_itos(r5,r6);
			r8 = String___alloc__(r7,r5);
			r4 = String___add__(r4,r8);
			r3 = haxe_Exception_thrown(((vdynamic*)r4));
			hl_throw((vdynamic*)r3);
		case 0:
			r2 = r0->i;
			if( r2 == NULL ) hl_null_access();
			r10 = haxe_io_Input_readFloat(r2);
			r9 = hl_alloc_enum(&t$hxd_fmt_hmd_Property,0);
			((hxd_fmt_hmd_Property_CameraFOVY*)r9)->p0 = r10;
			return r9;
		case 1:
			r4 = (String)s$Obsolete_HasMaterialFlags;
			r3 = haxe_Exception_thrown(((vdynamic*)r4));
			hl_throw((vdynamic*)r3);
		case 2:
			r9 = (venum*)g$69da9ba;
			return r9;
	}
}

hl__types__ArrayObj hxd_fmt_hmd_Reader_readProps(hxd__fmt__hmd__Reader r0) {
	hl__types__ArrayObj r3;
	venum *r9;
	hl_type *r7;
	haxe__io__Input r4;
	varray *r6;
	int r1, r2, r5, r8;
	r1 = r0->version;
	r2 = 1;
	if( r1 != r2 ) goto label$842e803_3_5;
	r3 = NULL;
	return r3;
	label$842e803_3_5:
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r1 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r5 = 0;
	if( r1 != r5 ) goto label$842e803_3_12;
	r3 = NULL;
	return r3;
	label$842e803_3_12:
	r7 = &t$hxd_fmt_hmd_Property;
	r2 = 0;
	r6 = hl_alloc_array(r7,r2);
	r3 = hl_types_ArrayObj_alloc(r6);
	r2 = 0;
	r5 = r1;
	label$842e803_3_18:
	if( r2 >= r5 ) goto label$842e803_3_25;
	++r2;
	if( r3 == NULL ) hl_null_access();
	r9 = hxd_fmt_hmd_Reader_readProperty(r0);
	r8 = hl_types_ArrayObj_push(r3,((vdynamic*)r9));
	goto label$842e803_3_18;
	label$842e803_3_25:
	return r3;
}

String hxd_fmt_hmd_Reader_readName(hxd__fmt__hmd__Reader r0) {
	String r4;
	venum *r5;
	haxe__io__Input r2;
	int r1, r3;
	r2 = r0->i;
	if( r2 == NULL ) hl_null_access();
	r1 = ((int (*)(haxe__io__Input))r2->$type->vobj_proto[0])(r2);
	r3 = 255;
	if( r1 != r3 ) goto label$842e803_4_7;
	r4 = NULL;
	return r4;
	label$842e803_4_7:
	r2 = r0->i;
	if( r2 == NULL ) hl_null_access();
	r5 = NULL;
	r4 = haxe_io_Input_readString(r2,r1,r5);
	return r4;
}

String hxd_fmt_hmd_Reader_readCachedName(hxd__fmt__hmd__Reader r0) {
	String r1, r3;
	hxd__fmt__hmd__$Reader r6;
	haxe__ds__StringMap r5;
	vdynamic *r4;
	r1 = hxd_fmt_hmd_Reader_readName(r0);
	if( r1 ) goto label$842e803_5_4;
	r3 = NULL;
	return r3;
	label$842e803_5_4:
	r6 = (hxd__fmt__hmd__$Reader)g$_hxd_fmt_hmd_Reader;
	r5 = r6->HMD_STRINGS;
	if( r5 ) goto label$842e803_5_11;
	r5 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r5);
	r6 = (hxd__fmt__hmd__$Reader)g$_hxd_fmt_hmd_Reader;
	r6->HMD_STRINGS = r5;
	label$842e803_5_11:
	r6 = (hxd__fmt__hmd__$Reader)g$_hxd_fmt_hmd_Reader;
	r5 = r6->HMD_STRINGS;
	if( r5 == NULL ) hl_null_access();
	r4 = haxe_ds_StringMap_get(r5,r1);
	r3 = (String)r4;
	if( !r3 ) goto label$842e803_5_18;
	return r3;
	label$842e803_5_18:
	r6 = (hxd__fmt__hmd__$Reader)g$_hxd_fmt_hmd_Reader;
	r5 = r6->HMD_STRINGS;
	if( r5 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r5,r1,((vdynamic*)r1));
	return r1;
}

hxd__fmt__hmd__Position hxd_fmt_hmd_Reader_readPosition(hxd__fmt__hmd__Reader r0,bool* r1) {
	bool r2;
	double r5;
	haxe__io__Input r6;
	hxd__fmt__hmd__Position r3;
	if( r1 ) goto label$842e803_6_3;
	r2 = true;
	goto label$842e803_6_4;
	label$842e803_6_3:
	r2 = *r1;
	label$842e803_6_4:
	r3 = (hxd__fmt__hmd__Position)hl_alloc_obj(&t$hxd_fmt_hmd_Position);
	hxd_fmt_hmd_Position_new(r3);
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->x = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->y = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->z = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->qx = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->qy = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->qz = r5;
	if( !r2 ) goto label$842e803_6_44;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->sx = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->sy = r5;
	r6 = r0->i;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_io_Input_readFloat(r6);
	r3->sz = r5;
	goto label$842e803_6_50;
	label$842e803_6_44:
	r5 = 1.;
	r3->sx = r5;
	r5 = 1.;
	r3->sy = r5;
	r5 = 1.;
	r3->sz = r5;
	label$842e803_6_50:
	return r3;
}

h3d__col__Bounds hxd_fmt_hmd_Reader_readBounds(hxd__fmt__hmd__Reader r0) {
	h3d__col__Bounds r1;
	double r3;
	haxe__io__Input r4;
	r1 = (h3d__col__Bounds)hl_alloc_obj(&t$h3d_col_Bounds);
	h3d_col_Bounds_new(r1);
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_io_Input_readFloat(r4);
	r1->xMin = r3;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_io_Input_readFloat(r4);
	r1->yMin = r3;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_io_Input_readFloat(r4);
	r1->zMin = r3;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_io_Input_readFloat(r4);
	r1->xMax = r3;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_io_Input_readFloat(r4);
	r1->yMax = r3;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_io_Input_readFloat(r4);
	r1->zMax = r3;
	return r1;
}

hxd__fmt__hmd__Skin hxd_fmt_hmd_Reader_readSkin(hxd__fmt__hmd__Reader r0) {
	bool *r19;
	hxd__fmt__hmd__Skin r4;
	String r1, r3;
	hl__types__ArrayObj r5;
	hl_type *r7;
	bool r14, r17, r20;
	hl__types__ArrayBytes_Int r22;
	hxd__fmt__hmd__SkinSplit r21;
	hxd__fmt__hmd__Position r18;
	haxe__io__Input r10;
	vbyte *r23;
	hxd__fmt__hmd__SkinJoint r13;
	int r8, r9, r11, r12, r15, r16, r24;
	varray *r6;
	r1 = hxd_fmt_hmd_Reader_readCachedName(r0);
	if( r1 ) goto label$842e803_8_4;
	r4 = NULL;
	return r4;
	label$842e803_8_4:
	r4 = (hxd__fmt__hmd__Skin)hl_alloc_obj(&t$hxd_fmt_hmd_Skin);
	hxd_fmt_hmd_Skin_new(r4);
	r5 = hxd_fmt_hmd_Reader_readProps(r0);
	r4->props = r5;
	r4->name = r1;
	r7 = &t$hxd_fmt_hmd_SkinJoint;
	r8 = 0;
	r6 = hl_alloc_array(r7,r8);
	r5 = hl_types_ArrayObj_alloc(r6);
	r4->joints = r5;
	r8 = 0;
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r9 = haxe_io_Input_readUInt16(r10);
	label$842e803_8_18:
	if( r8 >= r9 ) goto label$842e803_8_66;
	++r8;
	r13 = (hxd__fmt__hmd__SkinJoint)hl_alloc_obj(&t$hxd_fmt_hmd_SkinJoint);
	hxd_fmt_hmd_SkinJoint_new(r13);
	r5 = hxd_fmt_hmd_Reader_readProps(r0);
	r13->props = r5;
	r3 = hxd_fmt_hmd_Reader_readCachedName(r0);
	r13->name = r3;
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r12 = haxe_io_Input_readUInt16(r10);
	r16 = 32768;
	r15 = r12 & r16;
	r16 = 0;
	if( r15 != r16 ) goto label$842e803_8_36;
	r14 = false;
	goto label$842e803_8_37;
	label$842e803_8_36:
	r14 = true;
	label$842e803_8_37:
	if( !r14 ) goto label$842e803_8_41;
	r16 = 32767;
	r15 = r12 & r16;
	r12 = r15;
	label$842e803_8_41:
	r16 = 1;
	r15 = r12 - r16;
	r13->parent = r15;
	r17 = r14;
	r19 = &r17;
	r18 = hxd_fmt_hmd_Reader_readPosition(r0,r19);
	r13->position = r18;
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readUInt16(r10);
	r16 = 1;
	r15 = r15 - r16;
	r13->bind = r15;
	r15 = r13->bind;
	r16 = 0;
	if( r15 < r16 ) goto label$842e803_8_61;
	r20 = r14;
	r19 = &r20;
	r18 = hxd_fmt_hmd_Reader_readPosition(r0,r19);
	r13->transpos = r18;
	label$842e803_8_61:
	if( r4 == NULL ) hl_null_access();
	r5 = r4->joints;
	if( r5 == NULL ) hl_null_access();
	r15 = hl_types_ArrayObj_push(r5,((vdynamic*)r13));
	goto label$842e803_8_18;
	label$842e803_8_66:
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r8 = ((int (*)(haxe__io__Input))r10->$type->vobj_proto[0])(r10);
	r11 = 0;
	if( r11 >= r8 ) goto label$842e803_8_113;
	if( r4 == NULL ) hl_null_access();
	r7 = &t$hxd_fmt_hmd_SkinSplit;
	r9 = 0;
	r6 = hl_alloc_array(r7,r9);
	r5 = hl_types_ArrayObj_alloc(r6);
	r4->split = r5;
	r9 = 0;
	r11 = r8;
	label$842e803_8_79:
	if( r9 >= r11 ) goto label$842e803_8_113;
	++r9;
	r21 = (hxd__fmt__hmd__SkinSplit)hl_alloc_obj(&t$hxd_fmt_hmd_SkinSplit);
	hxd_fmt_hmd_SkinSplit_new(r21);
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r15 = ((int (*)(haxe__io__Input))r10->$type->vobj_proto[0])(r10);
	r21->materialIndex = r15;
	r15 = 0;
	r23 = hl_alloc_bytes(r15);
	r15 = 0;
	r15 = 0;
	r22 = hl_types_ArrayBase_allocI32(r23,r15);
	r15 = 0;
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r16 = ((int (*)(haxe__io__Input))r10->$type->vobj_proto[0])(r10);
	label$842e803_8_97:
	if( r15 >= r16 ) goto label$842e803_8_106;
	++r15;
	if( r22 == NULL ) hl_null_access();
	r10 = r0->i;
	if( r10 == NULL ) hl_null_access();
	r24 = haxe_io_Input_readUInt16(r10);
	r24 = hl_types_ArrayBytes_Int_push(r22,r24);
	goto label$842e803_8_97;
	label$842e803_8_106:
	if( r21 == NULL ) hl_null_access();
	r21->joints = r22;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->split;
	if( r5 == NULL ) hl_null_access();
	r15 = hl_types_ArrayObj_push(r5,((vdynamic*)r21));
	goto label$842e803_8_79;
	label$842e803_8_113:
	return r4;
}

hxd__fmt__hmd__Data hxd_fmt_hmd_Reader_readHeader(hxd__fmt__hmd__Reader r0) {
	hxd__fmt__hmd__Skin r38;
	bool *r37;
	hxd__fmt__hmd__Model r35;
	String r3, r7, r8;
	hxd__fmt__hmd__Data r1;
	hxd__fmt__hmd__Material r30;
	hxd__fmt__hmd__AnimationEvent r45;
	hxd__fmt__hmd__$Reader r31;
	hl__types__ArrayObj r17, r26;
	hl_type *r19;
	venum *r6, *r32, *r34;
	bool r40;
	h3d__col__Bounds r29;
	hxd__fmt__hmd__GeometryFormat r27;
	hl__types__ArrayBytes_Int r28;
	hxd__fmt__hmd__Geometry r21;
	hxd__fmt__hmd__AnimationObject r41;
	hxd__fmt__hmd__Animation r39;
	double r33;
	hxd__fmt__hmd__Position r36;
	int *r13;
	vdynamic *r9, *r10, *r11;
	haxe__io__Input r4;
	varray *r18;
	vbyte *r12, *r14;
	int r5, r15, r16, r20, r22, r23, r24, r25, r42, r43, r44;
	r1 = (hxd__fmt__hmd__Data)hl_alloc_obj(&t$hxd_fmt_hmd_Data);
	hxd_fmt_hmd_Data_new(r1);
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r5 = 3;
	r6 = NULL;
	r3 = haxe_io_Input_readString(r4,r5,r6);
	r8 = (String)s$HMD;
	if( r3 == r8 || (r3 && r8 && String___compare(r3,(vdynamic*)r8) == 0) ) goto label$842e803_9_29;
	if( r3 == NULL ) hl_null_access();
	r5 = 0;
	r9 = String_charCodeAt(r3,r5);
	r5 = 59;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r5;
	if( r9 != r10 && (!r9 || !r10 || (r9->v.i != r10->v.i)) ) goto label$842e803_9_18;
	r7 = (String)s$FBX_was_not_converted_to_HMD;
	r11 = haxe_Exception_thrown(((vdynamic*)r7));
	hl_throw((vdynamic*)r11);
	label$842e803_9_18:
	r5 = 0;
	r12 = r3->bytes;
	r13 = &r5;
	r14 = hl_url_encode(r12,r13);
	r7 = (String)hl_alloc_obj(&t$String);
	r7->bytes = r14;
	r7->length = r5;
	r8 = (String)s$Invalid_HMD_header_;
	r8 = String___add__(r8,r7);
	r11 = haxe_Exception_thrown(((vdynamic*)r8));
	hl_throw((vdynamic*)r11);
	label$842e803_9_29:
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r15 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r0->version = r15;
	r15 = r0->version;
	r16 = 3;
	if( r16 >= r15 ) goto label$842e803_9_44;
	r7 = (String)s$Can_t_read_HMD_v;
	r15 = r0->version;
	r13 = &r15;
	r12 = hl_itos(r15,r13);
	r8 = String___alloc__(r12,r15);
	r7 = String___add__(r7,r8);
	r11 = haxe_Exception_thrown(((vdynamic*)r7));
	hl_throw((vdynamic*)r11);
	label$842e803_9_44:
	r15 = r0->version;
	r1->version = r15;
	r19 = &t$hxd_fmt_hmd_Geometry;
	r15 = 0;
	r18 = hl_alloc_array(r19,r15);
	r17 = hl_types_ArrayObj_alloc(r18);
	r1->geometries = r17;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readInt32(r4);
	r1->dataPosition = r15;
	r17 = hxd_fmt_hmd_Reader_readProps(r0);
	r1->props = r17;
	r15 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r16 = haxe_io_Input_readInt32(r4);
	label$842e803_9_61:
	if( r15 >= r16 ) goto label$842e803_9_133;
	++r15;
	r21 = (hxd__fmt__hmd__Geometry)hl_alloc_obj(&t$hxd_fmt_hmd_Geometry);
	hxd_fmt_hmd_Geometry_new(r21);
	r17 = hxd_fmt_hmd_Reader_readProps(r0);
	r21->props = r17;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = haxe_io_Input_readInt32(r4);
	r21->vertexCount = r20;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r21->vertexStride = r20;
	r19 = &t$hxd_fmt_hmd_GeometryFormat;
	r20 = 0;
	r18 = hl_alloc_array(r19,r20);
	r17 = hl_types_ArrayObj_alloc(r18);
	r20 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r22 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	label$842e803_9_84:
	if( r20 >= r22 ) goto label$842e803_9_96;
	++r20;
	r7 = hxd_fmt_hmd_Reader_readCachedName(r0);
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r24 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	if( r17 == NULL ) hl_null_access();
	r27 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(&t$hxd_fmt_hmd_GeometryFormat);
	hxd_fmt_hmd_GeometryFormat_new(r27,r7,r24);
	r25 = hl_types_ArrayObj_push(r17,((vdynamic*)r27));
	goto label$842e803_9_84;
	label$842e803_9_96:
	if( r21 == NULL ) hl_null_access();
	r21->vertexFormat = r17;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = haxe_io_Input_readInt32(r4);
	r21->vertexPosition = r20;
	r20 = 0;
	r12 = hl_alloc_bytes(r20);
	r20 = 0;
	r20 = 0;
	r28 = hl_types_ArrayBase_allocI32(r12,r20);
	r20 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r22 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	label$842e803_9_111:
	if( r20 >= r22 ) goto label$842e803_9_120;
	++r20;
	if( r28 == NULL ) hl_null_access();
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r24 = haxe_io_Input_readInt32(r4);
	r24 = hl_types_ArrayBytes_Int_push(r28,r24);
	goto label$842e803_9_111;
	label$842e803_9_120:
	if( r21 == NULL ) hl_null_access();
	r21->indexCounts = r28;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = haxe_io_Input_readInt32(r4);
	r21->indexPosition = r20;
	r29 = hxd_fmt_hmd_Reader_readBounds(r0);
	r21->bounds = r29;
	if( r1 == NULL ) hl_null_access();
	r26 = r1->geometries;
	if( r26 == NULL ) hl_null_access();
	r20 = hl_types_ArrayObj_push(r26,((vdynamic*)r21));
	goto label$842e803_9_61;
	label$842e803_9_133:
	if( r1 == NULL ) hl_null_access();
	r19 = &t$hxd_fmt_hmd_Material;
	r15 = 0;
	r18 = hl_alloc_array(r19,r15);
	r17 = hl_types_ArrayObj_alloc(r18);
	r1->materials = r17;
	r15 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r16 = haxe_io_Input_readInt32(r4);
	label$842e803_9_143:
	if( r15 >= r16 ) goto label$842e803_9_192;
	++r15;
	r30 = (hxd__fmt__hmd__Material)hl_alloc_obj(&t$hxd_fmt_hmd_Material);
	hxd_fmt_hmd_Material_new(r30);
	r17 = hxd_fmt_hmd_Reader_readProps(r0);
	r30->props = r17;
	r7 = hxd_fmt_hmd_Reader_readName(r0);
	r30->name = r7;
	r7 = hxd_fmt_hmd_Reader_readName(r0);
	r30->diffuseTexture = r7;
	r31 = (hxd__fmt__hmd__$Reader)g$_hxd_fmt_hmd_Reader;
	r17 = r31->BLEND;
	if( r17 == NULL ) hl_null_access();
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r22 = r17->length;
	if( ((unsigned)r20) < ((unsigned)r22) ) goto label$842e803_9_164;
	r32 = NULL;
	goto label$842e803_9_167;
	label$842e803_9_164:
	r18 = r17->array;
	r11 = ((vdynamic**)(r18 + 1))[r20];
	r32 = (venum*)r11;
	label$842e803_9_167:
	r30->blendMode = r32;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r33 = haxe_io_Input_readFloat(r4);
	r17 = r30->props;
	if( !r17 ) goto label$842e803_9_187;
	r17 = r30->props;
	if( r17 == NULL ) hl_null_access();
	r34 = (venum*)g$69da9ba;
	r9 = NULL;
	r20 = hl_types_ArrayObj_indexOf(r17,((vdynamic*)r34),r9);
	r22 = 0;
	if( r20 < r22 ) goto label$842e803_9_187;
	r7 = hxd_fmt_hmd_Reader_readName(r0);
	r30->specularTexture = r7;
	r7 = hxd_fmt_hmd_Reader_readName(r0);
	r30->normalMap = r7;
	label$842e803_9_187:
	if( r1 == NULL ) hl_null_access();
	r17 = r1->materials;
	if( r17 == NULL ) hl_null_access();
	r20 = hl_types_ArrayObj_push(r17,((vdynamic*)r30));
	goto label$842e803_9_143;
	label$842e803_9_192:
	if( r1 == NULL ) hl_null_access();
	r19 = &t$hxd_fmt_hmd_Model;
	r15 = 0;
	r18 = hl_alloc_array(r19,r15);
	r17 = hl_types_ArrayObj_alloc(r18);
	r1->models = r17;
	r15 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r16 = haxe_io_Input_readInt32(r4);
	label$842e803_9_202:
	if( r15 >= r16 ) goto label$842e803_9_261;
	++r15;
	r35 = (hxd__fmt__hmd__Model)hl_alloc_obj(&t$hxd_fmt_hmd_Model);
	hxd_fmt_hmd_Model_new(r35);
	r17 = hxd_fmt_hmd_Reader_readProps(r0);
	r35->props = r17;
	r7 = hxd_fmt_hmd_Reader_readCachedName(r0);
	r35->name = r7;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = haxe_io_Input_readInt32(r4);
	r22 = 1;
	r20 = r20 - r22;
	r35->parent = r20;
	r7 = hxd_fmt_hmd_Reader_readCachedName(r0);
	r35->follow = r7;
	r37 = NULL;
	r36 = hxd_fmt_hmd_Reader_readPosition(r0,r37);
	r35->position = r36;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = haxe_io_Input_readInt32(r4);
	r22 = 1;
	r20 = r20 - r22;
	r35->geometry = r20;
	if( r1 == NULL ) hl_null_access();
	r17 = r1->models;
	if( r17 == NULL ) hl_null_access();
	r20 = hl_types_ArrayObj_push(r17,((vdynamic*)r35));
	r20 = r35->geometry;
	r22 = 0;
	if( r20 >= r22 ) goto label$842e803_9_236;
	goto label$842e803_9_202;
	label$842e803_9_236:
	r20 = 0;
	r12 = hl_alloc_bytes(r20);
	r20 = 0;
	r20 = 0;
	r28 = hl_types_ArrayBase_allocI32(r12,r20);
	r35->materials = r28;
	r20 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r22 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	label$842e803_9_246:
	if( r20 >= r22 ) goto label$842e803_9_257;
	++r20;
	if( r35 == NULL ) hl_null_access();
	r28 = r35->materials;
	if( r28 == NULL ) hl_null_access();
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r24 = haxe_io_Input_readInt32(r4);
	r24 = hl_types_ArrayBytes_Int_push(r28,r24);
	goto label$842e803_9_246;
	label$842e803_9_257:
	if( r35 == NULL ) hl_null_access();
	r38 = hxd_fmt_hmd_Reader_readSkin(r0);
	r35->skin = r38;
	goto label$842e803_9_202;
	label$842e803_9_261:
	if( r1 == NULL ) hl_null_access();
	r19 = &t$hxd_fmt_hmd_Animation;
	r15 = 0;
	r18 = hl_alloc_array(r19,r15);
	r17 = hl_types_ArrayObj_alloc(r18);
	r1->animations = r17;
	r15 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r16 = haxe_io_Input_readInt32(r4);
	label$842e803_9_271:
	if( r15 >= r16 ) goto label$842e803_9_389;
	++r15;
	r39 = (hxd__fmt__hmd__Animation)hl_alloc_obj(&t$hxd_fmt_hmd_Animation);
	hxd_fmt_hmd_Animation_new(r39);
	r17 = hxd_fmt_hmd_Reader_readProps(r0);
	r39->props = r17;
	r7 = hxd_fmt_hmd_Reader_readName(r0);
	r39->name = r7;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = haxe_io_Input_readInt32(r4);
	r39->frames = r20;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r33 = haxe_io_Input_readFloat(r4);
	r39->sampling = r33;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r33 = haxe_io_Input_readFloat(r4);
	r39->speed = r33;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r20 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r23 = 1;
	r22 = r20 & r23;
	r23 = 0;
	if( r22 != r23 ) goto label$842e803_9_301;
	r40 = false;
	goto label$842e803_9_302;
	label$842e803_9_301:
	r40 = true;
	label$842e803_9_302:
	r39->loop = r40;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r22 = haxe_io_Input_readInt32(r4);
	r39->dataPosition = r22;
	r19 = &t$hxd_fmt_hmd_AnimationObject;
	r22 = 0;
	r18 = hl_alloc_array(r19,r22);
	r17 = hl_types_ArrayObj_alloc(r18);
	r39->objects = r17;
	r22 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r23 = haxe_io_Input_readInt32(r4);
	label$842e803_9_316:
	if( r22 >= r23 ) goto label$842e803_9_354;
	++r22;
	r41 = (hxd__fmt__hmd__AnimationObject)hl_alloc_obj(&t$hxd_fmt_hmd_AnimationObject);
	hxd_fmt_hmd_AnimationObject_new(r41);
	r7 = hxd_fmt_hmd_Reader_readCachedName(r0);
	r41->name = r7;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r25 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	r41->flags = r25;
	if( r39 == NULL ) hl_null_access();
	r17 = r39->objects;
	if( r17 == NULL ) hl_null_access();
	r42 = hl_types_ArrayObj_push(r17,((vdynamic*)r41));
	r42 = r41->flags;
	r43 = 64;
	r42 = r42 & r43;
	r43 = 0;
	if( r42 == r43 ) goto label$842e803_9_353;
	r19 = &t$String;
	r42 = 0;
	r18 = hl_alloc_array(r19,r42);
	r17 = hl_types_ArrayObj_alloc(r18);
	r42 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r43 = ((int (*)(haxe__io__Input))r4->$type->vobj_proto[0])(r4);
	label$842e803_9_344:
	if( r42 >= r43 ) goto label$842e803_9_351;
	++r42;
	if( r17 == NULL ) hl_null_access();
	r7 = hxd_fmt_hmd_Reader_readName(r0);
	r44 = hl_types_ArrayObj_push(r17,((vdynamic*)r7));
	goto label$842e803_9_344;
	label$842e803_9_351:
	if( r41 == NULL ) hl_null_access();
	r41->props = r17;
	label$842e803_9_353:
	goto label$842e803_9_316;
	label$842e803_9_354:
	r23 = 2;
	r22 = r20 & r23;
	r23 = 0;
	if( r22 == r23 ) goto label$842e803_9_384;
	if( r39 == NULL ) hl_null_access();
	r19 = &t$hxd_fmt_hmd_AnimationEvent;
	r22 = 0;
	r18 = hl_alloc_array(r19,r22);
	r17 = hl_types_ArrayObj_alloc(r18);
	r39->events = r17;
	r22 = 0;
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r23 = haxe_io_Input_readInt32(r4);
	label$842e803_9_368:
	if( r22 >= r23 ) goto label$842e803_9_384;
	++r22;
	r45 = (hxd__fmt__hmd__AnimationEvent)hl_alloc_obj(&t$hxd_fmt_hmd_AnimationEvent);
	hxd_fmt_hmd_AnimationEvent_new(r45);
	r4 = r0->i;
	if( r4 == NULL ) hl_null_access();
	r25 = haxe_io_Input_readInt32(r4);
	r45->frame = r25;
	r7 = hxd_fmt_hmd_Reader_readCachedName(r0);
	r45->data = r7;
	if( r39 == NULL ) hl_null_access();
	r17 = r39->events;
	if( r17 == NULL ) hl_null_access();
	r25 = hl_types_ArrayObj_push(r17,((vdynamic*)r45));
	goto label$842e803_9_368;
	label$842e803_9_384:
	if( r1 == NULL ) hl_null_access();
	r17 = r1->animations;
	if( r17 == NULL ) hl_null_access();
	r22 = hl_types_ArrayObj_push(r17,((vdynamic*)r39));
	goto label$842e803_9_271;
	label$842e803_9_389:
	return r1;
}

hxd__fmt__hmd__Data hxd_fmt_hmd_Reader_read(hxd__fmt__hmd__Reader r0) {
	hxd__fmt__hmd__Data r1;
	haxe__io__Bytes r2;
	haxe__io__Input r3, r5;
	int r4;
	r1 = hxd_fmt_hmd_Reader_readHeader(r0);
	if( r1 == NULL ) hl_null_access();
	r3 = r0->i;
	if( r3 == NULL ) hl_null_access();
	r5 = r0->i;
	if( r5 == NULL ) hl_null_access();
	r4 = haxe_io_Input_readInt32(r5);
	r2 = haxe_io_Input_read(r3,r4);
	r1->data = r2;
	return r1;
}

