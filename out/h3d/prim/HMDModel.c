// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h3d/prim/HMDModel.h>
int hxd_fmt_hmd_Geometry_get_indexCount(hxd__fmt__hmd__Geometry);
#include <h3d/col/Bounds.h>
#include <hl/types/ArrayObj.h>
#include <hxd/fmt/hmd/GeometryBuffer.h>
hxd__fmt__hmd__GeometryBuffer hxd_fmt_hmd_Library_getBuffers(hxd__fmt__hmd__Library,hxd__fmt__hmd__Geometry,hl__types__ArrayObj,hl__types__ArrayObj,vdynamic*);
#include <h3d/anim/Skin.h>
void hxd_fmt_hmd_Library_loadSkin(hxd__fmt__hmd__Library,hxd__fmt__hmd__Geometry,h3d__anim__Skin,bool*);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
extern hl_type t$vrt_d6bdbca;
extern hl_type t$String;
int String___compare(String,vdynamic*);
extern hl_type t$_i32;
extern String s$Conflicting_alias_;
String String___add__(String,String);
vdynamic* haxe_Exception_thrown(vdynamic*);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
void h3d_prim_HMDModel_allocAlias(h3d__prim__HMDModel,String);
#include <h3d/Engine.h>
#include <h3d/BufferFlag.h>
#include <hxd/fs/FileEntry.h>
#include <hxd/res/Resource.h>
#include <haxe/io/Bytes.h>
#include <hxd/fmt/hmd/GeometryFormat.h>
void h3d_prim_MeshPrimitive_dispose(h3d__prim__MeshPrimitive);
extern hl_type t$h3d_Buffer;
extern hl_type t$h3d_BufferFlag;
#include <hl/natives.h>
extern venum* g$h3d_BufferFlag_LargeBuffer;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void h3d_Buffer_new(h3d__Buffer,int,int,hl__types__ArrayObj);
haxe__io__Bytes haxe_io_Bytes_alloc(int);
void h3d_Buffer_uploadBytes(h3d__Buffer,haxe__io__Bytes,int,int);
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
int hl_types_ArrayBytes_Int_push(hl__types__ArrayBytes_Int,int);
extern hl_type t$h3d_Indexes;
void h3d_Indexes_new(h3d__Indexes,int,bool*);
void h3d_Indexes_uploadBytes(h3d__Indexes,haxe__io__Bytes,int,int);
void h3d_prim_MeshPrimitive_addBuffer(h3d__prim__MeshPrimitive,String,h3d__Buffer,int*);
void h3d_prim_HMDModel_recomputeNormals(h3d__prim__HMDModel,String);
vvirtual* haxe_ds_StringMap_keys(haxe__ds__StringMap);
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_820f49a;
#include <h3d/BufferOffset.h>
#include <h3d/impl/ManagedBuffer.h>
int hxsl_Globals_allocID(String);
vdynamic* haxe_ds_IntMap_get(haxe__ds__IntMap,int);
extern String s$Buffer_;
extern String s$_not_found_for_alias_;
extern String s$Alias_;
extern String s$_for_buffer_;
extern String s$_outside_stride;
#include <hl/types/ArrayBytes_hl_F32.h>
#include <hl/types/ArrayBytes_hl_UI16.h>
#include <h3d/prim/Polygon.h>
extern String s$normal;
extern hl_type t$hxd_fmt_hmd_GeometryFormat;
extern String s$position;
void hxd_fmt_hmd_GeometryFormat_new(hxd__fmt__hmd__GeometryFormat,String,int);
extern hl_type t$hl_types_ArrayBytes_Int;
void hl_types_ArrayBytes_Int_new(hl__types__ArrayBytes_Int);
extern hl_type t$h3d_col_Point;
void h3d_col_Point_new(h3d__col__Point,double*,double*,double*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$hl_types_ArrayBytes_hl_UI16;
void hl_types_ArrayBytes_hl_UI16_new(hl__types__ArrayBytes_hl_UI16);
void hl_types_ArrayBytes_hl_UI16___expand(hl__types__ArrayBytes_hl_UI16,int);
int hl_types_ArrayBytes_hl_UI16_push(hl__types__ArrayBytes_hl_UI16,unsigned short);
extern hl_type t$h3d_prim_Polygon;
void h3d_prim_Polygon_new(h3d__prim__Polygon,hl__types__ArrayObj,hl__types__ArrayBytes_hl_UI16);
void h3d_prim_Polygon_addNormals(h3d__prim__Polygon);
extern hl_type t$hl_types_ArrayBytes_hl_F32;
void hl_types_ArrayBytes_hl_F32_new(hl__types__ArrayBytes_hl_F32);
void hl_types_ArrayBytes_hl_F32___expand(hl__types__ArrayBytes_hl_F32,int);
h3d__Buffer h3d_Buffer_ofFloats(hl__types__ArrayBytes_hl_F32,int,hl__types__ArrayObj);
void h3d_prim_MeshPrimitive_render(h3d__prim__MeshPrimitive,h3d__Engine);
bool h3d_Indexes_isDisposed(h3d__Indexes);
h3d__BufferOffset h3d_prim_MeshPrimitive_getBuffers(h3d__prim__MeshPrimitive,h3d__Engine);
void h3d_Engine_renderMultiBuffers(h3d__Engine,h3d__BufferOffset,h3d__Indexes,int*,int*);
#include <h3d/col/PolygonBuffer.h>
#include <h3d/col/OptimizedCollider.h>
void h3d_col_PolygonBuffer_setData(h3d__col__PolygonBuffer,hl__types__ArrayBytes_hl_F32,hl__types__ArrayBytes_Int,int*,int*);
extern hl_type t$h3d_col_Sphere;
void h3d_col_Sphere_new(h3d__col__Sphere,double*,double*,double*,double*);
extern hl_type t$h3d_col_OptimizedCollider;
extern hl_type t$vrt_016ea5d;
void h3d_col_OptimizedCollider_new(h3d__col__OptimizedCollider,vvirtual*,vvirtual*);
#include <hxd/fmt/hmd/Data.h>
#include <hxd/fmt/hmd/Model.h>
extern hl_type t$h3d_col_PolygonBuffer;
void h3d_col_PolygonBuffer_new(h3d__col__PolygonBuffer);
extern hl_type t$vrt_16e4279;
extern hl_type t$hxd_fs_FileEntry;
extern hl_type t$haxe_ds_StringMap;
void haxe_ds_StringMap_new(haxe__ds__StringMap);
void h3d_prim_MeshPrimitive_new(h3d__prim__MeshPrimitive);

int h3d_prim_HMDModel_triCount(h3d__prim__HMDModel r0) {
	hxd__fmt__hmd__Geometry r3;
	double r1, r4;
	int r2;
	r3 = r0->data;
	if( r3 == NULL ) hl_null_access();
	r2 = hxd_fmt_hmd_Geometry_get_indexCount(r3);
	r1 = (double)r2;
	r4 = 3.;
	r1 = r1 / r4;
	r2 = (int)r1;
	return r2;
}

int h3d_prim_HMDModel_vertexCount(h3d__prim__HMDModel r0) {
	hxd__fmt__hmd__Geometry r2;
	int r1;
	r2 = r0->data;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->vertexCount;
	return r1;
}

h3d__col__Bounds h3d_prim_HMDModel_getBounds(h3d__prim__HMDModel r0) {
	h3d__col__Bounds r1;
	hxd__fmt__hmd__Geometry r2;
	r2 = r0->data;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bounds;
	return r1;
}

void h3d_prim_HMDModel_selectMaterial(h3d__prim__HMDModel r0,int r1) {
	r0->curMaterial = r1;
	return;
}

hxd__fmt__hmd__GeometryBuffer h3d_prim_HMDModel_getDataBuffers(h3d__prim__HMDModel r0,hl__types__ArrayObj r1,hl__types__ArrayObj r2,vdynamic* r3) {
	hxd__fmt__hmd__Geometry r6;
	hxd__fmt__hmd__GeometryBuffer r4;
	hxd__fmt__hmd__Library r5;
	r5 = r0->lib;
	if( r5 == NULL ) hl_null_access();
	r6 = r0->data;
	r4 = hxd_fmt_hmd_Library_getBuffers(r5,r6,r1,r2,r3);
	return r4;
}

void h3d_prim_HMDModel_loadSkin(h3d__prim__HMDModel r0,h3d__anim__Skin r1) {
	bool *r5;
	hxd__fmt__hmd__Geometry r4;
	hxd__fmt__hmd__Library r3;
	r3 = r0->lib;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->data;
	r5 = NULL;
	hxd_fmt_hmd_Library_loadSkin(r3,r4,r1,r5);
	return;
}

void h3d_prim_HMDModel_addAlias(h3d__prim__HMDModel r0,String r1,String r2,int* r3) {
	String r7;
	vvirtual *r8, *r10;
	haxe__ds__StringMap r6;
	haxe__ds__IntMap r12;
	vdynamic *r5;
	int r4, r11;
	if( r3 ) goto label$489bc16_7_3;
	r4 = 0;
	goto label$489bc16_7_4;
	label$489bc16_7_3:
	r4 = *r3;
	label$489bc16_7_4:
	r6 = r0->bufferAliases;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r6,r1);
	r8 = hl_to_virtual(&t$vrt_d6bdbca,(vdynamic*)r5);
	if( !r8 ) goto label$489bc16_7_19;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_vfields(r8)[1] ? (*(String*)(hl_vfields(r8)[1])) : (String)hl_dyn_getp(r8->value,204206281/*realName*/,&t$String);
	if( r7 != r2 && (!r7 || !r2 || String___compare(r7,(vdynamic*)r2) != 0) ) goto label$489bc16_7_14;
	r11 = hl_vfields(r8)[0] ? (*(int*)(hl_vfields(r8)[0])) : (int)hl_dyn_geti(r8->value,4167970/*offset*/,&t$_i32);
	if( r11 == r4 ) goto label$489bc16_7_18;
	label$489bc16_7_14:
	r7 = (String)s$Conflicting_alias_;
	r7 = String___add__(r7,r1);
	r5 = haxe_Exception_thrown(((vdynamic*)r7));
	hl_throw((vdynamic*)r5);
	label$489bc16_7_18:
	return;
	label$489bc16_7_19:
	r6 = r0->bufferAliases;
	if( r6 == NULL ) hl_null_access();
	r10 = hl_alloc_virtual(&t$vrt_d6bdbca);
	if( hl_vfields(r10)[1] ) *(String*)(hl_vfields(r10)[1]) = (String)r2; else hl_dyn_setp(r10->value,204206281/*realName*/,&t$String,r2);
	if( hl_vfields(r10)[0] ) *(int*)(hl_vfields(r10)[0]) = (int)r4; else hl_dyn_seti(r10->value,4167970/*offset*/,&t$_i32,r4);
	haxe_ds_StringMap_set(r6,r1,((vdynamic*)r10));
	r12 = r0->bufferCache;
	if( !r12 ) goto label$489bc16_7_28;
	h3d_prim_HMDModel_allocAlias(r0,r1);
	label$489bc16_7_28:
	return;
}

void h3d_prim_HMDModel_alloc(h3d__prim__HMDModel r0,h3d__Engine r1) {
	String r32;
	bool *r27;
	hxd__fs__FileEntry r12;
	haxe__ds__StringMap r37;
	vvirtual *r36;
	hl__types__ArrayObj r7;
	hxd__res__Resource r13;
	venum *r11;
	hl_type *r9;
	bool r24, r26, r28;
	haxe__io__Bytes r15, r16;
	hxd__fmt__hmd__GeometryFormat r30;
	hl__types__ArrayBytes_Int r17, r20;
	hxd__fmt__hmd__Geometry r5;
	double r21, r22;
	h3d__Buffer r3;
	int *r33;
	vdynamic *r31;
	h3d__Indexes r25;
	vbyte *r18;
	hxd__fmt__hmd__Library r14;
	varray *r8;
	int r4, r6, r10, r19, r23, r29, r34, r35;
	h3d_prim_MeshPrimitive_dispose(((h3d__prim__MeshPrimitive)r0));
	r3 = (h3d__Buffer)hl_alloc_obj(&t$h3d_Buffer);
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->vertexCount;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->vertexStride;
	r9 = &t$h3d_BufferFlag;
	r10 = 1;
	r8 = hl_alloc_array(r9,r10);
	r11 = (venum*)g$h3d_BufferFlag_LargeBuffer;
	r10 = 0;
	((venum**)(r8 + 1))[r10] = r11;
	r7 = hl_types_ArrayObj_alloc(r8);
	h3d_Buffer_new(r3,r4,r6,r7);
	r0->buffer = r3;
	r14 = r0->lib;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->resource;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->entry;
	if( r12 == NULL ) hl_null_access();
	((void (*)(hxd__fs__FileEntry))r12->$type->vobj_proto[2])(r12);
	r4 = r0->dataPosition;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->vertexPosition;
	r4 = r4 + r6;
	((void (*)(hxd__fs__FileEntry,int))r12->$type->vobj_proto[3])(r12,r4);
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->vertexCount;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->vertexStride;
	r4 = r4 * r6;
	r6 = 4;
	r4 = r4 * r6;
	r15 = haxe_io_Bytes_alloc(r4);
	r6 = 0;
	((void (*)(hxd__fs__FileEntry,haxe__io__Bytes,int,int))r12->$type->vobj_proto[5])(r12,r15,r6,r4);
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->vertexCount;
	h3d_Buffer_uploadBytes(r3,r15,r6,r10);
	r6 = 0;
	r0->indexCount = r6;
	r6 = 0;
	r18 = hl_alloc_bytes(r6);
	r6 = 0;
	r6 = 0;
	r17 = hl_types_ArrayBase_allocI32(r18,r6);
	r0->indexesTriPos = r17;
	r6 = 0;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r17 = r5->indexCounts;
	label$489bc16_8_61:
	if( r17 == NULL ) hl_null_access();
	r19 = r17->length;
	if( r6 >= r19 ) goto label$489bc16_8_86;
	r19 = r17->length;
	if( ((unsigned)r6) < ((unsigned)r19) ) goto label$489bc16_8_69;
	r10 = 0;
	goto label$489bc16_8_73;
	label$489bc16_8_69:
	r18 = r17->bytes;
	r19 = 2;
	r19 = r6 << r19;
	r10 = *(int*)(r18 + r19);
	label$489bc16_8_73:
	++r6;
	r19 = r0->indexCount;
	r21 = (double)r19;
	r22 = 3.;
	r21 = r21 / r22;
	r20 = r0->indexesTriPos;
	if( r20 == NULL ) hl_null_access();
	r19 = (int)r21;
	r19 = hl_types_ArrayBytes_Int_push(r20,r19);
	r19 = r0->indexCount;
	r19 = r19 + r10;
	r0->indexCount = r19;
	goto label$489bc16_8_61;
	label$489bc16_8_86:
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->vertexCount;
	r10 = 65536;
	if( r6 > r10 ) goto label$489bc16_8_93;
	r24 = false;
	goto label$489bc16_8_94;
	label$489bc16_8_93:
	r24 = true;
	label$489bc16_8_94:
	r25 = (h3d__Indexes)hl_alloc_obj(&t$h3d_Indexes);
	r6 = r0->indexCount;
	r26 = r24;
	r27 = &r26;
	h3d_Indexes_new(r25,r6,r27);
	r0->indexes = r25;
	if( r12 == NULL ) hl_null_access();
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->indexPosition;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->vertexPosition;
	r10 = r10 + r4;
	r6 = r6 - r10;
	((void (*)(hxd__fs__FileEntry,int))r12->$type->vobj_proto[3])(r12,r6);
	if( !r24 ) goto label$489bc16_8_113;
	r6 = 4;
	goto label$489bc16_8_114;
	label$489bc16_8_113:
	r6 = 2;
	label$489bc16_8_114:
	r10 = r0->indexCount;
	r10 = r10 * r6;
	r16 = haxe_io_Bytes_alloc(r10);
	r10 = 0;
	r19 = r0->indexCount;
	r19 = r19 * r6;
	((void (*)(hxd__fs__FileEntry,haxe__io__Bytes,int,int))r12->$type->vobj_proto[5])(r12,r16,r10,r19);
	r25 = r0->indexes;
	if( r25 == NULL ) hl_null_access();
	r10 = 0;
	r19 = r0->indexCount;
	h3d_Indexes_uploadBytes(r25,r16,r10,r19);
	((void (*)(hxd__fs__FileEntry))r12->$type->vobj_proto[6])(r12);
	r10 = 0;
	r19 = 0;
	r5 = r0->data;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->vertexFormat;
	label$489bc16_8_132:
	if( r7 == NULL ) hl_null_access();
	r29 = r7->length;
	if( r19 >= r29 ) goto label$489bc16_8_156;
	r29 = r7->length;
	if( ((unsigned)r19) < ((unsigned)r29) ) goto label$489bc16_8_140;
	r30 = NULL;
	goto label$489bc16_8_143;
	label$489bc16_8_140:
	r8 = r7->array;
	r31 = ((vdynamic**)(r8 + 1))[r19];
	r30 = (hxd__fmt__hmd__GeometryFormat)r31;
	label$489bc16_8_143:
	++r19;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->name;
	r3 = r0->buffer;
	r23 = r10;
	r33 = &r23;
	h3d_prim_MeshPrimitive_addBuffer(((h3d__prim__MeshPrimitive)r0),r32,r3,r33);
	r34 = r30->format;
	r35 = 7;
	r34 = r34 & r35;
	r29 = r10 + r34;
	r10 = r29;
	goto label$489bc16_8_132;
	label$489bc16_8_156:
	r32 = r0->normalsRecomputed;
	if( !r32 ) goto label$489bc16_8_160;
	r32 = r0->normalsRecomputed;
	h3d_prim_HMDModel_recomputeNormals(r0,r32);
	label$489bc16_8_160:
	r37 = r0->bufferAliases;
	if( r37 == NULL ) hl_null_access();
	r36 = haxe_ds_StringMap_keys(r37);
	label$489bc16_8_163:
	if( r36 == NULL ) hl_null_access();
	if( hl_vfields(r36)[0] ) r28 = ((bool (*)(vdynamic*))hl_vfields(r36)[0])(r36->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r36->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r28 = (bool)ret.v.i;
	}
	if( !r28 ) goto label$489bc16_8_170;
	if( hl_vfields(r36)[1] ) r32 = ((String (*)(vdynamic*))hl_vfields(r36)[1])(r36->value); else {
		r32 = (String)hl_dyn_call_obj(r36->value,&t$fun_820f49a,151160317/*next*/,NULL,NULL);
	}
	h3d_prim_HMDModel_allocAlias(r0,r32);
	goto label$489bc16_8_163;
	label$489bc16_8_170:
	return;
}

void h3d_prim_HMDModel_allocAlias(h3d__prim__HMDModel r0,String r1) {
	String r4, r10;
	vvirtual *r5;
	haxe__ds__StringMap r3;
	haxe__ds__IntMap r7;
	h3d__BufferOffset r9;
	h3d__Buffer r13;
	int *r14;
	vdynamic *r2;
	h3d__impl__ManagedBuffer r12;
	int r8, r11;
	r3 = r0->bufferAliases;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_get(r3,r1);
	r5 = hl_to_virtual(&t$vrt_d6bdbca,(vdynamic*)r2);
	r7 = r0->bufferCache;
	if( r7 == NULL ) hl_null_access();
	if( r5 == NULL ) hl_null_access();
	r4 = hl_vfields(r5)[1] ? (*(String*)(hl_vfields(r5)[1])) : (String)hl_dyn_getp(r5->value,204206281/*realName*/,&t$String);
	r8 = hxsl_Globals_allocID(r4);
	r2 = haxe_ds_IntMap_get(r7,r8);
	r9 = (h3d__BufferOffset)r2;
	if( r9 ) goto label$489bc16_9_20;
	r4 = (String)s$Buffer_;
	r10 = hl_vfields(r5)[1] ? (*(String*)(hl_vfields(r5)[1])) : (String)hl_dyn_getp(r5->value,204206281/*realName*/,&t$String);
	r4 = String___add__(r4,r10);
	r10 = (String)s$_not_found_for_alias_;
	r4 = String___add__(r4,r10);
	r4 = String___add__(r4,r1);
	r2 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r2);
	label$489bc16_9_20:
	if( r9 == NULL ) hl_null_access();
	r8 = r9->offset;
	r11 = hl_vfields(r5)[0] ? (*(int*)(hl_vfields(r5)[0])) : (int)hl_dyn_geti(r5->value,4167970/*offset*/,&t$_i32);
	r8 = r8 + r11;
	r13 = r9->buffer;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->buffer;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->stride;
	if( r11 >= r8 ) goto label$489bc16_9_40;
	r4 = (String)s$Alias_;
	r4 = String___add__(r4,r1);
	r10 = (String)s$_for_buffer_;
	r4 = String___add__(r4,r10);
	r10 = hl_vfields(r5)[1] ? (*(String*)(hl_vfields(r5)[1])) : (String)hl_dyn_getp(r5->value,204206281/*realName*/,&t$String);
	r4 = String___add__(r4,r10);
	r10 = (String)s$_outside_stride;
	r4 = String___add__(r4,r10);
	r2 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r2);
	label$489bc16_9_40:
	r13 = r9->buffer;
	r8 = r9->offset;
	r11 = hl_vfields(r5)[0] ? (*(int*)(hl_vfields(r5)[0])) : (int)hl_dyn_geti(r5->value,4167970/*offset*/,&t$_i32);
	r8 = r8 + r11;
	r14 = &r8;
	h3d_prim_MeshPrimitive_addBuffer(((h3d__prim__MeshPrimitive)r0),r1,r13,r14);
	return;
}

void h3d_prim_HMDModel_recomputeNormals(h3d__prim__HMDModel r0,String r1) {
	String r3;
	hl__types__ArrayObj r7, r12;
	hl_type *r9;
	hl__types__ArrayBytes_hl_F32 r19, r42;
	bool r18, r33;
	hl__types__ArrayBytes_hl_UI16 r38, r39;
	hxd__fmt__hmd__GeometryFormat r11;
	hl__types__ArrayBytes_Int r14, r32;
	hxd__fmt__hmd__Geometry r6;
	h3d__prim__Polygon r41;
	unsigned short r40;
	float r21, r23, r24;
	h3d__Buffer r44;
	double r30, r31, r36, r43;
	h3d__col__Point r28;
	hxd__fmt__hmd__GeometryBuffer r4;
	int *r45;
	double *r34, *r35, *r37;
	vdynamic *r13, *r29;
	vbyte *r22;
	int r10, r15, r16, r17, r20, r25, r26, r27;
	varray *r8;
	hxd__fmt__hmd__Library r5;
	if( r1 ) goto label$489bc16_10_3;
	r3 = (String)s$normal;
	r1 = r3;
	label$489bc16_10_3:
	r5 = r0->lib;
	if( r5 == NULL ) hl_null_access();
	r6 = r0->data;
	r9 = &t$hxd_fmt_hmd_GeometryFormat;
	r10 = 1;
	r8 = hl_alloc_array(r9,r10);
	r11 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(&t$hxd_fmt_hmd_GeometryFormat);
	r3 = (String)s$position;
	r10 = 3;
	hxd_fmt_hmd_GeometryFormat_new(r11,r3,r10);
	r10 = 0;
	((hxd__fmt__hmd__GeometryFormat*)(r8 + 1))[r10] = r11;
	r7 = hl_types_ArrayObj_alloc(r8);
	r12 = NULL;
	r13 = NULL;
	r4 = hxd_fmt_hmd_Library_getBuffers(r5,r6,r7,r12,r13);
	r14 = (hl__types__ArrayBytes_Int)hl_alloc_obj(&t$hl_types_ArrayBytes_Int);
	hl_types_ArrayBytes_Int_new(r14);
	r9 = &t$h3d_col_Point;
	r10 = 0;
	r8 = hl_alloc_array(r9,r10);
	r7 = hl_types_ArrayObj_alloc(r8);
	r10 = 0;
	r6 = r0->data;
	if( r6 == NULL ) hl_null_access();
	r15 = r6->vertexCount;
	label$489bc16_10_29:
	if( r10 >= r15 ) goto label$489bc16_10_121;
	r16 = r10;
	++r10;
	r18 = false;
	if( r4 == NULL ) hl_null_access();
	r19 = r4->vertexes;
	if( r19 == NULL ) hl_null_access();
	r20 = 3;
	r17 = r16 * r20;
	r20 = r19->length;
	if( ((unsigned)r17) < ((unsigned)r20) ) goto label$489bc16_10_43;
	r21 = 0.;
	goto label$489bc16_10_47;
	label$489bc16_10_43:
	r22 = r19->bytes;
	r20 = 2;
	r20 = r17 << r20;
	r21 = *(float*)(r22 + r20);
	label$489bc16_10_47:
	r19 = r4->vertexes;
	if( r19 == NULL ) hl_null_access();
	r20 = 3;
	r17 = r16 * r20;
	r20 = 1;
	r17 = r17 + r20;
	r20 = r19->length;
	if( ((unsigned)r17) < ((unsigned)r20) ) goto label$489bc16_10_57;
	r23 = 0.;
	goto label$489bc16_10_61;
	label$489bc16_10_57:
	r22 = r19->bytes;
	r20 = 2;
	r20 = r17 << r20;
	r23 = *(float*)(r22 + r20);
	label$489bc16_10_61:
	r19 = r4->vertexes;
	if( r19 == NULL ) hl_null_access();
	r20 = 3;
	r17 = r16 * r20;
	r20 = 2;
	r17 = r17 + r20;
	r20 = r19->length;
	if( ((unsigned)r17) < ((unsigned)r20) ) goto label$489bc16_10_71;
	r24 = 0.;
	goto label$489bc16_10_75;
	label$489bc16_10_71:
	r22 = r19->bytes;
	r20 = 2;
	r20 = r17 << r20;
	r24 = *(float*)(r22 + r20);
	label$489bc16_10_75:
	r17 = 0;
	if( r7 == NULL ) hl_null_access();
	r20 = r7->length;
	label$489bc16_10_78:
	if( r17 >= r20 ) goto label$489bc16_10_106;
	r25 = r17;
	++r17;
	if( r7 == NULL ) hl_null_access();
	r27 = r7->length;
	if( ((unsigned)r25) < ((unsigned)r27) ) goto label$489bc16_10_87;
	r28 = NULL;
	goto label$489bc16_10_90;
	label$489bc16_10_87:
	r8 = r7->array;
	r29 = ((vdynamic**)(r8 + 1))[r25];
	r28 = (h3d__col__Point)r29;
	label$489bc16_10_90:
	if( r28 == NULL ) hl_null_access();
	r30 = r28->x;
	r31 = (double)r21;
	if( r30 != r31 ) goto label$489bc16_10_105;
	r30 = r28->y;
	r31 = (double)r23;
	if( r30 != r31 ) goto label$489bc16_10_105;
	r30 = r28->z;
	r31 = (double)r24;
	if( r30 != r31 ) goto label$489bc16_10_105;
	if( r14 == NULL ) hl_null_access();
	r26 = hl_types_ArrayBytes_Int_push(r14,r25);
	r33 = true;
	r18 = r33;
	goto label$489bc16_10_106;
	label$489bc16_10_105:
	goto label$489bc16_10_78;
	label$489bc16_10_106:
	if( r18 ) goto label$489bc16_10_120;
	if( r14 == NULL ) hl_null_access();
	if( r7 == NULL ) hl_null_access();
	r17 = r7->length;
	r17 = hl_types_ArrayBytes_Int_push(r14,r17);
	r28 = (h3d__col__Point)hl_alloc_obj(&t$h3d_col_Point);
	r30 = (double)r21;
	r34 = &r30;
	r31 = (double)r23;
	r35 = &r31;
	r36 = (double)r24;
	r37 = &r36;
	h3d_col_Point_new(r28,r34,r35,r37);
	r17 = hl_types_ArrayObj_push(r7,((vdynamic*)r28));
	label$489bc16_10_120:
	goto label$489bc16_10_29;
	label$489bc16_10_121:
	r10 = 0;
	r38 = (hl__types__ArrayBytes_hl_UI16)hl_alloc_obj(&t$hl_types_ArrayBytes_hl_UI16);
	hl_types_ArrayBytes_hl_UI16_new(r38);
	r16 = 0;
	if( r16 >= r10 ) goto label$489bc16_10_140;
	r16 = r38->length;
	if( r16 >= r10 ) goto label$489bc16_10_140;
	r16 = 1;
	r15 = r10 - r16;
	r16 = 0;
	r40 = (int)r16;
	r16 = (int)r40;
	r17 = r38->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$489bc16_10_136;
	hl_types_ArrayBytes_hl_UI16___expand(r38,r15);
	label$489bc16_10_136:
	r22 = r38->bytes;
	r17 = 1;
	r17 = r15 << r17;
	*(unsigned short*)(r22 + r17) = (unsigned short)r16;
	label$489bc16_10_140:
	r39 = r38;
	r15 = 0;
	if( r4 == NULL ) hl_null_access();
	r32 = r4->indexes;
	label$489bc16_10_144:
	if( r32 == NULL ) hl_null_access();
	r17 = r32->length;
	if( r15 >= r17 ) goto label$489bc16_10_170;
	r17 = r32->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$489bc16_10_152;
	r16 = 0;
	goto label$489bc16_10_156;
	label$489bc16_10_152:
	r22 = r32->bytes;
	r17 = 2;
	r17 = r15 << r17;
	r16 = *(int*)(r22 + r17);
	label$489bc16_10_156:
	++r15;
	if( r39 == NULL ) hl_null_access();
	if( r14 == NULL ) hl_null_access();
	r20 = r14->length;
	if( ((unsigned)r16) < ((unsigned)r20) ) goto label$489bc16_10_163;
	r17 = 0;
	goto label$489bc16_10_167;
	label$489bc16_10_163:
	r22 = r14->bytes;
	r20 = 2;
	r20 = r16 << r20;
	r17 = *(int*)(r22 + r20);
	label$489bc16_10_167:
	r40 = (int)r17;
	r17 = hl_types_ArrayBytes_hl_UI16_push(r39,r40);
	goto label$489bc16_10_144;
	label$489bc16_10_170:
	r41 = (h3d__prim__Polygon)hl_alloc_obj(&t$h3d_prim_Polygon);
	h3d_prim_Polygon_new(r41,r7,r39);
	h3d_prim_Polygon_addNormals(r41);
	r15 = 0;
	r19 = (hl__types__ArrayBytes_hl_F32)hl_alloc_obj(&t$hl_types_ArrayBytes_hl_F32);
	hl_types_ArrayBytes_hl_F32_new(r19);
	r17 = 0;
	if( r17 >= r15 ) goto label$489bc16_10_191;
	r17 = r19->length;
	if( r17 >= r15 ) goto label$489bc16_10_191;
	r17 = 1;
	r16 = r15 - r17;
	r43 = 0.;
	r21 = (float)r43;
	r17 = r19->length;
	if( ((unsigned)r16) < ((unsigned)r17) ) goto label$489bc16_10_187;
	hl_types_ArrayBytes_hl_F32___expand(r19,r16);
	label$489bc16_10_187:
	r22 = r19->bytes;
	r17 = 2;
	r17 = r16 << r17;
	*(float*)(r22 + r17) = r21;
	label$489bc16_10_191:
	r42 = r19;
	r6 = r0->data;
	if( r6 == NULL ) hl_null_access();
	r16 = r6->vertexCount;
	r17 = 3;
	r16 = r16 * r17;
	r20 = r19->length;
	if( r20 >= r16 ) goto label$489bc16_10_210;
	r20 = 1;
	r17 = r16 - r20;
	r43 = 0.;
	r21 = (float)r43;
	r20 = r19->length;
	if( ((unsigned)r17) < ((unsigned)r20) ) goto label$489bc16_10_206;
	hl_types_ArrayBytes_hl_F32___expand(r19,r17);
	label$489bc16_10_206:
	r22 = r19->bytes;
	r20 = 2;
	r20 = r17 << r20;
	*(float*)(r22 + r20) = r21;
	label$489bc16_10_210:
	r16 = 0;
	r17 = 0;
	r6 = r0->data;
	if( r6 == NULL ) hl_null_access();
	r20 = r6->vertexCount;
	label$489bc16_10_215:
	if( r17 >= r20 ) goto label$489bc16_10_274;
	r25 = r17;
	++r17;
	if( r41 == NULL ) hl_null_access();
	r12 = r41->normals;
	if( r12 == NULL ) hl_null_access();
	if( r14 == NULL ) hl_null_access();
	r27 = r14->length;
	if( ((unsigned)r25) < ((unsigned)r27) ) goto label$489bc16_10_227;
	r26 = 0;
	goto label$489bc16_10_231;
	label$489bc16_10_227:
	r22 = r14->bytes;
	r27 = 2;
	r27 = r25 << r27;
	r26 = *(int*)(r22 + r27);
	label$489bc16_10_231:
	r27 = r12->length;
	if( ((unsigned)r26) < ((unsigned)r27) ) goto label$489bc16_10_235;
	r28 = NULL;
	goto label$489bc16_10_238;
	label$489bc16_10_235:
	r8 = r12->array;
	r29 = ((vdynamic**)(r8 + 1))[r26];
	r28 = (h3d__col__Point)r29;
	label$489bc16_10_238:
	if( r42 == NULL ) hl_null_access();
	r26 = r16;
	++r16;
	if( r28 == NULL ) hl_null_access();
	r43 = r28->x;
	r21 = (float)r43;
	r27 = r42->length;
	if( ((unsigned)r26) < ((unsigned)r27) ) goto label$489bc16_10_247;
	hl_types_ArrayBytes_hl_F32___expand(r42,r26);
	label$489bc16_10_247:
	r22 = r42->bytes;
	r27 = 2;
	r27 = r26 << r27;
	*(float*)(r22 + r27) = r21;
	r26 = r16;
	++r16;
	r43 = r28->y;
	r21 = (float)r43;
	r27 = r42->length;
	if( ((unsigned)r26) < ((unsigned)r27) ) goto label$489bc16_10_258;
	hl_types_ArrayBytes_hl_F32___expand(r42,r26);
	label$489bc16_10_258:
	r22 = r42->bytes;
	r27 = 2;
	r27 = r26 << r27;
	*(float*)(r22 + r27) = r21;
	r26 = r16;
	++r16;
	r43 = r28->z;
	r21 = (float)r43;
	r27 = r42->length;
	if( ((unsigned)r26) < ((unsigned)r27) ) goto label$489bc16_10_269;
	hl_types_ArrayBytes_hl_F32___expand(r42,r26);
	label$489bc16_10_269:
	r22 = r42->bytes;
	r27 = 2;
	r27 = r26 << r27;
	*(float*)(r22 + r27) = r21;
	goto label$489bc16_10_215;
	label$489bc16_10_274:
	r17 = 3;
	r12 = NULL;
	r44 = h3d_Buffer_ofFloats(r42,r17,r12);
	r17 = 0;
	r45 = &r17;
	h3d_prim_MeshPrimitive_addBuffer(((h3d__prim__MeshPrimitive)r0),r1,r44,r45);
	r0->normalsRecomputed = r1;
	return;
}

void h3d_prim_HMDModel_render(h3d__prim__HMDModel r0,h3d__Engine r1) {
	bool r6;
	hxd__fmt__hmd__Geometry r10;
	hl__types__ArrayBytes_Int r9;
	h3d__BufferOffset r7;
	double r8, r12;
	int *r13, *r14;
	vbyte *r11;
	h3d__Indexes r5;
	int r3, r4, r15;
	r3 = r0->curMaterial;
	r4 = 0;
	if( r3 >= r4 ) goto label$489bc16_11_5;
	h3d_prim_MeshPrimitive_render(((h3d__prim__MeshPrimitive)r0),r1);
	return;
	label$489bc16_11_5:
	r5 = r0->indexes;
	if( !r5 ) goto label$489bc16_11_11;
	r5 = r0->indexes;
	if( r5 == NULL ) hl_null_access();
	r6 = h3d_Indexes_isDisposed(r5);
	if( !r6 ) goto label$489bc16_11_12;
	label$489bc16_11_11:
	h3d_prim_HMDModel_alloc(r0,r1);
	label$489bc16_11_12:
	r7 = h3d_prim_MeshPrimitive_getBuffers(((h3d__prim__MeshPrimitive)r0),r1);
	r10 = r0->data;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->indexCounts;
	if( r9 == NULL ) hl_null_access();
	r3 = r0->curMaterial;
	r4 = r9->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$489bc16_11_22;
	r3 = 0;
	goto label$489bc16_11_26;
	label$489bc16_11_22:
	r11 = r9->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r11 + r4);
	label$489bc16_11_26:
	r8 = (double)r3;
	r12 = 3.;
	r8 = r8 / r12;
	if( r1 == NULL ) hl_null_access();
	r5 = r0->indexes;
	r9 = r0->indexesTriPos;
	if( r9 == NULL ) hl_null_access();
	r3 = r0->curMaterial;
	r4 = r9->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$489bc16_11_38;
	r3 = 0;
	goto label$489bc16_11_42;
	label$489bc16_11_38:
	r11 = r9->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r11 + r4);
	label$489bc16_11_42:
	r13 = &r3;
	r4 = (int)r8;
	r14 = &r4;
	h3d_Engine_renderMultiBuffers(r1,r7,r5,r13,r14);
	r15 = -1;
	r0->curMaterial = r15;
	return;
}

void h3d_prim_HMDModel_initCollider(h3d__prim__HMDModel r0,h3d__col__PolygonBuffer r1) {
	String r10;
	vvirtual *r18, *r34;
	hl__types__ArrayObj r5, r12;
	hl_type *r7;
	hl__types__ArrayBytes_hl_F32 r14;
	h3d__col__Bounds r19;
	hxd__fmt__hmd__GeometryFormat r9;
	hl__types__ArrayBytes_Int r15;
	hxd__fmt__hmd__Geometry r4;
	h3d__col__OptimizedCollider r33;
	h3d__col__Sphere r24;
	double r20, r21, r22, r23, r25, r27, r29, r31;
	hxd__fmt__hmd__GeometryBuffer r2;
	double *r26, *r28, *r30, *r32;
	int *r16, *r17;
	vdynamic *r13;
	int r8;
	varray *r6;
	hxd__fmt__hmd__Library r3;
	r3 = r0->lib;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->data;
	r7 = &t$hxd_fmt_hmd_GeometryFormat;
	r8 = 1;
	r6 = hl_alloc_array(r7,r8);
	r9 = (hxd__fmt__hmd__GeometryFormat)hl_alloc_obj(&t$hxd_fmt_hmd_GeometryFormat);
	r10 = (String)s$position;
	r8 = 3;
	hxd_fmt_hmd_GeometryFormat_new(r9,r10,r8);
	r8 = 0;
	((hxd__fmt__hmd__GeometryFormat*)(r6 + 1))[r8] = r9;
	r5 = hl_types_ArrayObj_alloc(r6);
	r12 = NULL;
	r13 = NULL;
	r2 = hxd_fmt_hmd_Library_getBuffers(r3,r4,r5,r12,r13);
	if( r1 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r14 = r2->vertexes;
	r15 = r2->indexes;
	r16 = NULL;
	r17 = NULL;
	h3d_col_PolygonBuffer_setData(r1,r14,r15,r16,r17);
	r18 = r0->collider;
	if( r18 ) goto label$489bc16_12_91;
	r4 = r0->data;
	if( r4 == NULL ) hl_null_access();
	r19 = r4->bounds;
	if( r19 == NULL ) hl_null_access();
	r20 = r19->xMax;
	r21 = r19->xMin;
	r20 = r20 - r21;
	r21 = r19->yMax;
	r22 = r19->yMin;
	r21 = r21 - r22;
	r22 = r19->zMax;
	r23 = r19->zMin;
	r22 = r22 - r23;
	r24 = (h3d__col__Sphere)hl_alloc_obj(&t$h3d_col_Sphere);
	r23 = r19->xMin;
	r25 = r19->xMax;
	r23 = r23 + r25;
	r25 = 0.5;
	r23 = r23 * r25;
	r26 = &r23;
	r25 = r19->yMin;
	r27 = r19->yMax;
	r25 = r25 + r27;
	r27 = 0.5;
	r25 = r25 * r27;
	r28 = &r25;
	r27 = r19->zMin;
	r29 = r19->zMax;
	r27 = r27 + r29;
	r29 = 0.5;
	r27 = r27 * r29;
	r30 = &r27;
	r29 = r20 * r20;
	r31 = r21 * r21;
	r29 = r29 + r31;
	r31 = r22 * r22;
	r29 = r29 + r31;
	r29 = hl_math_sqrt(r29);
	r31 = 0.5;
	r29 = r29 * r31;
	r32 = &r29;
	h3d_col_Sphere_new(r24,r26,r28,r30,r32);
	r33 = (h3d__col__OptimizedCollider)hl_alloc_obj(&t$h3d_col_OptimizedCollider);
	if( r24 ) goto label$489bc16_12_71;
	r18 = NULL;
	goto label$489bc16_12_75;
	label$489bc16_12_71:
	r18 = r24->f$4;
	if( r18 ) goto label$489bc16_12_75;
	r18 = hl_to_virtual(&t$vrt_016ea5d,(vdynamic*)r24);
	r24->f$4 = r18;
	label$489bc16_12_75:
	if( r1 ) goto label$489bc16_12_78;
	r34 = NULL;
	goto label$489bc16_12_82;
	label$489bc16_12_78:
	r34 = r1->f$5;
	if( r34 ) goto label$489bc16_12_82;
	r34 = hl_to_virtual(&t$vrt_016ea5d,(vdynamic*)r1);
	r1->f$5 = r34;
	label$489bc16_12_82:
	h3d_col_OptimizedCollider_new(r33,r18,r34);
	if( r33 ) goto label$489bc16_12_86;
	r18 = NULL;
	goto label$489bc16_12_90;
	label$489bc16_12_86:
	r18 = r33->f$2;
	if( r18 ) goto label$489bc16_12_90;
	r18 = hl_to_virtual(&t$vrt_016ea5d,(vdynamic*)r33);
	r33->f$2 = r18;
	label$489bc16_12_90:
	r0->collider = r18;
	label$489bc16_12_91:
	return;
}

vvirtual* h3d_prim_HMDModel_getCollider(h3d__prim__HMDModel r0) {
	hxd__fmt__hmd__Model r16;
	hxd__fmt__hmd__Data r12;
	String r9;
	hxd__fs__FileEntry r6;
	hl__types__ArrayObj r11, r15;
	vvirtual *r2, *r5;
	hxd__res__Resource r7;
	hxd__fmt__hmd__Geometry r18, r19;
	h3d__col__PolygonBuffer r4;
	vdynamic *r3;
	varray *r17;
	int r10, r13, r14;
	hxd__fmt__hmd__Library r8;
	r2 = r0->collider;
	if( !r2 ) goto label$489bc16_13_4;
	r2 = r0->collider;
	return r2;
	label$489bc16_13_4:
	r4 = (h3d__col__PolygonBuffer)hl_alloc_obj(&t$h3d_col_PolygonBuffer);
	h3d_col_PolygonBuffer_new(r4);
	r5 = hl_alloc_virtual(&t$vrt_16e4279);
	r8 = r0->lib;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->resource;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->entry;
	if( hl_vfields(r5)[0] ) *(hxd__fs__FileEntry*)(hl_vfields(r5)[0]) = (hxd__fs__FileEntry)r6; else hl_dyn_setp(r5->value,277248513/*entry*/,&t$hxd_fs_FileEntry,r6);
	r9 = NULL;
	if( hl_vfields(r5)[1] ) *(String*)(hl_vfields(r5)[1]) = (String)r9; else hl_dyn_setp(r5->value,427680551/*geometryName*/,&t$String,r9);
	r4->source = r5;
	r10 = 0;
	r8 = r0->lib;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->header;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->models;
	label$489bc16_13_22:
	if( r11 == NULL ) hl_null_access();
	r14 = r11->length;
	if( r10 >= r14 ) goto label$489bc16_13_58;
	r14 = r11->length;
	if( ((unsigned)r10) < ((unsigned)r14) ) goto label$489bc16_13_30;
	r16 = NULL;
	goto label$489bc16_13_33;
	label$489bc16_13_30:
	r17 = r11->array;
	r3 = ((vdynamic**)(r17 + 1))[r10];
	r16 = (hxd__fmt__hmd__Model)r3;
	label$489bc16_13_33:
	++r10;
	r8 = r0->lib;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->header;
	if( r12 == NULL ) hl_null_access();
	r15 = r12->geometries;
	if( r15 == NULL ) hl_null_access();
	if( r16 == NULL ) hl_null_access();
	r13 = r16->geometry;
	r14 = r15->length;
	if( ((unsigned)r13) < ((unsigned)r14) ) goto label$489bc16_13_46;
	r18 = NULL;
	goto label$489bc16_13_49;
	label$489bc16_13_46:
	r17 = r15->array;
	r3 = ((vdynamic**)(r17 + 1))[r13];
	r18 = (hxd__fmt__hmd__Geometry)r3;
	label$489bc16_13_49:
	r19 = r0->data;
	if( r18 != r19 ) goto label$489bc16_13_57;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->source;
	if( r5 == NULL ) hl_null_access();
	r9 = r16->name;
	if( hl_vfields(r5)[1] ) *(String*)(hl_vfields(r5)[1]) = (String)r9; else hl_dyn_setp(r5->value,427680551/*geometryName*/,&t$String,r9);
	goto label$489bc16_13_58;
	label$489bc16_13_57:
	goto label$489bc16_13_22;
	label$489bc16_13_58:
	h3d_prim_HMDModel_initCollider(r0,r4);
	r2 = r0->collider;
	return r2;
}

void h3d_prim_HMDModel_new(h3d__prim__HMDModel r0,hxd__fmt__hmd__Geometry r1,int r2,hxd__fmt__hmd__Library r3) {
	haxe__ds__StringMap r4;
	r4 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r4);
	r0->bufferAliases = r4;
	h3d_prim_MeshPrimitive_new(((h3d__prim__MeshPrimitive)r0));
	r0->data = r1;
	r0->dataPosition = r2;
	r0->lib = r3;
	return;
}

