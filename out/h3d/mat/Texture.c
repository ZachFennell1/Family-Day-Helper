// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h3d/mat/Texture.h>
extern h3d__mat__$Texture g$_h3d_mat_Texture;
void h3d_impl_MemoryManager_allocTexture(h3d__impl__MemoryManager,h3d__mat__Texture);
#include <h3d/mat/TextureFlags.h>
#include <h2d/BlendMode.h>
#include <h3d/mat/Pass.h>
extern String s$Can_t_clone_disposed_texture;
vdynamic* haxe_Exception_thrown(vdynamic*);
void h3d_mat_Texture_preventAutoDispose(h3d__mat__Texture);
extern hl_type t$h3d_mat_TextureFlags;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern venum* g$h3d_mat_TextureFlags_Target;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern venum* g$h3d_mat_TextureFlags_Cube;
extern venum* g$h3d_mat_TextureFlags_MipMapped;
extern venum* g$h3d_mat_TextureFlags_IsArray;
extern hl_type t$h3d_mat_Texture;
void h3d_mat_Texture_new(h3d__mat__Texture,int,int,hl__types__ArrayObj,venum*);
void h3d_pass_CubeCopy_run(h3d__mat__Texture,h3d__mat__Texture,venum*,h3d__mat__Pass);
void h3d_pass_Copy_run(h3d__mat__Texture,h3d__mat__Texture,venum*,h3d__mat__Pass,vdynamic*);
extern hl_type t$fun_7b48b4f;
extern String s$a0b3e07;
String String___alloc__(vbyte*,int);
String String___add__(String,String);
extern String s$84c4047;
extern String s$x;
extern String s$9371d7a;
void h3d_mat_Texture_dispose(h3d__mat__Texture);
#include <h3d/Engine.h>
#include <h3d/Vector.h>
extern String s$Texture_should_be_target;
extern h3d__$Engine g$_h3d_Engine;
extern hl_type t$h3d_Vector;
void h3d_Vector_new(h3d__Vector,double*,double*,double*,double*);
void h3d_Engine_pushTarget(h3d__Engine,h3d__mat__Texture,int*,int*);
void h3d_Engine_clearF(h3d__Engine,h3d__Vector,vdynamic*,vdynamic*);
void h3d_Engine_popTarget(h3d__Engine);
#include <haxe/io/Bytes.h>
extern hl_type t$_i32;
void h3d_Engine_clear(h3d__Engine,vdynamic*,vdynamic*,vdynamic*);
hxd__Pixels hxd_Pixels_alloc(int,int,venum*);
extern String s$TODO;
void haxe_io_Bytes_set(haxe__io__Bytes,int,int);
void h3d_mat_Texture_uploadPixels(h3d__mat__Texture,hxd__Pixels,int*,int*);
void hxd_Pixels_dispose(hxd__Pixels);
extern String s$Invalid_upload_size_;
extern String s$_should_be_;
#include <h3d/impl/Driver.h>
#include <hxd/BitmapInnerDataImpl.h>
void h3d_impl_MemoryManager_deleteTexture(h3d__impl__MemoryManager,h3d__mat__Texture);
extern String s$afec35d;
#include <h2d/col/IBounds.h>
extern hl_type t$_f64;
vdynamic* haxe_ds_IntMap_get(haxe__ds__IntMap,int);
extern hl_type t$ctx_25196c1;
extern hl_type t$fun_f5c4101;
void haxe_ds_IntMap_set(haxe__ds__IntMap,int,vdynamic*);
h3d__mat__Texture h3d_mat_Texture_genTexture(int,int,int,double);
void h3d_mat_Texture_drawGenTexture(h3d__mat__Texture,int,int);
#include <haxe/ds/ObjectMap.h>
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
void hl_types_ArrayBytes_Int___expand(hl__types__ArrayBytes_Int,int);
extern String s$c0cb5f0;
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
vdynamic* haxe_ds_ObjectMap_get(haxe__ds__ObjectMap,vdynamic*);
extern hl_type t$_dyn;
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
extern hl_type t$ctx_7665654;
extern hl_type t$fun_3da524f;
void haxe_ds_ObjectMap_set(haxe__ds__ObjectMap,vdynamic*,vdynamic*);
#include <h3d/pass/ScreenFx.h>
#include <h3d/shader/GenTexture.h>
#include <h3d/shader/ScreenShader.h>
extern hl_type t$h3d_pass_ScreenFx;
extern hl_type t$h3d_shader_GenTexture;
void h3d_shader_GenTexture_new(h3d__shader__GenTexture);
void h3d_pass_ScreenFx_new(h3d__pass__ScreenFx,h3d__shader__ScreenShader,hl__types__ArrayObj);
void h3d_pass_ScreenFx_render(h3d__pass__ScreenFx);
extern hl_type t$fun_715d8bf;
void h3d_mat_Texture_allocChecker(h3d__mat__Texture,int);
extern venum* g$h3d_mat_TextureFlags_NoAlloc;
extern hl_type t$ctx_de1c297;
extern hl_type t$fun_c4f4c4c;
void h3d_mat_Texture_allocNoise(h3d__mat__Texture,int);
extern hl_type t$hxd_BitmapData;
void hxd_BitmapData_new(hxd__BitmapData,int,int);
int Std_random(int);
void hxd_BitmapData_setPixel(hxd__BitmapData,int,int,int);
void hxd_BitmapData_clear(hxd__BitmapData,int);
extern venum* g$h3d_mat_MipMap_Nearest;
extern venum* g$h3d_mat_MipMap_None;
extern venum* g$h3d_mat_Filter_Linear;
extern venum* g$h3d_mat_Wrap_Clamp;

int h3d_mat_Texture_set_lastFrame(h3d__mat__Texture r0,int r1) {
	h3d__mat__$Texture r4;
	int r2, r3;
	r2 = r0->_lastFrame;
	r4 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r3 = r4->PREVENT_AUTO_DISPOSE;
	if( r2 == r3 ) goto label$3bd692e_1_5;
	r0->_lastFrame = r1;
	label$3bd692e_1_5:
	r2 = r0->_lastFrame;
	return r2;
}

int h3d_mat_Texture_get_lastFrame(h3d__mat__Texture r0) {
	int r1;
	r1 = r0->_lastFrame;
	return r1;
}

int h3d_mat_Texture_get_mipLevels(h3d__mat__Texture r0) {
	int r1, r2, r3, r4, r5;
	r1 = r0->flags;
	r2 = 4;
	r1 = r1 & r2;
	r2 = 0;
	if( r1 != r2 ) goto label$3bd692e_3_7;
	r1 = 1;
	return r1;
	label$3bd692e_3_7:
	r1 = 1;
	r2 = r0->width;
	r3 = r0->height;
	label$3bd692e_3_10:
	r4 = r2 >> r1;
	r5 = 1;
	if( r4 >= r5 ) goto label$3bd692e_3_17;
	r4 = r3 >> r1;
	r5 = 1;
	if( r4 < r5 ) goto label$3bd692e_3_19;
	label$3bd692e_3_17:
	++r1;
	goto label$3bd692e_3_10;
	label$3bd692e_3_19:
	return r1;
}

void h3d_mat_Texture_new__$1() {
	return;
}

int h3d_mat_Texture_get_layerCount(h3d__mat__Texture r0) {
	int r1, r2;
	r1 = r0->flags;
	r2 = 2;
	r1 = r1 & r2;
	r2 = 0;
	if( r1 == r2 ) goto label$3bd692e_5_7;
	r1 = 6;
	return r1;
	label$3bd692e_5_7:
	r1 = 1;
	return r1;
}

void h3d_mat_Texture_alloc(h3d__mat__Texture r0) {
	vvirtual *r2;
	h3d__impl__MemoryManager r3;
	r2 = r0->_t;
	if( r2 ) goto label$3bd692e_6_5;
	r3 = r0->mem;
	if( r3 == NULL ) hl_null_access();
	h3d_impl_MemoryManager_allocTexture(r3,r0);
	label$3bd692e_6_5:
	return;
}

bool h3d_mat_Texture_isSRGB(h3d__mat__Texture r0) {
	venum *r2;
	bool r3;
	int r1;
	r2 = r0->format;
	if( r2 == NULL ) hl_null_access();
	r1 = HL__ENUM_INDEX__(r2);
	switch(r1) {
		default:
		case 0:
		case 1:
		case 2:
		case 3:
		case 4:
		case 5:
		case 6:
		case 7:
		case 8:
		case 9:
		case 10:
		case 11:
		case 12:
		case 13:
			r3 = false;
			return r3;
		case 14:
		case 15:
			r3 = true;
			return r3;
	}
}

void h3d_mat_Texture_checkAlloc(h3d__mat__Texture r0) {
	vvirtual *r2;
	vclosure *r3;
	r2 = r0->_t;
	if( r2 ) goto label$3bd692e_8_8;
	r3 = r0->realloc;
	if( !r3 ) goto label$3bd692e_8_8;
	h3d_mat_Texture_alloc(r0);
	r3 = r0->realloc;
	if( r3 == NULL ) hl_null_access();
	r3->hasValue ? ((void (*)(vdynamic*))r3->fun)((vdynamic*)r3->value) : ((void (*)(void))r3->fun)();
	label$3bd692e_8_8:
	return;
}

h3d__mat__Texture h3d_mat_Texture_clone(h3d__mat__Texture r0) {
	String r4;
	hl__types__ArrayObj r6;
	vvirtual *r2;
	venum *r10, *r14, *r15;
	hl_type *r8;
	h3d__mat__Pass r16;
	vdynamic *r3, *r17;
	h3d__mat__Texture r13;
	varray *r7;
	int r5, r9, r11, r12;
	h3d_mat_Texture_checkAlloc(r0);
	r2 = r0->_t;
	if( r2 ) goto label$3bd692e_9_6;
	r4 = (String)s$Can_t_clone_disposed_texture;
	r3 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r3);
	label$3bd692e_9_6:
	r5 = h3d_mat_Texture_get_lastFrame(r0);
	h3d_mat_Texture_preventAutoDispose(r0);
	r8 = &t$h3d_mat_TextureFlags;
	r9 = 0;
	r7 = hl_alloc_array(r8,r9);
	r6 = hl_types_ArrayObj_alloc(r7);
	r10 = (venum*)g$h3d_mat_TextureFlags_Target;
	r9 = r0->flags;
	r11 = 1;
	if( r10 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r10);
	r11 = r11 << r12;
	r9 = r9 & r11;
	r11 = 0;
	if( r9 == r11 ) goto label$3bd692e_9_23;
	if( r6 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r10));
	label$3bd692e_9_23:
	r10 = (venum*)g$h3d_mat_TextureFlags_Cube;
	r9 = r0->flags;
	r11 = 1;
	if( r10 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r10);
	r11 = r11 << r12;
	r9 = r9 & r11;
	r11 = 0;
	if( r9 == r11 ) goto label$3bd692e_9_34;
	if( r6 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r10));
	label$3bd692e_9_34:
	r10 = (venum*)g$h3d_mat_TextureFlags_MipMapped;
	r9 = r0->flags;
	r11 = 1;
	if( r10 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r10);
	r11 = r11 << r12;
	r9 = r9 & r11;
	r11 = 0;
	if( r9 == r11 ) goto label$3bd692e_9_45;
	if( r6 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r10));
	label$3bd692e_9_45:
	r10 = (venum*)g$h3d_mat_TextureFlags_IsArray;
	r9 = r0->flags;
	r11 = 1;
	if( r10 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r10);
	r11 = r11 << r12;
	r9 = r9 & r11;
	r11 = 0;
	if( r9 == r11 ) goto label$3bd692e_9_56;
	if( r6 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_push(r6,((vdynamic*)r10));
	label$3bd692e_9_56:
	r13 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r9 = r0->width;
	r11 = r0->height;
	r14 = r0->format;
	h3d_mat_Texture_new(r13,r9,r11,r6,r14);
	r4 = r0->name;
	r13->name = r4;
	r9 = r0->flags;
	r11 = 2;
	r9 = r9 & r11;
	r11 = 0;
	if( r9 == r11 ) goto label$3bd692e_9_72;
	r15 = NULL;
	r16 = NULL;
	h3d_pass_CubeCopy_run(r0,r13,r15,r16);
	goto label$3bd692e_9_76;
	label$3bd692e_9_72:
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	h3d_pass_Copy_run(r0,r13,r15,r16,r17);
	label$3bd692e_9_76:
	r9 = h3d_mat_Texture_set_lastFrame(r0,r5);
	return r13;
}

void h3d_mat_Texture_preventAutoDispose(h3d__mat__Texture r0) {
	h3d__mat__$Texture r2;
	int r1;
	r2 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r1 = r2->PREVENT_AUTO_DISPOSE;
	r1 = h3d_mat_Texture_set_lastFrame(r0,r1);
	return;
}

void h3d_mat_Texture_waitLoad(h3d__mat__Texture r0,vclosure* r1) {
	hl__types__ArrayObj r5;
	hl_type *r7;
	varray *r6;
	int r3, r4;
	r3 = r0->flags;
	r4 = 512;
	r3 = r3 & r4;
	r4 = 0;
	if( r3 != r4 ) goto label$3bd692e_11_8;
	if( r1 == NULL ) hl_null_access();
	r1->hasValue ? ((void (*)(vdynamic*))r1->fun)((vdynamic*)r1->value) : ((void (*)(void))r1->fun)();
	return;
	label$3bd692e_11_8:
	r5 = r0->waitLoads;
	if( r5 ) goto label$3bd692e_11_15;
	r7 = &t$fun_7b48b4f;
	r3 = 0;
	r6 = hl_alloc_array(r7,r3);
	r5 = hl_types_ArrayObj_alloc(r6);
	r0->waitLoads = r5;
	label$3bd692e_11_15:
	r5 = r0->waitLoads;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_push(r5,((vdynamic*)r1));
	return;
}

vbyte* h3d_mat_Texture___string(h3d__mat__Texture r0) {
	String r2;
	vbyte *r1;
	r2 = ((String (*)(h3d__mat__Texture))r0->$type->vobj_proto[2])(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String h3d_mat_Texture_toString(h3d__mat__Texture r0) {
	String r1, r2, r6;
	int *r4;
	vbyte *r5;
	int r3;
	r1 = r0->name;
	r2 = r0->name;
	if( r2 ) goto label$3bd692e_13_10;
	r2 = (String)s$a0b3e07;
	r3 = r0->id;
	r4 = &r3;
	r5 = hl_itos(r3,r4);
	r6 = String___alloc__(r5,r3);
	r2 = String___add__(r2,r6);
	r1 = r2;
	label$3bd692e_13_10:
	r6 = (String)s$84c4047;
	r2 = String___add__(r1,r6);
	r3 = r0->width;
	r4 = &r3;
	r5 = hl_itos(r3,r4);
	r6 = String___alloc__(r5,r3);
	r2 = String___add__(r2,r6);
	r6 = (String)s$x;
	r2 = String___add__(r2,r6);
	r3 = r0->height;
	r4 = &r3;
	r5 = hl_itos(r3,r4);
	r6 = String___alloc__(r5,r3);
	r2 = String___add__(r2,r6);
	r6 = (String)s$9371d7a;
	r2 = String___add__(r2,r6);
	return r2;
}

void h3d_mat_Texture_setName(h3d__mat__Texture r0,String r1) {
	r0->name = r1;
	return;
}

venum* h3d_mat_Texture_set_mipMap(h3d__mat__Texture r0,venum* r1) {
	int r2, r3;
	r2 = r0->bits;
	r3 = -4;
	r2 = r2 & r3;
	if( r1 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r1);
	r2 = r2 | r3;
	r0->bits = r2;
	r0->mipMap = r1;
	return r1;
}

venum* h3d_mat_Texture_set_filter(h3d__mat__Texture r0,venum* r1) {
	int r2, r3, r4;
	r2 = r0->bits;
	r3 = -25;
	r2 = r2 & r3;
	if( r1 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r1);
	r4 = 3;
	r3 = r3 << r4;
	r2 = r2 | r3;
	r0->bits = r2;
	r0->filter = r1;
	return r1;
}

venum* h3d_mat_Texture_set_wrap(h3d__mat__Texture r0,venum* r1) {
	int r2, r3, r4;
	r2 = r0->bits;
	r3 = -193;
	r2 = r2 & r3;
	if( r1 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r1);
	r4 = 6;
	r3 = r3 << r4;
	r2 = r2 | r3;
	r0->bits = r2;
	r0->wrap = r1;
	return r1;
}

bool h3d_mat_Texture_isDisposed(h3d__mat__Texture r0) {
	vvirtual *r1;
	bool r2;
	vclosure *r3, *r4;
	r1 = r0->_t;
	if( r1 ) goto label$3bd692e_18_9;
	r3 = r0->realloc;
	r4 = NULL;
	{ int i = hl_dyn_compare((vdynamic*)r3,(vdynamic*)r4); if( i == 0 ) goto label$3bd692e_18_7; };
	r2 = false;
	goto label$3bd692e_18_8;
	label$3bd692e_18_7:
	r2 = true;
	label$3bd692e_18_8:
	return r2;
	label$3bd692e_18_9:
	r2 = false;
	return r2;
}

void h3d_mat_Texture_resize(h3d__mat__Texture r0,int r1,int r2) {
	int r4, r5, r6, r7;
	h3d_mat_Texture_dispose(r0);
	r4 = 1;
	r5 = 1;
	label$3bd692e_19_3:
	if( r4 >= r1 ) goto label$3bd692e_19_9;
	r7 = 1;
	r6 = r4 << r7;
	r4 = r6;
	goto label$3bd692e_19_3;
	label$3bd692e_19_9:
	if( r5 >= r2 ) goto label$3bd692e_19_15;
	r7 = 1;
	r6 = r5 << r7;
	r5 = r6;
	goto label$3bd692e_19_9;
	label$3bd692e_19_15:
	if( r4 != r1 ) goto label$3bd692e_19_17;
	if( r5 == r2 ) goto label$3bd692e_19_22;
	label$3bd692e_19_17:
	r6 = r0->flags;
	r7 = 16;
	r6 = r6 | r7;
	r0->flags = r6;
	goto label$3bd692e_19_26;
	label$3bd692e_19_22:
	r6 = r0->flags;
	r7 = -17;
	r6 = r6 & r7;
	r0->flags = r6;
	label$3bd692e_19_26:
	r0->width = r1;
	r0->height = r2;
	r6 = r0->flags;
	r7 = 32;
	r6 = r6 & r7;
	r7 = 0;
	if( r6 != r7 ) goto label$3bd692e_19_34;
	h3d_mat_Texture_alloc(r0);
	label$3bd692e_19_34:
	return;
}

void h3d_mat_Texture_clearF(h3d__mat__Texture r0,double* r1,double* r2,double* r3,double* r4,int* r5) {
	String r15;
	h3d__Engine r16;
	h3d__Vector r18;
	h3d__$Engine r17;
	double r6, r7, r8, r9, r19, r20, r21, r22;
	int *r25;
	vdynamic *r14, *r26, *r27;
	int r10, r12, r13, r23, r24;
	if( r1 ) goto label$3bd692e_20_3;
	r6 = 0.;
	goto label$3bd692e_20_4;
	label$3bd692e_20_3:
	r6 = *r1;
	label$3bd692e_20_4:
	if( r2 ) goto label$3bd692e_20_7;
	r7 = 0.;
	goto label$3bd692e_20_8;
	label$3bd692e_20_7:
	r7 = *r2;
	label$3bd692e_20_8:
	if( r3 ) goto label$3bd692e_20_11;
	r8 = 0.;
	goto label$3bd692e_20_12;
	label$3bd692e_20_11:
	r8 = *r3;
	label$3bd692e_20_12:
	if( r4 ) goto label$3bd692e_20_15;
	r9 = 0.;
	goto label$3bd692e_20_16;
	label$3bd692e_20_15:
	r9 = *r4;
	label$3bd692e_20_16:
	if( r5 ) goto label$3bd692e_20_19;
	r10 = -1;
	goto label$3bd692e_20_20;
	label$3bd692e_20_19:
	r10 = *r5;
	label$3bd692e_20_20:
	h3d_mat_Texture_alloc(r0);
	r12 = r0->flags;
	r13 = 1;
	r12 = r12 & r13;
	r13 = 0;
	if( r12 != r13 ) goto label$3bd692e_20_29;
	r15 = (String)s$Texture_should_be_target;
	r14 = haxe_Exception_thrown(((vdynamic*)r15));
	hl_throw((vdynamic*)r14);
	label$3bd692e_20_29:
	r17 = (h3d__$Engine)g$_h3d_Engine;
	r16 = r17->CURRENT;
	r18 = (h3d__Vector)hl_alloc_obj(&t$h3d_Vector);
	r19 = r6;
	r1 = &r19;
	r20 = r7;
	r2 = &r20;
	r21 = r8;
	r3 = &r21;
	r22 = r9;
	r4 = &r22;
	h3d_Vector_new(r18,r1,r2,r3,r4);
	r13 = 0;
	if( r10 >= r13 ) goto label$3bd692e_20_60;
	r12 = 0;
	r13 = ((int (*)(h3d__mat__Texture))r0->$type->vobj_proto[0])(r0);
	label$3bd692e_20_45:
	if( r12 >= r13 ) goto label$3bd692e_20_59;
	r23 = r12;
	++r12;
	if( r16 == NULL ) hl_null_access();
	r24 = r23;
	r5 = &r24;
	r25 = NULL;
	h3d_Engine_pushTarget(r16,r0,r5,r25);
	r26 = NULL;
	r27 = NULL;
	h3d_Engine_clearF(r16,r18,r26,r27);
	h3d_Engine_popTarget(r16);
	goto label$3bd692e_20_45;
	label$3bd692e_20_59:
	goto label$3bd692e_20_69;
	label$3bd692e_20_60:
	if( r16 == NULL ) hl_null_access();
	r12 = r10;
	r5 = &r12;
	r25 = NULL;
	h3d_Engine_pushTarget(r16,r0,r5,r25);
	r26 = NULL;
	r27 = NULL;
	h3d_Engine_clearF(r16,r18,r26,r27);
	h3d_Engine_popTarget(r16);
	label$3bd692e_20_69:
	return;
}

void h3d_mat_Texture_clear(h3d__mat__Texture r0,int r1,double* r2,vdynamic* r3) {
	String r29;
	hxd__Pixels r23;
	venum *r24;
	haxe__io__Bytes r32;
	h3d__mat__$Texture r25;
	h3d__Engine r9;
	h3d__$Engine r10;
	double r4, r11, r12, r13;
	int *r18, *r19;
	vdynamic *r8, *r16, *r21, *r22;
	int r5, r7, r14, r15, r17, r20, r26, r27, r28, r30, r31, r33;
	if( r2 ) goto label$3bd692e_21_3;
	r4 = 1.;
	goto label$3bd692e_21_4;
	label$3bd692e_21_3:
	r4 = *r2;
	label$3bd692e_21_4:
	if( r3 ) goto label$3bd692e_21_7;
	r5 = -1;
	r3 = hl_alloc_dynamic(&t$_i32);
	r3->v.i = r5;
	label$3bd692e_21_7:
	h3d_mat_Texture_alloc(r0);
	r5 = r0->width;
	r7 = 0;
	if( r5 == r7 ) goto label$3bd692e_21_14;
	r5 = r0->height;
	r7 = 0;
	if( r5 != r7 ) goto label$3bd692e_21_15;
	label$3bd692e_21_14:
	return;
	label$3bd692e_21_15:
	r5 = r0->width;
	r7 = 1;
	if( r5 != r7 ) goto label$3bd692e_21_21;
	r5 = r0->height;
	r7 = 1;
	if( r5 == r7 ) goto label$3bd692e_21_74;
	label$3bd692e_21_21:
	r10 = (h3d__$Engine)g$_h3d_Engine;
	r9 = r10->CURRENT;
	r11 = 0.;
	r12 = 1.;
	if( !(r4 < r11) ) goto label$3bd692e_21_28;
	r13 = r11;
	goto label$3bd692e_21_32;
	label$3bd692e_21_28:
	if( !(r12 < r4) ) goto label$3bd692e_21_31;
	r13 = r12;
	goto label$3bd692e_21_32;
	label$3bd692e_21_31:
	r13 = r4;
	label$3bd692e_21_32:
	r11 = 255.;
	r11 = r13 * r11;
	r5 = (int)r11;
	r15 = 24;
	r14 = r5 << r15;
	r7 = r1 | r14;
	r1 = r7;
	r7 = r3 ? r3->v.i : 0;
	r14 = 0;
	if( r7 >= r14 ) goto label$3bd692e_21_60;
	r7 = 0;
	r14 = ((int (*)(h3d__mat__Texture))r0->$type->vobj_proto[0])(r0);
	label$3bd692e_21_44:
	if( r7 >= r14 ) goto label$3bd692e_21_59;
	r15 = r7;
	++r7;
	if( r9 == NULL ) hl_null_access();
	r17 = r15;
	r18 = &r17;
	r19 = NULL;
	h3d_Engine_pushTarget(r9,r0,r18,r19);
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r1;
	r21 = NULL;
	r22 = NULL;
	h3d_Engine_clear(r9,r16,r21,r22);
	h3d_Engine_popTarget(r9);
	goto label$3bd692e_21_44;
	label$3bd692e_21_59:
	goto label$3bd692e_21_73;
	label$3bd692e_21_60:
	if( r9 == NULL ) hl_null_access();
	if( r3 ) goto label$3bd692e_21_64;
	r18 = NULL;
	goto label$3bd692e_21_66;
	label$3bd692e_21_64:
	r7 = r3 ? r3->v.i : 0;
	r18 = &r7;
	label$3bd692e_21_66:
	r19 = NULL;
	h3d_Engine_pushTarget(r9,r0,r18,r19);
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r1;
	r21 = NULL;
	r22 = NULL;
	h3d_Engine_clear(r9,r16,r21,r22);
	h3d_Engine_popTarget(r9);
	label$3bd692e_21_73:
	goto label$3bd692e_21_169;
	label$3bd692e_21_74:
	r5 = r0->width;
	r14 = r0->height;
	r25 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r24 = r25->nativeFormat;
	r23 = hxd_Pixels_alloc(r5,r14,r24);
	r5 = 0;
	r15 = 255;
	r14 = r1 & r15;
	r20 = 8;
	r15 = r1 >> r20;
	r20 = 255;
	r15 = r15 & r20;
	r26 = 16;
	r20 = r1 >> r26;
	r26 = 255;
	r20 = r20 & r26;
	r12 = 255.;
	r11 = r4 * r12;
	r26 = (int)r11;
	r28 = 0;
	if( r26 >= r28 ) goto label$3bd692e_21_98;
	r27 = 0;
	r26 = r27;
	goto label$3bd692e_21_102;
	label$3bd692e_21_98:
	r28 = 255;
	if( r28 >= r26 ) goto label$3bd692e_21_102;
	r27 = 255;
	r26 = r27;
	label$3bd692e_21_102:
	r25 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r24 = r25->nativeFormat;
	if( r24 == NULL ) hl_null_access();
	r27 = HL__ENUM_INDEX__(r24);
	switch(r27) {
		default:
		case 0:
			r29 = (String)s$TODO;
			r8 = haxe_Exception_thrown(((vdynamic*)r29));
			hl_throw((vdynamic*)r8);
		case 1:
			r27 = r20;
			r20 = r14;
			r14 = r27;
			goto label$3bd692e_21_114;
		case 2:
			break;
	}
	label$3bd692e_21_114:
	r27 = 0;
	r28 = r0->width;
	r30 = r0->height;
	r28 = r28 * r30;
	label$3bd692e_21_118:
	if( r27 >= r28 ) goto label$3bd692e_21_143;
	++r27;
	if( r23 == NULL ) hl_null_access();
	r32 = r23->bytes;
	if( r32 == NULL ) hl_null_access();
	r31 = r5;
	++r5;
	haxe_io_Bytes_set(r32,r31,r20);
	r32 = r23->bytes;
	if( r32 == NULL ) hl_null_access();
	r31 = r5;
	++r5;
	haxe_io_Bytes_set(r32,r31,r15);
	r32 = r23->bytes;
	if( r32 == NULL ) hl_null_access();
	r31 = r5;
	++r5;
	haxe_io_Bytes_set(r32,r31,r14);
	r32 = r23->bytes;
	if( r32 == NULL ) hl_null_access();
	r31 = r5;
	++r5;
	haxe_io_Bytes_set(r32,r31,r26);
	goto label$3bd692e_21_118;
	label$3bd692e_21_143:
	r27 = r3 ? r3->v.i : 0;
	r28 = 0;
	if( r27 >= r28 ) goto label$3bd692e_21_159;
	r27 = 0;
	r28 = ((int (*)(h3d__mat__Texture))r0->$type->vobj_proto[0])(r0);
	label$3bd692e_21_148:
	if( r27 >= r28 ) goto label$3bd692e_21_158;
	r30 = r27;
	++r27;
	r31 = 0;
	r18 = &r31;
	r33 = r30;
	r19 = &r33;
	h3d_mat_Texture_uploadPixels(r0,r23,r18,r19);
	goto label$3bd692e_21_148;
	label$3bd692e_21_158:
	goto label$3bd692e_21_167;
	label$3bd692e_21_159:
	r27 = 0;
	r18 = &r27;
	if( r3 ) goto label$3bd692e_21_164;
	r19 = NULL;
	goto label$3bd692e_21_166;
	label$3bd692e_21_164:
	r28 = r3 ? r3->v.i : 0;
	r19 = &r28;
	label$3bd692e_21_166:
	h3d_mat_Texture_uploadPixels(r0,r23,r18,r19);
	label$3bd692e_21_167:
	if( r23 == NULL ) hl_null_access();
	hxd_Pixels_dispose(r23);
	label$3bd692e_21_169:
	return;
}

void h3d_mat_Texture_checkSize(h3d__mat__Texture r0,int r1,int r2,int r3) {
	String r10, r13;
	int *r11;
	vdynamic *r9;
	vbyte *r12;
	int r4, r5, r7, r8;
	r4 = r0->width;
	r4 = r4 >> r3;
	r7 = 0;
	if( r4 != r7 ) goto label$3bd692e_22_6;
	r5 = 1;
	r4 = r5;
	label$3bd692e_22_6:
	r5 = r0->height;
	r5 = r5 >> r3;
	r8 = 0;
	if( r5 != r8 ) goto label$3bd692e_22_12;
	r7 = 1;
	r5 = r7;
	label$3bd692e_22_12:
	if( r1 != r4 ) goto label$3bd692e_22_14;
	if( r2 == r5 ) goto label$3bd692e_22_43;
	label$3bd692e_22_14:
	r10 = (String)s$Invalid_upload_size_;
	r7 = r1;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r13 = String___alloc__(r12,r7);
	r10 = String___add__(r10,r13);
	r13 = (String)s$x;
	r10 = String___add__(r10,r13);
	r7 = r2;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r13 = String___alloc__(r12,r7);
	r10 = String___add__(r10,r13);
	r13 = (String)s$_should_be_;
	r10 = String___add__(r10,r13);
	r7 = r4;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r13 = String___alloc__(r12,r7);
	r10 = String___add__(r10,r13);
	r13 = (String)s$x;
	r10 = String___add__(r10,r13);
	r7 = r5;
	r11 = &r7;
	r12 = hl_itos(r7,r11);
	r13 = String___alloc__(r12,r7);
	r10 = String___add__(r10,r13);
	r9 = haxe_Exception_thrown(((vdynamic*)r10));
	hl_throw((vdynamic*)r9);
	label$3bd692e_22_43:
	return;
}

void h3d_mat_Texture_checkMipMapGen(h3d__mat__Texture r0,int r1,int r2) {
	h3d__impl__MemoryManager r8;
	h3d__impl__Driver r7;
	int r4, r5, r6;
	r5 = 0;
	if( r1 != r5 ) goto label$3bd692e_23_21;
	r4 = r0->flags;
	r5 = 4;
	r4 = r4 & r5;
	r5 = 0;
	if( r4 == r5 ) goto label$3bd692e_23_21;
	r4 = r0->flags;
	r5 = 8;
	r4 = r4 & r5;
	r5 = 0;
	if( r4 != r5 ) goto label$3bd692e_23_21;
	r5 = ((int (*)(h3d__mat__Texture))r0->$type->vobj_proto[0])(r0);
	r6 = 1;
	r5 = r5 - r6;
	if( r2 != r5 ) goto label$3bd692e_23_21;
	r8 = r0->mem;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->driver;
	if( r7 == NULL ) hl_null_access();
	((void (*)(h3d__impl__Driver,h3d__mat__Texture))r7->$type->vobj_proto[5])(r7,r0);
	label$3bd692e_23_21:
	return;
}

void h3d_mat_Texture_uploadBitmap(h3d__mat__Texture r0,hxd__BitmapData r1,int* r2,int* r3) {
	h3d__impl__MemoryManager r11;
	hxd__BitmapInnerDataImpl r8;
	h3d__impl__Driver r10;
	int r4, r5, r7, r9;
	if( r2 ) goto label$3bd692e_24_3;
	r4 = 0;
	goto label$3bd692e_24_4;
	label$3bd692e_24_3:
	r4 = *r2;
	label$3bd692e_24_4:
	if( r3 ) goto label$3bd692e_24_7;
	r5 = 0;
	goto label$3bd692e_24_8;
	label$3bd692e_24_7:
	r5 = *r3;
	label$3bd692e_24_8:
	h3d_mat_Texture_alloc(r0);
	if( r1 == NULL ) hl_null_access();
	r8 = r1->data;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	r8 = r1->data;
	if( r8 == NULL ) hl_null_access();
	r9 = r8->height;
	h3d_mat_Texture_checkSize(r0,r7,r9,r4);
	r11 = r0->mem;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->driver;
	if( r10 == NULL ) hl_null_access();
	((void (*)(h3d__impl__Driver,h3d__mat__Texture,hxd__BitmapData,int,int))r10->$type->vobj_proto[43])(r10,r0,r1,r4,r5);
	r7 = r0->flags;
	r9 = 256;
	r7 = r7 | r9;
	r0->flags = r7;
	h3d_mat_Texture_checkMipMapGen(r0,r4,r5);
	return;
}

void h3d_mat_Texture_uploadPixels(h3d__mat__Texture r0,hxd__Pixels r1,int* r2,int* r3) {
	h3d__impl__MemoryManager r10;
	h3d__impl__Driver r9;
	int r4, r5, r7, r8;
	if( r2 ) goto label$3bd692e_25_3;
	r4 = 0;
	goto label$3bd692e_25_4;
	label$3bd692e_25_3:
	r4 = *r2;
	label$3bd692e_25_4:
	if( r3 ) goto label$3bd692e_25_7;
	r5 = 0;
	goto label$3bd692e_25_8;
	label$3bd692e_25_7:
	r5 = *r3;
	label$3bd692e_25_8:
	h3d_mat_Texture_alloc(r0);
	if( r1 == NULL ) hl_null_access();
	r7 = r1->width;
	r8 = r1->height;
	h3d_mat_Texture_checkSize(r0,r7,r8,r4);
	r10 = r0->mem;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->driver;
	if( r9 == NULL ) hl_null_access();
	((void (*)(h3d__impl__Driver,h3d__mat__Texture,hxd__Pixels,int,int))r9->$type->vobj_proto[44])(r9,r0,r1,r4,r5);
	r7 = r0->flags;
	r8 = 256;
	r7 = r7 | r8;
	r0->flags = r7;
	h3d_mat_Texture_checkMipMapGen(r0,r4,r5);
	return;
}

void h3d_mat_Texture_dispose(h3d__mat__Texture r0) {
	vvirtual *r2;
	h3d__impl__MemoryManager r3;
	r2 = r0->_t;
	if( !r2 ) goto label$3bd692e_26_5;
	r3 = r0->mem;
	if( r3 == NULL ) hl_null_access();
	h3d_impl_MemoryManager_deleteTexture(r3,r0);
	label$3bd692e_26_5:
	return;
}

void h3d_mat_Texture_swapTexture(h3d__mat__Texture r0,h3d__mat__Texture r1) {
	String r6;
	vvirtual *r3, *r7;
	vclosure *r4;
	vdynamic *r5;
	h3d_mat_Texture_checkAlloc(r0);
	if( r1 == NULL ) hl_null_access();
	h3d_mat_Texture_checkAlloc(r1);
	r3 = r0->_t;
	if( r3 ) goto label$3bd692e_27_7;
	r4 = r0->realloc;
	if( !r4 ) goto label$3bd692e_27_11;
	label$3bd692e_27_7:
	r3 = r1->_t;
	if( r3 ) goto label$3bd692e_27_14;
	r4 = r1->realloc;
	if( r4 ) goto label$3bd692e_27_14;
	label$3bd692e_27_11:
	r6 = (String)s$afec35d;
	r5 = haxe_Exception_thrown(((vdynamic*)r6));
	hl_throw((vdynamic*)r5);
	label$3bd692e_27_14:
	r3 = r0->_t;
	r7 = r1->_t;
	r0->_t = r7;
	r1->_t = r3;
	return;
}

hxd__Pixels h3d_mat_Texture_capturePixels(h3d__mat__Texture r0,int* r1,int* r2,h2d__col__IBounds r3) {
	hxd__Pixels r8;
	h3d__impl__MemoryManager r10;
	h3d__impl__Driver r9;
	int r4, r5, r6, r11;
	if( r1 ) goto label$3bd692e_28_3;
	r4 = 0;
	goto label$3bd692e_28_4;
	label$3bd692e_28_3:
	r4 = *r1;
	label$3bd692e_28_4:
	if( r2 ) goto label$3bd692e_28_7;
	r5 = 0;
	goto label$3bd692e_28_8;
	label$3bd692e_28_7:
	r5 = *r2;
	label$3bd692e_28_8:
	r6 = h3d_mat_Texture_get_lastFrame(r0);
	h3d_mat_Texture_preventAutoDispose(r0);
	r10 = r0->mem;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->driver;
	if( r9 == NULL ) hl_null_access();
	r8 = ((hxd__Pixels (*)(h3d__impl__Driver,h3d__mat__Texture,int,int,h2d__col__IBounds))r9->$type->vobj_proto[10])(r9,r0,r4,r5,r3);
	r11 = h3d_mat_Texture_set_lastFrame(r0,r6);
	return r8;
}

h3d__mat__Texture h3d_mat_Texture_fromBitmap(hxd__BitmapData r0) {
	hl__types__ArrayObj r5;
	venum *r6;
	hxd__BitmapInnerDataImpl r3;
	int *r8, *r9;
	int r2, r4;
	h3d__mat__Texture r1;
	r1 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	if( r0 == NULL ) hl_null_access();
	r3 = r0->data;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->width;
	r3 = r0->data;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->height;
	r5 = NULL;
	r6 = NULL;
	h3d_mat_Texture_new(r1,r2,r4,r5,r6);
	r8 = NULL;
	r9 = NULL;
	h3d_mat_Texture_uploadBitmap(r1,r0,r8,r9);
	return r1;
}

h3d__mat__Texture h3d_mat_Texture_fromPixels(hxd__Pixels r0) {
	hl__types__ArrayObj r4;
	venum *r5;
	int *r7, *r8;
	int r2, r3;
	h3d__mat__Texture r1;
	r1 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	if( r0 == NULL ) hl_null_access();
	r2 = r0->width;
	r3 = r0->height;
	r4 = NULL;
	r5 = NULL;
	h3d_mat_Texture_new(r1,r2,r3,r4,r5);
	r7 = NULL;
	r8 = NULL;
	h3d_mat_Texture_uploadPixels(r1,r0,r7,r8);
	return r1;
}

void h3d_mat_Texture_fromColor__$1(venum* r0) {
	double r6;
	double *r5;
	vdynamic *r4, *r7;
	int r3;
	h3d__mat__Texture r2;
	r2 = ((Enumt$ctx_25196c1*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enumt$ctx_25196c1*)r0)->p0;
	r4 = ((Enumt$ctx_25196c1*)r0)->p1;
	if( r4 ) goto label$3bd692e_31_7;
	r5 = NULL;
	goto label$3bd692e_31_9;
	label$3bd692e_31_7:
	r6 = r4 ? r4->v.d : 0;
	r5 = &r6;
	label$3bd692e_31_9:
	r7 = NULL;
	h3d_mat_Texture_clear(r2,r3,r5,r7);
	return;
}

h3d__mat__Texture h3d_mat_Texture_fromColor(int r0,vdynamic* r1) {
	hl__types__ArrayObj r15;
	venum *r16, *r20;
	haxe__ds__IntMap r12;
	h3d__Engine r3;
	h3d__$Engine r4;
	vclosure *r19;
	double r2, r7;
	double *r17;
	vdynamic *r11, *r18;
	h3d__mat__Texture r13, r14;
	int r6, r8, r9, r10;
	if( r1 ) goto label$3bd692e_32_3;
	r2 = 1.;
	r1 = hl_alloc_dynamic(&t$_f64);
	r1->v.d = r2;
	label$3bd692e_32_3:
	r4 = (h3d__$Engine)g$_h3d_Engine;
	r3 = r4->CURRENT;
	r2 = r1 ? r1->v.d : 0;
	r7 = 255.;
	r2 = r2 * r7;
	r6 = (int)r2;
	r9 = 0;
	if( r6 >= r9 ) goto label$3bd692e_32_14;
	r8 = 0;
	r6 = r8;
	goto label$3bd692e_32_18;
	label$3bd692e_32_14:
	r9 = 255;
	if( r9 >= r6 ) goto label$3bd692e_32_18;
	r8 = 255;
	r6 = r8;
	label$3bd692e_32_18:
	r9 = 16777215;
	r8 = r0 & r9;
	r10 = 24;
	r9 = r6 << r10;
	r8 = r8 | r9;
	if( r3 == NULL ) hl_null_access();
	r12 = r3->textureColorCache;
	if( r12 == NULL ) hl_null_access();
	r11 = haxe_ds_IntMap_get(r12,r8);
	r13 = (h3d__mat__Texture)r11;
	if( !r13 ) goto label$3bd692e_32_30;
	return r13;
	label$3bd692e_32_30:
	r14 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r9 = 1;
	r10 = 1;
	r15 = NULL;
	r16 = NULL;
	h3d_mat_Texture_new(r14,r9,r10,r15,r16);
	if( r1 ) goto label$3bd692e_32_39;
	r17 = NULL;
	goto label$3bd692e_32_41;
	label$3bd692e_32_39:
	r2 = r1 ? r1->v.d : 0;
	r17 = &r2;
	label$3bd692e_32_41:
	r18 = NULL;
	h3d_mat_Texture_clear(r14,r0,r17,r18);
	r20 = hl_alloc_enum(&t$ctx_25196c1,0);
	((Enumt$ctx_25196c1*)r20)->p0 = (int)r0;
	((Enumt$ctx_25196c1*)r20)->p1 = (vdynamic*)r1;
	((Enumt$ctx_25196c1*)r20)->p2 = (h3d__mat__Texture)r14;
	r19 = hl_alloc_closure_ptr(&t$fun_f5c4101,h3d_mat_Texture_fromColor__$1,r20);
	r14->realloc = r19;
	r12 = r3->textureColorCache;
	if( r12 == NULL ) hl_null_access();
	haxe_ds_IntMap_set(r12,r8,((vdynamic*)r14));
	return r14;
}

h3d__mat__Texture h3d_mat_Texture_genDisc(int r0,int r1,vdynamic* r2) {
	double r3;
	int r5;
	h3d__mat__Texture r4;
	if( r2 ) goto label$3bd692e_33_3;
	r3 = 1.;
	r2 = hl_alloc_dynamic(&t$_f64);
	r2->v.d = r3;
	label$3bd692e_33_3:
	r5 = 0;
	r3 = r2 ? r2->v.d : 0;
	r4 = h3d_mat_Texture_genTexture(r5,r0,r1,r3);
	return r4;
}

void h3d_mat_Texture_genTexture__$1(venum* r0) {
	hl__types__ArrayObj r2;
	hl__types__ArrayBytes_Int r8;
	vdynamic *r6;
	vbyte *r9;
	varray *r7;
	h3d__mat__Texture r5;
	int r3, r4;
	r2 = ((Enumt$ctx_7665654*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r2->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$3bd692e_34_7;
	r5 = NULL;
	goto label$3bd692e_34_10;
	label$3bd692e_34_7:
	r7 = r2->array;
	r6 = ((vdynamic**)(r7 + 1))[r3];
	r5 = (h3d__mat__Texture)r6;
	label$3bd692e_34_10:
	r8 = ((Enumt$ctx_7665654*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r8->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$3bd692e_34_17;
	r3 = 0;
	goto label$3bd692e_34_21;
	label$3bd692e_34_17:
	r9 = r8->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r9 + r4);
	label$3bd692e_34_21:
	r4 = ((Enumt$ctx_7665654*)r0)->p0;
	h3d_mat_Texture_drawGenTexture(r5,r3,r4);
	return;
}

h3d__mat__Texture h3d_mat_Texture_genTexture(int r0,int r1,int r2,double r3) {
	vdynobj *r28;
	String r16, r18;
	haxe__ds__ObjectMap r27;
	hl__types__ArrayObj r22, r29;
	haxe__ds__StringMap r20;
	venum *r30, *r31, *r33;
	hl_type *r24;
	hl__types__ArrayBytes_Int r4;
	h3d__mat__$Texture r21;
	h3d__Engine r10;
	h3d__$Engine r11;
	vclosure *r32;
	double r12, r13;
	vdynamic *r19, *r26, *r34;
	int *r17;
	h3d__mat__Texture r25;
	varray *r23;
	int r6, r7, r8, r14, r15;
	vbyte *r5;
	r6 = 4;
	r5 = hl_alloc_bytes(r6);
	r6 = 0;
	r8 = 2;
	r8 = r6 << r8;
	*(int*)(r5 + r8) = r2;
	++r6;
	r6 = 1;
	r4 = hl_types_ArrayBase_allocI32(r5,r6);
	r11 = (h3d__$Engine)g$_h3d_Engine;
	r10 = r11->CURRENT;
	r13 = 255.;
	r12 = r3 * r13;
	r6 = (int)r12;
	r8 = 0;
	if( r6 >= r8 ) goto label$3bd692e_35_19;
	r7 = 0;
	r6 = r7;
	goto label$3bd692e_35_23;
	label$3bd692e_35_19:
	r8 = 255;
	if( r8 >= r6 ) goto label$3bd692e_35_23;
	r7 = 255;
	r6 = r7;
	label$3bd692e_35_23:
	if( r4 == NULL ) hl_null_access();
	r7 = 0;
	r8 = 0;
	r14 = r4->length;
	if( ((unsigned)r8) < ((unsigned)r14) ) goto label$3bd692e_35_30;
	r8 = 0;
	goto label$3bd692e_35_34;
	label$3bd692e_35_30:
	r5 = r4->bytes;
	r14 = 2;
	r14 = r8 << r14;
	r8 = *(int*)(r5 + r14);
	label$3bd692e_35_34:
	r14 = 16777215;
	r8 = r8 & r14;
	r15 = 24;
	r14 = r6 << r15;
	r8 = r8 | r14;
	r14 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r14) ) goto label$3bd692e_35_42;
	hl_types_ArrayBytes_Int___expand(r4,r7);
	label$3bd692e_35_42:
	r5 = r4->bytes;
	r14 = 2;
	r14 = r7 << r14;
	*(int*)(r5 + r14) = r8;
	r8 = 16;
	r7 = r1 << r8;
	r7 = r7 | r0;
	r17 = &r7;
	r5 = hl_itos(r7,r17);
	r16 = String___alloc__(r5,r7);
	r18 = (String)s$c0cb5f0;
	r16 = String___add__(r16,r18);
	r7 = 0;
	r8 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_59;
	r7 = 0;
	goto label$3bd692e_35_63;
	label$3bd692e_35_59:
	r5 = r4->bytes;
	r8 = 2;
	r8 = r7 << r8;
	r7 = *(int*)(r5 + r8);
	label$3bd692e_35_63:
	r17 = &r7;
	r5 = hl_itos(r7,r17);
	r18 = String___alloc__(r5,r7);
	r16 = String___add__(r16,r18);
	r21 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r20 = r21->genTextureKeys;
	if( r20 == NULL ) hl_null_access();
	r19 = haxe_ds_StringMap_get(r20,r16);
	r24 = &t$h3d_mat_Texture;
	r7 = 1;
	r23 = hl_alloc_array(r24,r7);
	if( r19 ) goto label$3bd692e_35_77;
	r25 = NULL;
	goto label$3bd692e_35_82;
	label$3bd692e_35_77:
	if( r10 == NULL ) hl_null_access();
	r27 = r10->resCache;
	if( r27 == NULL ) hl_null_access();
	r26 = haxe_ds_ObjectMap_get(r27,r19);
	r25 = (h3d__mat__Texture)hl_dyn_castp(&r26,&t$_dyn,&t$h3d_mat_Texture);
	label$3bd692e_35_82:
	r7 = 0;
	((h3d__mat__Texture*)(r23 + 1))[r7] = r25;
	r22 = hl_types_ArrayObj_alloc(r23);
	if( r22 == NULL ) hl_null_access();
	r7 = 0;
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_91;
	r25 = NULL;
	goto label$3bd692e_35_94;
	label$3bd692e_35_91:
	r23 = r22->array;
	r26 = ((vdynamic**)(r23 + 1))[r7];
	r25 = (h3d__mat__Texture)r26;
	label$3bd692e_35_94:
	if( !r25 ) goto label$3bd692e_35_104;
	r7 = 0;
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_100;
	r25 = NULL;
	goto label$3bd692e_35_103;
	label$3bd692e_35_100:
	r23 = r22->array;
	r26 = ((vdynamic**)(r23 + 1))[r7];
	r25 = (h3d__mat__Texture)r26;
	label$3bd692e_35_103:
	return r25;
	label$3bd692e_35_104:
	if( r19 ) goto label$3bd692e_35_111;
	r28 = hl_alloc_dynobj();
	r19 = ((vdynamic*)r28);
	r21 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r20 = r21->genTextureKeys;
	if( r20 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r20,r16,((vdynamic*)r28));
	label$3bd692e_35_111:
	r7 = 0;
	r25 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r24 = &t$h3d_mat_TextureFlags;
	r15 = 1;
	r23 = hl_alloc_array(r24,r15);
	r30 = (venum*)g$h3d_mat_TextureFlags_Target;
	r15 = 0;
	((venum**)(r23 + 1))[r15] = r30;
	r29 = hl_types_ArrayObj_alloc(r23);
	r31 = NULL;
	h3d_mat_Texture_new(r25,r1,r1,r29,r31);
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_125;
	hl_types_ArrayObj___expand(r22,r7);
	label$3bd692e_35_125:
	r23 = r22->array;
	((h3d__mat__Texture*)(r23 + 1))[r7] = r25;
	r7 = 0;
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_132;
	r25 = NULL;
	goto label$3bd692e_35_135;
	label$3bd692e_35_132:
	r23 = r22->array;
	r26 = ((vdynamic**)(r23 + 1))[r7];
	r25 = (h3d__mat__Texture)r26;
	label$3bd692e_35_135:
	if( r25 == NULL ) hl_null_access();
	r33 = hl_alloc_enum(&t$ctx_7665654,0);
	((Enumt$ctx_7665654*)r33)->p0 = (int)r0;
	((Enumt$ctx_7665654*)r33)->p1 = (hl__types__ArrayBytes_Int)r4;
	((Enumt$ctx_7665654*)r33)->p2 = (hl__types__ArrayObj)r22;
	r32 = hl_alloc_closure_ptr(&t$fun_3da524f,h3d_mat_Texture_genTexture__$1,r33);
	r25->realloc = r32;
	r7 = 0;
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_147;
	r25 = NULL;
	goto label$3bd692e_35_150;
	label$3bd692e_35_147:
	r23 = r22->array;
	r26 = ((vdynamic**)(r23 + 1))[r7];
	r25 = (h3d__mat__Texture)r26;
	label$3bd692e_35_150:
	r7 = 0;
	r8 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_155;
	r7 = 0;
	goto label$3bd692e_35_159;
	label$3bd692e_35_155:
	r5 = r4->bytes;
	r8 = 2;
	r8 = r7 << r8;
	r7 = *(int*)(r5 + r8);
	label$3bd692e_35_159:
	h3d_mat_Texture_drawGenTexture(r25,r7,r0);
	if( r10 == NULL ) hl_null_access();
	r27 = r10->resCache;
	if( r27 == NULL ) hl_null_access();
	r7 = 0;
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_168;
	r25 = NULL;
	goto label$3bd692e_35_171;
	label$3bd692e_35_168:
	r23 = r22->array;
	r34 = ((vdynamic**)(r23 + 1))[r7];
	r25 = (h3d__mat__Texture)r34;
	label$3bd692e_35_171:
	haxe_ds_ObjectMap_set(r27,r19,((vdynamic*)r25));
	r7 = 0;
	r8 = r22->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$3bd692e_35_177;
	r25 = NULL;
	goto label$3bd692e_35_180;
	label$3bd692e_35_177:
	r23 = r22->array;
	r26 = ((vdynamic**)(r23 + 1))[r7];
	r25 = (h3d__mat__Texture)r26;
	label$3bd692e_35_180:
	return r25;
}

void h3d_mat_Texture_drawGenTexture(h3d__mat__Texture r0,int r1,int r2) {
	h3d__shader__ScreenShader r9;
	hl__types__ArrayObj r6;
	h3d__shader__GenTexture r4;
	bool r10;
	h3d__Engine r7;
	h3d__pass__ScreenFx r3;
	h3d__Vector r12;
	h3d__$Engine r8;
	double r13, r15;
	int *r16, *r17;
	int r11, r14;
	r3 = (h3d__pass__ScreenFx)hl_alloc_obj(&t$h3d_pass_ScreenFx);
	r4 = (h3d__shader__GenTexture)hl_alloc_obj(&t$h3d_shader_GenTexture);
	h3d_shader_GenTexture_new(r4);
	r6 = NULL;
	h3d_pass_ScreenFx_new(r3,((h3d__shader__ScreenShader)r4),r6);
	r8 = (h3d__$Engine)g$_h3d_Engine;
	r7 = r8->CURRENT;
	r9 = r3->shader;
	r4 = (h3d__shader__GenTexture)r9;
	if( r4 == NULL ) hl_null_access();
	r10 = true;
	r4->constModified = r10;
	r4->mode__ = r2;
	r9 = r3->shader;
	r4 = (h3d__shader__GenTexture)r9;
	if( r4 == NULL ) hl_null_access();
	r12 = r4->color__;
	if( r12 == NULL ) hl_null_access();
	r14 = 16;
	r11 = r1 >> r14;
	r14 = 255;
	r11 = r11 & r14;
	r13 = (double)r11;
	r15 = 255.;
	r13 = r13 / r15;
	r12->x = r13;
	r14 = 8;
	r11 = r1 >> r14;
	r14 = 255;
	r11 = r11 & r14;
	r13 = (double)r11;
	r15 = 255.;
	r13 = r13 / r15;
	r12->y = r13;
	r14 = 255;
	r11 = r1 & r14;
	r13 = (double)r11;
	r15 = 255.;
	r13 = r13 / r15;
	r12->z = r13;
	r14 = 24;
	r11 = ((unsigned)r1) >> r14;
	r13 = (double)r11;
	r15 = 255.;
	r13 = r13 / r15;
	r12->w = r13;
	if( r7 == NULL ) hl_null_access();
	r16 = NULL;
	r17 = NULL;
	h3d_Engine_pushTarget(r7,r0,r16,r17);
	h3d_pass_ScreenFx_render(r3);
	h3d_Engine_popTarget(r7);
	return;
}

void h3d_mat_Texture_defaultCubeTexture__$1(hl__types__ArrayObj r0) {
	double *r7;
	vdynamic *r5, *r8;
	varray *r6;
	h3d__mat__Texture r4;
	int r2, r3;
	if( r0 == NULL ) hl_null_access();
	r2 = 0;
	r3 = r0->length;
	if( ((unsigned)r2) < ((unsigned)r3) ) goto label$3bd692e_37_6;
	r4 = NULL;
	goto label$3bd692e_37_9;
	label$3bd692e_37_6:
	r6 = r0->array;
	r5 = ((vdynamic**)(r6 + 1))[r2];
	r4 = (h3d__mat__Texture)r5;
	label$3bd692e_37_9:
	if( r4 == NULL ) hl_null_access();
	r2 = 2105376;
	r7 = NULL;
	r8 = NULL;
	h3d_mat_Texture_clear(r4,r2,r7,r8);
	return;
}

h3d__mat__Texture h3d_mat_Texture_defaultCubeTexture() {
	haxe__ds__ObjectMap r8;
	hl__types__ArrayObj r3, r13;
	venum *r15, *r16;
	hl_type *r5;
	h3d__mat__$Texture r9;
	h3d__Engine r0;
	h3d__$Engine r1;
	vclosure *r19;
	double *r17;
	vdynamic *r7, *r18;
	h3d__mat__Texture r10;
	int r6, r11, r12, r14;
	varray *r4;
	r1 = (h3d__$Engine)g$_h3d_Engine;
	r0 = r1->CURRENT;
	r5 = &t$h3d_mat_Texture;
	r6 = 1;
	r4 = hl_alloc_array(r5,r6);
	if( r0 == NULL ) hl_null_access();
	r8 = r0->resCache;
	if( r8 == NULL ) hl_null_access();
	r9 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r7 = haxe_ds_ObjectMap_get(r8,((vdynamic*)r9));
	r10 = (h3d__mat__Texture)hl_dyn_castp(&r7,&t$_dyn,&t$h3d_mat_Texture);
	r6 = 0;
	((h3d__mat__Texture*)(r4 + 1))[r6] = r10;
	r3 = hl_types_ArrayObj_alloc(r4);
	if( r3 == NULL ) hl_null_access();
	r6 = 0;
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_20;
	r10 = NULL;
	goto label$3bd692e_38_23;
	label$3bd692e_38_20:
	r4 = r3->array;
	r7 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (h3d__mat__Texture)r7;
	label$3bd692e_38_23:
	if( !r10 ) goto label$3bd692e_38_33;
	r6 = 0;
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_29;
	r10 = NULL;
	goto label$3bd692e_38_32;
	label$3bd692e_38_29:
	r4 = r3->array;
	r7 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (h3d__mat__Texture)r7;
	label$3bd692e_38_32:
	return r10;
	label$3bd692e_38_33:
	r6 = 0;
	r10 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r11 = 1;
	r12 = 1;
	r5 = &t$h3d_mat_TextureFlags;
	r14 = 1;
	r4 = hl_alloc_array(r5,r14);
	r15 = (venum*)g$h3d_mat_TextureFlags_Cube;
	r14 = 0;
	((venum**)(r4 + 1))[r14] = r15;
	r13 = hl_types_ArrayObj_alloc(r4);
	r16 = NULL;
	h3d_mat_Texture_new(r10,r11,r12,r13,r16);
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_49;
	hl_types_ArrayObj___expand(r3,r6);
	label$3bd692e_38_49:
	r4 = r3->array;
	((h3d__mat__Texture*)(r4 + 1))[r6] = r10;
	r6 = 0;
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_56;
	r10 = NULL;
	goto label$3bd692e_38_59;
	label$3bd692e_38_56:
	r4 = r3->array;
	r7 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (h3d__mat__Texture)r7;
	label$3bd692e_38_59:
	if( r10 == NULL ) hl_null_access();
	r6 = 2105376;
	r17 = NULL;
	r18 = NULL;
	h3d_mat_Texture_clear(r10,r6,r17,r18);
	r6 = 0;
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_69;
	r10 = NULL;
	goto label$3bd692e_38_72;
	label$3bd692e_38_69:
	r4 = r3->array;
	r7 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (h3d__mat__Texture)r7;
	label$3bd692e_38_72:
	if( r10 == NULL ) hl_null_access();
	r19 = hl_alloc_closure_ptr(&t$fun_715d8bf,h3d_mat_Texture_defaultCubeTexture__$1,r3);
	r10->realloc = r19;
	r8 = r0->resCache;
	if( r8 == NULL ) hl_null_access();
	r9 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r6 = 0;
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_83;
	r10 = NULL;
	goto label$3bd692e_38_86;
	label$3bd692e_38_83:
	r4 = r3->array;
	r7 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (h3d__mat__Texture)r7;
	label$3bd692e_38_86:
	haxe_ds_ObjectMap_set(r8,((vdynamic*)r9),((vdynamic*)r10));
	r6 = 0;
	r11 = r3->length;
	if( ((unsigned)r6) < ((unsigned)r11) ) goto label$3bd692e_38_92;
	r10 = NULL;
	goto label$3bd692e_38_95;
	label$3bd692e_38_92:
	r4 = r3->array;
	r7 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (h3d__mat__Texture)r7;
	label$3bd692e_38_95:
	return r10;
}

void h3d_mat_Texture_genChecker__$1(venum* r0) {
	int r3;
	h3d__mat__Texture r2;
	r2 = ((Enumt$ctx_de1c297*)r0)->p0;
	r3 = ((Enumt$ctx_de1c297*)r0)->p1;
	h3d_mat_Texture_allocChecker(r2,r3);
	return;
}

h3d__mat__Texture h3d_mat_Texture_genChecker(int r0) {
	vdynobj *r13;
	haxe__ds__ObjectMap r9;
	hl__types__ArrayObj r14;
	vvirtual *r11;
	venum *r18, *r19, *r20;
	hl_type *r16;
	haxe__ds__IntMap r5;
	h3d__mat__$Texture r6;
	h3d__Engine r1;
	h3d__$Engine r2;
	vclosure *r12;
	vdynamic *r4, *r8;
	int r17;
	varray *r15;
	h3d__mat__Texture r7, r10;
	r2 = (h3d__$Engine)g$_h3d_Engine;
	r1 = r2->CURRENT;
	r6 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r5 = r6->checkerTextureKeys;
	if( r5 == NULL ) hl_null_access();
	r4 = haxe_ds_IntMap_get(r5,r0);
	if( r4 ) goto label$3bd692e_40_9;
	r7 = NULL;
	goto label$3bd692e_40_14;
	label$3bd692e_40_9:
	if( r1 == NULL ) hl_null_access();
	r9 = r1->resCache;
	if( r9 == NULL ) hl_null_access();
	r8 = haxe_ds_ObjectMap_get(r9,r4);
	r7 = (h3d__mat__Texture)hl_dyn_castp(&r8,&t$_dyn,&t$h3d_mat_Texture);
	label$3bd692e_40_14:
	if( !r7 ) goto label$3bd692e_40_21;
	if( r7 == NULL ) hl_null_access();
	r11 = r7->_t;
	if( r11 ) goto label$3bd692e_40_20;
	r12 = r7->realloc;
	if( !r12 ) goto label$3bd692e_40_21;
	label$3bd692e_40_20:
	return r7;
	label$3bd692e_40_21:
	if( r4 ) goto label$3bd692e_40_28;
	r13 = hl_alloc_dynobj();
	r4 = ((vdynamic*)r13);
	r6 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r5 = r6->checkerTextureKeys;
	if( r5 == NULL ) hl_null_access();
	haxe_ds_IntMap_set(r5,r0,((vdynamic*)r13));
	label$3bd692e_40_28:
	r10 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r16 = &t$h3d_mat_TextureFlags;
	r17 = 1;
	r15 = hl_alloc_array(r16,r17);
	r18 = (venum*)g$h3d_mat_TextureFlags_NoAlloc;
	r17 = 0;
	((venum**)(r15 + 1))[r17] = r18;
	r14 = hl_types_ArrayObj_alloc(r15);
	r19 = NULL;
	h3d_mat_Texture_new(r10,r0,r0,r14,r19);
	r20 = hl_alloc_enum(&t$ctx_de1c297,0);
	((Enumt$ctx_de1c297*)r20)->p0 = (h3d__mat__Texture)r10;
	((Enumt$ctx_de1c297*)r20)->p1 = (int)r0;
	r12 = hl_alloc_closure_ptr(&t$fun_c4f4c4c,h3d_mat_Texture_genChecker__$1,r20);
	r10->realloc = r12;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->resCache;
	if( r9 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r9,r4,((vdynamic*)r10));
	return r10;
}

void h3d_mat_Texture_genNoise__$1(venum* r0) {
	int r3;
	h3d__mat__Texture r2;
	r2 = ((Enumt$ctx_de1c297*)r0)->p0;
	r3 = ((Enumt$ctx_de1c297*)r0)->p1;
	h3d_mat_Texture_allocNoise(r2,r3);
	return;
}

h3d__mat__Texture h3d_mat_Texture_genNoise(int r0) {
	vdynobj *r13;
	haxe__ds__ObjectMap r9;
	hl__types__ArrayObj r14;
	vvirtual *r11;
	venum *r18, *r19, *r20;
	hl_type *r16;
	haxe__ds__IntMap r5;
	h3d__mat__$Texture r6;
	h3d__Engine r1;
	h3d__$Engine r2;
	vclosure *r12;
	vdynamic *r4, *r8;
	int r17;
	varray *r15;
	h3d__mat__Texture r7, r10;
	r2 = (h3d__$Engine)g$_h3d_Engine;
	r1 = r2->CURRENT;
	r6 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r5 = r6->noiseTextureKeys;
	if( r5 == NULL ) hl_null_access();
	r4 = haxe_ds_IntMap_get(r5,r0);
	if( r4 ) goto label$3bd692e_42_9;
	r7 = NULL;
	goto label$3bd692e_42_14;
	label$3bd692e_42_9:
	if( r1 == NULL ) hl_null_access();
	r9 = r1->resCache;
	if( r9 == NULL ) hl_null_access();
	r8 = haxe_ds_ObjectMap_get(r9,r4);
	r7 = (h3d__mat__Texture)hl_dyn_castp(&r8,&t$_dyn,&t$h3d_mat_Texture);
	label$3bd692e_42_14:
	if( !r7 ) goto label$3bd692e_42_21;
	if( r7 == NULL ) hl_null_access();
	r11 = r7->_t;
	if( r11 ) goto label$3bd692e_42_20;
	r12 = r7->realloc;
	if( !r12 ) goto label$3bd692e_42_21;
	label$3bd692e_42_20:
	return r7;
	label$3bd692e_42_21:
	if( r4 ) goto label$3bd692e_42_28;
	r13 = hl_alloc_dynobj();
	r4 = ((vdynamic*)r13);
	r6 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r5 = r6->noiseTextureKeys;
	if( r5 == NULL ) hl_null_access();
	haxe_ds_IntMap_set(r5,r0,((vdynamic*)r13));
	label$3bd692e_42_28:
	r10 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r16 = &t$h3d_mat_TextureFlags;
	r17 = 1;
	r15 = hl_alloc_array(r16,r17);
	r18 = (venum*)g$h3d_mat_TextureFlags_NoAlloc;
	r17 = 0;
	((venum**)(r15 + 1))[r17] = r18;
	r14 = hl_types_ArrayObj_alloc(r15);
	r19 = NULL;
	h3d_mat_Texture_new(r10,r0,r0,r14,r19);
	r20 = hl_alloc_enum(&t$ctx_de1c297,0);
	((Enumt$ctx_de1c297*)r20)->p0 = (h3d__mat__Texture)r10;
	((Enumt$ctx_de1c297*)r20)->p1 = (int)r0;
	r12 = hl_alloc_closure_ptr(&t$fun_c4f4c4c,h3d_mat_Texture_genNoise__$1,r20);
	r10->realloc = r12;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->resCache;
	if( r9 == NULL ) hl_null_access();
	haxe_ds_ObjectMap_set(r9,r4,((vdynamic*)r10));
	return r10;
}

void h3d_mat_Texture_allocNoise(h3d__mat__Texture r0,int r1) {
	hxd__BitmapData r2;
	hxd__BitmapInnerDataImpl r16;
	int *r14, *r15;
	int r3, r4, r6, r7, r8, r9, r10, r11, r12, r13;
	r2 = (hxd__BitmapData)hl_alloc_obj(&t$hxd_BitmapData);
	hxd_BitmapData_new(r2,r1,r1);
	r3 = 0;
	r4 = r1;
	label$3bd692e_43_4:
	if( r3 >= r4 ) goto label$3bd692e_43_28;
	r6 = r3;
	++r3;
	r7 = 0;
	r8 = r1;
	label$3bd692e_43_10:
	if( r7 >= r8 ) goto label$3bd692e_43_27;
	r9 = r7;
	++r7;
	r10 = 256;
	r10 = Std_random(r10);
	if( r2 == NULL ) hl_null_access();
	r11 = -16777216;
	r11 = r11 | r10;
	r13 = 8;
	r12 = r10 << r13;
	r11 = r11 | r12;
	r13 = 16;
	r12 = r10 << r13;
	r11 = r11 | r12;
	hxd_BitmapData_setPixel(r2,r6,r9,r11);
	goto label$3bd692e_43_10;
	label$3bd692e_43_27:
	goto label$3bd692e_43_4;
	label$3bd692e_43_28:
	if( r0 == NULL ) hl_null_access();
	r14 = NULL;
	r15 = NULL;
	h3d_mat_Texture_uploadBitmap(r0,r2,r14,r15);
	if( r2 == NULL ) hl_null_access();
	r16 = NULL;
	r2->data = r16;
	return;
}

void h3d_mat_Texture_allocChecker(h3d__mat__Texture r0,int r1) {
	hxd__BitmapData r2;
	hxd__BitmapInnerDataImpl r16;
	int *r14, *r15;
	int r3, r4, r6, r7, r8, r9, r10, r11, r12, r13;
	r2 = (hxd__BitmapData)hl_alloc_obj(&t$hxd_BitmapData);
	hxd_BitmapData_new(r2,r1,r1);
	r3 = -1;
	hxd_BitmapData_clear(r2,r3);
	r3 = 0;
	r6 = 1;
	r4 = r1 >> r6;
	label$3bd692e_44_7:
	if( r3 >= r4 ) goto label$3bd692e_44_31;
	r6 = r3;
	++r3;
	r7 = 0;
	r9 = 1;
	r8 = r1 >> r9;
	label$3bd692e_44_14:
	if( r7 >= r8 ) goto label$3bd692e_44_30;
	r9 = r7;
	++r7;
	if( r2 == NULL ) hl_null_access();
	r12 = -16777216;
	hxd_BitmapData_setPixel(r2,r6,r9,r12);
	r12 = 1;
	r11 = r1 >> r12;
	r10 = r6 + r11;
	r13 = 1;
	r12 = r1 >> r13;
	r11 = r9 + r12;
	r12 = -16777216;
	hxd_BitmapData_setPixel(r2,r10,r11,r12);
	goto label$3bd692e_44_14;
	label$3bd692e_44_30:
	goto label$3bd692e_44_7;
	label$3bd692e_44_31:
	if( r0 == NULL ) hl_null_access();
	r14 = NULL;
	r15 = NULL;
	h3d_mat_Texture_uploadBitmap(r0,r2,r14,r15);
	if( r2 == NULL ) hl_null_access();
	r16 = NULL;
	r2->data = r16;
	return;
}

void h3d_mat_Texture_new(h3d__mat__Texture r0,int r1,int r2,hl__types__ArrayObj r3,venum* r4) {
	venum *r10, *r16, *r21, *r22, *r23;
	h3d__mat__$Texture r11;
	h3d__Engine r6;
	h3d__impl__MemoryManager r9;
	h3d__$Engine r7;
	vclosure *r20;
	double r5;
	vdynamic *r17;
	varray *r18;
	int r12, r13, r14, r15, r19;
	static vclosure cl$0 = { &t$fun_7b48b4f, h3d_mat_Texture_new__$1, 0 };
	r5 = 0.;
	r0->lodBias = r5;
	r7 = (h3d__$Engine)g$_h3d_Engine;
	r6 = r7->CURRENT;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->mem;
	r0->mem = r9;
	if( r4 ) goto label$3bd692e_45_11;
	r11 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r10 = r11->nativeFormat;
	r4 = r10;
	label$3bd692e_45_11:
	r11 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r12 = r11->UID;
	++r12;
	r11->UID = r12;
	r0->id = r12;
	r0->format = r4;
	r12 = 0;
	r0->flags = r12;
	if( !r3 ) goto label$3bd692e_45_41;
	r13 = 0;
	label$3bd692e_45_21:
	if( r3 == NULL ) hl_null_access();
	r15 = r3->length;
	if( r13 >= r15 ) goto label$3bd692e_45_41;
	r15 = r3->length;
	if( ((unsigned)r13) < ((unsigned)r15) ) goto label$3bd692e_45_29;
	r16 = NULL;
	goto label$3bd692e_45_32;
	label$3bd692e_45_29:
	r18 = r3->array;
	r17 = ((vdynamic**)(r18 + 1))[r13];
	r16 = (venum*)r17;
	label$3bd692e_45_32:
	++r13;
	r14 = r0->flags;
	r15 = 1;
	if( r16 == NULL ) hl_null_access();
	r19 = HL__ENUM_INDEX__(r16);
	r15 = r15 << r19;
	r14 = r14 | r15;
	r0->flags = r14;
	goto label$3bd692e_45_21;
	label$3bd692e_45_41:
	r13 = 1;
	r14 = 1;
	label$3bd692e_45_43:
	if( r13 >= r1 ) goto label$3bd692e_45_49;
	r19 = 1;
	r15 = r13 << r19;
	r13 = r15;
	goto label$3bd692e_45_43;
	label$3bd692e_45_49:
	if( r14 >= r2 ) goto label$3bd692e_45_55;
	r19 = 1;
	r15 = r14 << r19;
	r14 = r15;
	goto label$3bd692e_45_49;
	label$3bd692e_45_55:
	if( r13 != r1 ) goto label$3bd692e_45_57;
	if( r14 == r2 ) goto label$3bd692e_45_61;
	label$3bd692e_45_57:
	r15 = r0->flags;
	r19 = 16;
	r15 = r15 | r19;
	r0->flags = r15;
	label$3bd692e_45_61:
	r15 = r0->flags;
	r19 = 1;
	r15 = r15 & r19;
	r19 = 0;
	if( r15 == r19 ) goto label$3bd692e_45_68;
	r20 = &cl$0;
	r0->realloc = r20;
	label$3bd692e_45_68:
	r0->width = r1;
	r0->height = r2;
	r15 = r0->flags;
	r19 = 4;
	r15 = r15 & r19;
	r19 = 0;
	if( r15 == r19 ) goto label$3bd692e_45_77;
	r21 = (venum*)g$h3d_mat_MipMap_Nearest;
	goto label$3bd692e_45_78;
	label$3bd692e_45_77:
	r21 = (venum*)g$h3d_mat_MipMap_None;
	label$3bd692e_45_78:
	r21 = h3d_mat_Texture_set_mipMap(r0,r21);
	r22 = (venum*)g$h3d_mat_Filter_Linear;
	r22 = h3d_mat_Texture_set_filter(r0,r22);
	r23 = (venum*)g$h3d_mat_Wrap_Clamp;
	r23 = h3d_mat_Texture_set_wrap(r0,r23);
	r15 = r0->bits;
	r19 = 32767;
	r15 = r15 & r19;
	r0->bits = r15;
	r15 = r0->flags;
	r19 = 32;
	r15 = r15 & r19;
	r19 = 0;
	if( r15 != r19 ) goto label$3bd692e_45_93;
	h3d_mat_Texture_alloc(r0);
	label$3bd692e_45_93:
	return;
}

