// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h3d/pass/DirShadowMap.h>
extern venum* g$h3d_pass_RenderMode_None;
void h3d_pass_Border_dispose(h3d__pass__Border);
extern hl_type t$h3d_pass_Border;
void h3d_pass_Border_new(h3d__pass__Border,int,int,int*);
int h3d_pass_Shadows_set_size(h3d__pass__Shadows,int);
void h3d_pass_Shadows_dispose(h3d__pass__Shadows);
void h3d_mat_DepthBuffer_dispose(h3d__mat__DepthBuffer);
#include <h3d/scene/Mesh.h>
#include <h3d/prim/Primitive.h>
#include <h3d/mat/Material.h>
#include <h3d/scene/Object.h>
h3d__Matrix h3d_scene_Object_getAbsPos(h3d__scene__Object);
void h3d_Matrix_multiply3x4(h3d__Matrix,h3d__Matrix,h3d__Matrix);
#include <h3d/scene/Scene.h>
#include <hl/types/ArrayObj.h>
#include <h3d/Vector.h>
extern hl_type t$h3d_Matrix;
void h3d_Matrix_new(h3d__Matrix);
extern hl_type t$ctx_6f5deb4;
extern hl_type t$fun_f76a615;
void h3d_scene_Object_iterVisibleMeshes(h3d__scene__Object,vclosure*);
extern venum* g$h3d_pass_RenderMode_Dynamic;
extern hl_type t$h3d_col_Bounds;
void h3d_col_Bounds_new(h3d__col__Bounds);
hl__types__ArrayObj h3d_Camera_getFrustumCorners(h3d__Camera,double*,double*);
void h3d_col_Bounds_intersection(h3d__col__Bounds,h3d__col__Bounds,h3d__col__Bounds);
void h3d_col_Bounds_load(h3d__col__Bounds,h3d__col__Bounds);
void h3d_col_Bounds_scaleCenter(h3d__col__Bounds,double);
#include <haxe/ds/IntMap.h>
#include <hxsl/Globals.h>
void h3d_pass_Default_setGlobals(h3d__pass__Default);
extern venum* g$h3d_pass_RenderMode_Mixed;
void h3d_Camera_update(h3d__Camera);
h3d__Matrix h3d_pass_Shadows_getShadowProj(h3d__pass__Shadows);
void haxe_ds_IntMap_set(haxe__ds__IntMap,int,vdynamic*);
#include <hxsl/Channel.h>
#include <h3d/mat/Texture.h>
extern h3d__mat__$Texture g$_h3d_mat_Texture;
extern venum* g$hxsl_Channel_PackedFloat;
extern venum* g$hxsl_Channel_R;
extern venum* g$h3d_pass_ShadowSamplingKind_ESM;
extern venum* g$h3d_pass_ShadowSamplingKind_PCF;
#include <haxe/io/Bytes.h>
#include <hxd/Pixels.h>
#include <h2d/col/IBounds.h>
#include <haxe/io/BytesBuffer.h>
extern venum* g$h3d_pass_RenderMode_Static;
extern String s$Data_not_computed;
vdynamic* haxe_Exception_thrown(vdynamic*);
hxd__Pixels h3d_mat_Texture_capturePixels(h3d__mat__Texture,int*,int*,h2d__col__IBounds);
haxe__io__Bytes haxe_zip_Compress_run(haxe__io__Bytes,int);
extern hl_type t$haxe_io_BytesBuffer;
void haxe_io_BytesBuffer_new(haxe__io__BytesBuffer);
void haxe_io_BytesBuffer___expand(haxe__io__BytesBuffer,int);
void haxe_io_BytesBuffer___add(haxe__io__BytesBuffer,vbyte*,int,int);
haxe__io__Bytes haxe_io_BytesBuffer_getBytes(haxe__io__BytesBuffer);
#include <haxe/io/BytesInput.h>
#include <h3d/mat/TextureFlags.h>
extern hl_type t$haxe_io_BytesInput;
void haxe_io_BytesInput_new(haxe__io__BytesInput,haxe__io__Bytes,vdynamic*,vdynamic*);
#include <haxe/io/Input.h>
int haxe_io_Input_readInt32(haxe__io__Input);
double haxe_io_Input_readFloat(haxe__io__Input);
extern hl_type t$hxd_Pixels;
haxe__io__Bytes haxe_io_Input_read(haxe__io__Input,int);
haxe__io__Bytes haxe_zip_Uncompress_run(haxe__io__Bytes,vdynamic*);
void hxd_Pixels_new(hxd__Pixels,int,int,haxe__io__Bytes,venum*,int*);
void h3d_mat_Texture_dispose(h3d__mat__Texture);
extern hl_type t$h3d_mat_Texture;
extern hl_type t$h3d_mat_TextureFlags;
#include <hl/natives.h>
extern venum* g$h3d_mat_TextureFlags_Target;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void h3d_mat_Texture_new(h3d__mat__Texture,int,int,hl__types__ArrayObj,venum*);
void h3d_mat_Texture_uploadPixels(h3d__mat__Texture,hxd__Pixels,int*,int*);
extern String s$staticTexture;
void h3d_mat_Texture_preventAutoDispose(h3d__mat__Texture);
#include <h3d/col/Ray.h>
#include <h3d/col/Sphere.h>
#include <h3d/col/Frustum.h>
#include <h3d/col/Point.h>
extern hl_type t$fun_b7b1fe3;
#include <h3d/pass/PassObject.h>
#include <h3d/impl/TextureCache.h>
#include <h3d/mat/DepthFormat.h>
#include <h3d/scene/LightSystem.h>
#include <h3d/Engine.h>
#include <h3d/shader/ScreenShader.h>
#include <h3d/shader/MinMaxShader.h>
bool h3d_pass_Shadows_filterPasses(h3d__pass__Shadows,h3d__pass__PassList);
extern hl_type t$fun_ccf33c0;
extern String s$dirShadowMap;
h3d__mat__Texture h3d_impl_TextureCache_allocTarget(h3d__impl__TextureCache,String,int,int,bool*,venum*,bool*);
bool h3d_mat_DepthBuffer_isDisposed(h3d__mat__DepthBuffer);
extern hl_type t$h3d_mat_DepthBuffer;
void h3d_mat_DepthBuffer_new(h3d__mat__DepthBuffer,int,int,venum*);
h3d__Vector h3d_scene_Light_getShadowDirection(h3d__scene__Light);
void h3d_Engine_pushTarget(h3d__Engine,h3d__mat__Texture,int*,int*);
extern hl_type t$_i32;
extern hl_type t$_f64;
void h3d_Engine_clear(h3d__Engine,vdynamic*,vdynamic*,vdynamic*);
void h3d_pass_Default_draw(h3d__pass__Default,h3d__pass__PassList,vclosure*);
void h3d_pass_ScreenFx_render(h3d__pass__ScreenFx);
void h3d_Engine_popTarget(h3d__Engine);
extern String s$mergedDirShadowMap;
#include <h3d/impl/RenderContext.h>
void h3d_pass_Blur_apply(h3d__pass__Blur,h3d__impl__RenderContext,h3d__mat__Texture,h3d__mat__Texture);
extern String s$StaticDirShadowMap;
#include <h3d/impl/Driver.h>
#include <h3d/impl/Feature.h>
extern hl_type t$fun_48e3d53;
extern hl_type t$h3d_pass_ScreenFx;
extern hl_type t$h3d_shader_MinMaxShader;
void h3d_shader_MinMaxShader_new(h3d__shader__MinMaxShader);
void h3d_pass_ScreenFx_new(h3d__pass__ScreenFx,h3d__shader__ScreenShader,hl__types__ArrayObj);
void h3d_pass_Shadows_new(h3d__pass__Shadows,h3d__scene__Light);
extern hl_type t$h3d_Camera;
void h3d_Camera_new(h3d__Camera,double*,double*,double*,double*,double*,bool*);
extern hl_type t$h3d_shader_DirShadow;
void h3d_shader_DirShadow_new(h3d__shader__DirShadow);
extern h3d__$Engine g$_h3d_Engine;
extern venum* g$8341d6f;
h3d__mat__DepthBuffer h3d_mat_DepthBuffer_getDefault(void);

venum* h3d_pass_DirShadowMap_set_mode(h3d__pass__DirShadowMap r0,venum* r1) {
	venum *r4;
	bool r3;
	h3d__shader__DirShadow r2;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r3 = true;
	r2->constModified = r3;
	r4 = (venum*)g$h3d_pass_RenderMode_None;
	if( r1 != r4 ) goto label$375b116_1_8;
	r3 = false;
	goto label$375b116_1_9;
	label$375b116_1_8:
	r3 = true;
	label$375b116_1_9:
	r2->enable__ = r3;
	r0->mode = r1;
	return r1;
}

bool h3d_pass_DirShadowMap_set_enabled(h3d__pass__DirShadowMap r0,bool r1) {
	venum *r4, *r5;
	bool r3;
	h3d__shader__DirShadow r2;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r3 = true;
	r2->constModified = r3;
	if( !r1 ) goto label$375b116_2_10;
	r4 = r0->mode;
	r5 = (venum*)g$h3d_pass_RenderMode_None;
	if( r4 == r5 ) goto label$375b116_2_10;
	r3 = true;
	goto label$375b116_2_11;
	label$375b116_2_10:
	r3 = false;
	label$375b116_2_11:
	r2->enable__ = r3;
	r0->enabled = r1;
	return r1;
}

int h3d_pass_DirShadowMap_set_size(h3d__pass__DirShadowMap r0,int r1) {
	h3d__pass__Border r3;
	int *r5;
	int r4;
	r3 = r0->border;
	if( !r3 ) goto label$375b116_3_11;
	r4 = r0->size;
	if( r4 == r1 ) goto label$375b116_3_11;
	r3 = r0->border;
	if( r3 == NULL ) hl_null_access();
	h3d_pass_Border_dispose(r3);
	r3 = (h3d__pass__Border)hl_alloc_obj(&t$h3d_pass_Border);
	r5 = NULL;
	h3d_pass_Border_new(r3,r1,r1,r5);
	r0->border = r3;
	label$375b116_3_11:
	r4 = h3d_pass_Shadows_set_size(((h3d__pass__Shadows)r0),r1);
	return r4;
}

void h3d_pass_DirShadowMap_dispose(h3d__pass__DirShadowMap r0) {
	h3d__mat__DepthBuffer r3;
	bool r2;
	h3d__pass__Border r4;
	h3d_pass_Shadows_dispose(((h3d__pass__Shadows)r0));
	r2 = r0->customDepth;
	if( !r2 ) goto label$375b116_4_8;
	r3 = r0->depth;
	if( !r3 ) goto label$375b116_4_8;
	r3 = r0->depth;
	if( r3 == NULL ) hl_null_access();
	h3d_mat_DepthBuffer_dispose(r3);
	label$375b116_4_8:
	r4 = r0->border;
	if( r4 == NULL ) hl_null_access();
	h3d_pass_Border_dispose(r4);
	return;
}

h3d__mat__Texture h3d_pass_DirShadowMap_getShadowTex(h3d__pass__DirShadowMap r0) {
	h3d__shader__DirShadow r2;
	h3d__mat__Texture r1;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->shadowMap__;
	return r1;
}

void h3d_pass_DirShadowMap_calcShadowBounds__$1(venum* r0,h3d__scene__Mesh r1) {
	h3d__prim__Primitive r3;
	bool r4;
	h3d__col__Bounds r6, r8;
	h3d__mat__Material r5;
	h3d__Camera r13;
	double r7, r9, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r26, r27, r28, r29, r30, r31, r32, r33, r34, r35, r36, r37, r38, r39, r40;
	h3d__Matrix r10, r11, r12;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->primitive;
	if( !r3 ) goto label$375b116_6_7;
	r5 = r1->material;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->castShadows;
	if( r4 ) goto label$375b116_6_8;
	label$375b116_6_7:
	return;
	label$375b116_6_8:
	r3 = r1->primitive;
	if( r3 == NULL ) hl_null_access();
	r6 = ((h3d__col__Bounds (*)(h3d__prim__Primitive))r3->$type->vobj_proto[3])(r3);
	if( r6 == NULL ) hl_null_access();
	r7 = r6->xMin;
	r9 = r6->xMax;
	if( !(r9 < r7) ) goto label$375b116_6_16;
	return;
	label$375b116_6_16:
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r11 = h3d_scene_Object_getAbsPos(((h3d__scene__Object)r1));
	r13 = ((Enumt$ctx_6f5deb4*)r0)->p0;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->mcam;
	h3d_Matrix_multiply3x4(r10,r11,r12);
	r7 = r6->xMin;
	r9 = r6->yMin;
	r14 = r6->zMin;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r16 = r10->_11;
	r15 = r7 * r16;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r17 = r10->_21;
	r16 = r9 * r17;
	r15 = r15 + r16;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r17 = r10->_31;
	r16 = r14 * r17;
	r15 = r15 + r16;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r16 = r10->_41;
	r15 = r15 + r16;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r17 = r10->_12;
	r16 = r7 * r17;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r18 = r10->_22;
	r17 = r9 * r18;
	r16 = r16 + r17;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r18 = r10->_32;
	r17 = r14 * r18;
	r16 = r16 + r17;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r17 = r10->_42;
	r16 = r16 + r17;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r18 = r10->_13;
	r17 = r7 * r18;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r19 = r10->_23;
	r18 = r9 * r19;
	r17 = r17 + r18;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r19 = r10->_33;
	r18 = r14 * r19;
	r17 = r17 + r18;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r18 = r10->_43;
	r17 = r17 + r18;
	r9 = r16;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->xMin;
	if( !(r15 < r16) ) goto label$375b116_6_88;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r15;
	label$375b116_6_88:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->xMax;
	if( !(r16 < r15) ) goto label$375b116_6_95;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r15;
	label$375b116_6_95:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->yMin;
	if( !(r9 < r16) ) goto label$375b116_6_102;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r9;
	label$375b116_6_102:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->yMax;
	if( !(r16 < r9) ) goto label$375b116_6_109;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r9;
	label$375b116_6_109:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->zMin;
	if( !(r17 < r16) ) goto label$375b116_6_116;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r17;
	label$375b116_6_116:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r16 = r8->zMax;
	if( !(r16 < r17) ) goto label$375b116_6_123;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r17;
	label$375b116_6_123:
	r15 = r6->xMin;
	r16 = r6->yMin;
	r17 = r6->zMax;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r19 = r10->_11;
	r18 = r15 * r19;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->_21;
	r19 = r16 * r20;
	r18 = r18 + r19;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->_31;
	r19 = r17 * r20;
	r18 = r18 + r19;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r19 = r10->_41;
	r18 = r18 + r19;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->_12;
	r19 = r15 * r20;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r21 = r10->_22;
	r20 = r16 * r21;
	r19 = r19 + r20;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r21 = r10->_32;
	r20 = r17 * r21;
	r19 = r19 + r20;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r20 = r10->_42;
	r19 = r19 + r20;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r21 = r10->_13;
	r20 = r15 * r21;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r22 = r10->_23;
	r21 = r16 * r22;
	r20 = r20 + r21;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r22 = r10->_33;
	r21 = r17 * r22;
	r20 = r20 + r21;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r21 = r10->_43;
	r20 = r20 + r21;
	r16 = r19;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r19 = r8->xMin;
	if( !(r18 < r19) ) goto label$375b116_6_188;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r18;
	label$375b116_6_188:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r19 = r8->xMax;
	if( !(r19 < r18) ) goto label$375b116_6_195;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r18;
	label$375b116_6_195:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r19 = r8->yMin;
	if( !(r16 < r19) ) goto label$375b116_6_202;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r16;
	label$375b116_6_202:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r19 = r8->yMax;
	if( !(r19 < r16) ) goto label$375b116_6_209;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r16;
	label$375b116_6_209:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r19 = r8->zMin;
	if( !(r20 < r19) ) goto label$375b116_6_216;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r20;
	label$375b116_6_216:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r19 = r8->zMax;
	if( !(r19 < r20) ) goto label$375b116_6_223;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r20;
	label$375b116_6_223:
	r18 = r6->xMin;
	r19 = r6->yMax;
	r20 = r6->zMin;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r22 = r10->_11;
	r21 = r18 * r22;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r23 = r10->_21;
	r22 = r19 * r23;
	r21 = r21 + r22;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r23 = r10->_31;
	r22 = r20 * r23;
	r21 = r21 + r22;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r22 = r10->_41;
	r21 = r21 + r22;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r23 = r10->_12;
	r22 = r18 * r23;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r24 = r10->_22;
	r23 = r19 * r24;
	r22 = r22 + r23;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r24 = r10->_32;
	r23 = r20 * r24;
	r22 = r22 + r23;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r23 = r10->_42;
	r22 = r22 + r23;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r24 = r10->_13;
	r23 = r18 * r24;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r25 = r10->_23;
	r24 = r19 * r25;
	r23 = r23 + r24;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r25 = r10->_33;
	r24 = r20 * r25;
	r23 = r23 + r24;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r24 = r10->_43;
	r23 = r23 + r24;
	r19 = r22;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r22 = r8->xMin;
	if( !(r21 < r22) ) goto label$375b116_6_288;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r21;
	label$375b116_6_288:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r22 = r8->xMax;
	if( !(r22 < r21) ) goto label$375b116_6_295;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r21;
	label$375b116_6_295:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r22 = r8->yMin;
	if( !(r19 < r22) ) goto label$375b116_6_302;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r19;
	label$375b116_6_302:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r22 = r8->yMax;
	if( !(r22 < r19) ) goto label$375b116_6_309;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r19;
	label$375b116_6_309:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r22 = r8->zMin;
	if( !(r23 < r22) ) goto label$375b116_6_316;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r23;
	label$375b116_6_316:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r22 = r8->zMax;
	if( !(r22 < r23) ) goto label$375b116_6_323;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r23;
	label$375b116_6_323:
	r21 = r6->xMin;
	r22 = r6->yMax;
	r23 = r6->zMax;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r25 = r10->_11;
	r24 = r21 * r25;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r26 = r10->_21;
	r25 = r22 * r26;
	r24 = r24 + r25;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r26 = r10->_31;
	r25 = r23 * r26;
	r24 = r24 + r25;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r25 = r10->_41;
	r24 = r24 + r25;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r26 = r10->_12;
	r25 = r21 * r26;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r27 = r10->_22;
	r26 = r22 * r27;
	r25 = r25 + r26;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r27 = r10->_32;
	r26 = r23 * r27;
	r25 = r25 + r26;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r26 = r10->_42;
	r25 = r25 + r26;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r27 = r10->_13;
	r26 = r21 * r27;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r28 = r10->_23;
	r27 = r22 * r28;
	r26 = r26 + r27;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r28 = r10->_33;
	r27 = r23 * r28;
	r26 = r26 + r27;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r27 = r10->_43;
	r26 = r26 + r27;
	r22 = r25;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r25 = r8->xMin;
	if( !(r24 < r25) ) goto label$375b116_6_388;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r24;
	label$375b116_6_388:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r25 = r8->xMax;
	if( !(r25 < r24) ) goto label$375b116_6_395;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r24;
	label$375b116_6_395:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r25 = r8->yMin;
	if( !(r22 < r25) ) goto label$375b116_6_402;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r22;
	label$375b116_6_402:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r25 = r8->yMax;
	if( !(r25 < r22) ) goto label$375b116_6_409;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r22;
	label$375b116_6_409:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r25 = r8->zMin;
	if( !(r26 < r25) ) goto label$375b116_6_416;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r26;
	label$375b116_6_416:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r25 = r8->zMax;
	if( !(r25 < r26) ) goto label$375b116_6_423;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r26;
	label$375b116_6_423:
	r24 = r6->xMax;
	r25 = r6->yMin;
	r26 = r6->zMin;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r28 = r10->_11;
	r27 = r24 * r28;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r29 = r10->_21;
	r28 = r25 * r29;
	r27 = r27 + r28;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r29 = r10->_31;
	r28 = r26 * r29;
	r27 = r27 + r28;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r28 = r10->_41;
	r27 = r27 + r28;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r29 = r10->_12;
	r28 = r24 * r29;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r30 = r10->_22;
	r29 = r25 * r30;
	r28 = r28 + r29;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r30 = r10->_32;
	r29 = r26 * r30;
	r28 = r28 + r29;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r29 = r10->_42;
	r28 = r28 + r29;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r30 = r10->_13;
	r29 = r24 * r30;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r31 = r10->_23;
	r30 = r25 * r31;
	r29 = r29 + r30;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r31 = r10->_33;
	r30 = r26 * r31;
	r29 = r29 + r30;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r30 = r10->_43;
	r29 = r29 + r30;
	r25 = r28;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r28 = r8->xMin;
	if( !(r27 < r28) ) goto label$375b116_6_488;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r27;
	label$375b116_6_488:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r28 = r8->xMax;
	if( !(r28 < r27) ) goto label$375b116_6_495;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r27;
	label$375b116_6_495:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r28 = r8->yMin;
	if( !(r25 < r28) ) goto label$375b116_6_502;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r25;
	label$375b116_6_502:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r28 = r8->yMax;
	if( !(r28 < r25) ) goto label$375b116_6_509;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r25;
	label$375b116_6_509:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r28 = r8->zMin;
	if( !(r29 < r28) ) goto label$375b116_6_516;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r29;
	label$375b116_6_516:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r28 = r8->zMax;
	if( !(r28 < r29) ) goto label$375b116_6_523;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r29;
	label$375b116_6_523:
	r27 = r6->xMax;
	r28 = r6->yMin;
	r29 = r6->zMax;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r31 = r10->_11;
	r30 = r27 * r31;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r32 = r10->_21;
	r31 = r28 * r32;
	r30 = r30 + r31;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r32 = r10->_31;
	r31 = r29 * r32;
	r30 = r30 + r31;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r31 = r10->_41;
	r30 = r30 + r31;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r32 = r10->_12;
	r31 = r27 * r32;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r33 = r10->_22;
	r32 = r28 * r33;
	r31 = r31 + r32;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r33 = r10->_32;
	r32 = r29 * r33;
	r31 = r31 + r32;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r32 = r10->_42;
	r31 = r31 + r32;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r33 = r10->_13;
	r32 = r27 * r33;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r34 = r10->_23;
	r33 = r28 * r34;
	r32 = r32 + r33;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r34 = r10->_33;
	r33 = r29 * r34;
	r32 = r32 + r33;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r33 = r10->_43;
	r32 = r32 + r33;
	r28 = r31;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r31 = r8->xMin;
	if( !(r30 < r31) ) goto label$375b116_6_588;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r30;
	label$375b116_6_588:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r31 = r8->xMax;
	if( !(r31 < r30) ) goto label$375b116_6_595;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r30;
	label$375b116_6_595:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r31 = r8->yMin;
	if( !(r28 < r31) ) goto label$375b116_6_602;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r28;
	label$375b116_6_602:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r31 = r8->yMax;
	if( !(r31 < r28) ) goto label$375b116_6_609;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r28;
	label$375b116_6_609:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r31 = r8->zMin;
	if( !(r32 < r31) ) goto label$375b116_6_616;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r32;
	label$375b116_6_616:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r31 = r8->zMax;
	if( !(r31 < r32) ) goto label$375b116_6_623;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r32;
	label$375b116_6_623:
	r30 = r6->xMax;
	r31 = r6->yMax;
	r32 = r6->zMin;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r34 = r10->_11;
	r33 = r30 * r34;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r35 = r10->_21;
	r34 = r31 * r35;
	r33 = r33 + r34;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r35 = r10->_31;
	r34 = r32 * r35;
	r33 = r33 + r34;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r34 = r10->_41;
	r33 = r33 + r34;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r35 = r10->_12;
	r34 = r30 * r35;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r36 = r10->_22;
	r35 = r31 * r36;
	r34 = r34 + r35;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r36 = r10->_32;
	r35 = r32 * r36;
	r34 = r34 + r35;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r35 = r10->_42;
	r34 = r34 + r35;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r36 = r10->_13;
	r35 = r30 * r36;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r37 = r10->_23;
	r36 = r31 * r37;
	r35 = r35 + r36;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r37 = r10->_33;
	r36 = r32 * r37;
	r35 = r35 + r36;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r36 = r10->_43;
	r35 = r35 + r36;
	r31 = r34;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r34 = r8->xMin;
	if( !(r33 < r34) ) goto label$375b116_6_688;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r33;
	label$375b116_6_688:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r34 = r8->xMax;
	if( !(r34 < r33) ) goto label$375b116_6_695;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r33;
	label$375b116_6_695:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r34 = r8->yMin;
	if( !(r31 < r34) ) goto label$375b116_6_702;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r31;
	label$375b116_6_702:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r34 = r8->yMax;
	if( !(r34 < r31) ) goto label$375b116_6_709;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r31;
	label$375b116_6_709:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r34 = r8->zMin;
	if( !(r35 < r34) ) goto label$375b116_6_716;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r35;
	label$375b116_6_716:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r34 = r8->zMax;
	if( !(r34 < r35) ) goto label$375b116_6_723;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r35;
	label$375b116_6_723:
	r33 = r6->xMax;
	r34 = r6->yMax;
	r35 = r6->zMax;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r37 = r10->_11;
	r36 = r33 * r37;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r38 = r10->_21;
	r37 = r34 * r38;
	r36 = r36 + r37;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r38 = r10->_31;
	r37 = r35 * r38;
	r36 = r36 + r37;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r37 = r10->_41;
	r36 = r36 + r37;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r38 = r10->_12;
	r37 = r33 * r38;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r39 = r10->_22;
	r38 = r34 * r39;
	r37 = r37 + r38;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r39 = r10->_32;
	r38 = r35 * r39;
	r37 = r37 + r38;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r38 = r10->_42;
	r37 = r37 + r38;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r39 = r10->_13;
	r38 = r33 * r39;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r40 = r10->_23;
	r39 = r34 * r40;
	r38 = r38 + r39;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r40 = r10->_33;
	r39 = r35 * r40;
	r38 = r38 + r39;
	r10 = ((Enumt$ctx_6f5deb4*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r39 = r10->_43;
	r38 = r38 + r39;
	r34 = r37;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r37 = r8->xMin;
	if( !(r36 < r37) ) goto label$375b116_6_788;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMin = r36;
	label$375b116_6_788:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r37 = r8->xMax;
	if( !(r37 < r36) ) goto label$375b116_6_795;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->xMax = r36;
	label$375b116_6_795:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r37 = r8->yMin;
	if( !(r34 < r37) ) goto label$375b116_6_802;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMin = r34;
	label$375b116_6_802:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r37 = r8->yMax;
	if( !(r37 < r34) ) goto label$375b116_6_809;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->yMax = r34;
	label$375b116_6_809:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r37 = r8->zMin;
	if( !(r38 < r37) ) goto label$375b116_6_816;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMin = r38;
	label$375b116_6_816:
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r37 = r8->zMax;
	if( !(r37 < r38) ) goto label$375b116_6_823;
	r8 = ((Enumt$ctx_6f5deb4*)r0)->p1;
	if( r8 == NULL ) hl_null_access();
	r8->zMax = r38;
	label$375b116_6_823:
	return;
}

void h3d_pass_DirShadowMap_calcShadowBounds(h3d__pass__DirShadowMap r0,h3d__Camera r1) {
	hl__types__ArrayObj r24;
	venum *r10, *r11, *r12;
	bool r5;
	h3d__scene__Scene r7;
	h3d__col__Bounds r2, r13;
	h3d__Camera r3;
	h3d__Vector r28;
	double r14, r15, r16, r17, r18, r19, r20, r21, r22, r31, r32, r33;
	vclosure *r9;
	vdynamic *r29;
	double *r25, *r26;
	h3d__scene__RenderContext r8;
	varray *r30;
	int r23, r27;
	h3d__Matrix r6;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->orthoBounds;
	r5 = r0->autoShrink;
	if( !r5 ) goto label$375b116_7_17;
	r6 = (h3d__Matrix)hl_alloc_obj(&t$h3d_Matrix);
	h3d_Matrix_new(r6);
	r8 = r0->ctx;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->scene;
	if( r7 == NULL ) hl_null_access();
	r10 = hl_alloc_enum(&t$ctx_6f5deb4,0);
	((Enumt$ctx_6f5deb4*)r10)->p0 = (h3d__Camera)r1;
	((Enumt$ctx_6f5deb4*)r10)->p1 = (h3d__col__Bounds)r2;
	((Enumt$ctx_6f5deb4*)r10)->p2 = (h3d__Matrix)r6;
	r9 = hl_alloc_closure_ptr(&t$fun_f76a615,h3d_pass_DirShadowMap_calcShadowBounds__$1,r10);
	h3d_scene_Object_iterVisibleMeshes(((h3d__scene__Object)r7),r9);
	goto label$375b116_7_33;
	label$375b116_7_17:
	r11 = r0->mode;
	r12 = (venum*)g$h3d_pass_RenderMode_Dynamic;
	if( r11 != r12 ) goto label$375b116_7_33;
	if( r2 == NULL ) hl_null_access();
	r14 = -1e+20;
	r2->xMin = r14;
	r14 = 1e+20;
	r2->xMax = r14;
	r14 = -1e+20;
	r2->yMin = r14;
	r14 = 1e+20;
	r2->yMax = r14;
	r14 = -1e+20;
	r2->zMin = r14;
	r14 = 1e+20;
	r2->zMax = r14;
	label$375b116_7_33:
	r11 = r0->mode;
	r12 = (venum*)g$h3d_pass_RenderMode_Dynamic;
	if( r11 != r12 ) goto label$375b116_7_221;
	r13 = (h3d__col__Bounds)hl_alloc_obj(&t$h3d_col_Bounds);
	h3d_col_Bounds_new(r13);
	r14 = 1.;
	r15 = 0.;
	r8 = r0->ctx;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->camera;
	if( r3 == NULL ) hl_null_access();
	r16 = r3->zNear;
	r8 = r0->ctx;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->camera;
	if( r3 == NULL ) hl_null_access();
	r17 = r3->zFar;
	r18 = r0->maxDist;
	r19 = 0.;
	if( !(r19 < r18) ) goto label$375b116_7_74;
	r18 = r0->maxDist;
	r19 = r17 + r16;
	r20 = 2.;
	r20 = r20 * r16;
	r20 = r20 * r17;
	if( !(r18 < r16) ) goto label$375b116_7_61;
	r21 = r16;
	goto label$375b116_7_65;
	label$375b116_7_61:
	if( !(r17 < r18) ) goto label$375b116_7_64;
	r21 = r17;
	goto label$375b116_7_65;
	label$375b116_7_64:
	r21 = r18;
	label$375b116_7_65:
	r20 = r20 / r21;
	r19 = r19 - r20;
	r20 = r17 - r16;
	r19 = r19 / r20;
	r20 = 1.;
	r19 = r19 + r20;
	r20 = 2.;
	r19 = r19 / r20;
	r14 = r19;
	label$375b116_7_74:
	r18 = r0->minDist;
	r19 = 0.;
	if( !(r19 < r18) ) goto label$375b116_7_98;
	r18 = r0->minDist;
	r19 = r17 + r16;
	r20 = 2.;
	r20 = r20 * r16;
	r20 = r20 * r17;
	if( !(r18 < r16) ) goto label$375b116_7_85;
	r21 = r16;
	goto label$375b116_7_89;
	label$375b116_7_85:
	if( !(r17 < r18) ) goto label$375b116_7_88;
	r21 = r17;
	goto label$375b116_7_89;
	label$375b116_7_88:
	r21 = r18;
	label$375b116_7_89:
	r20 = r20 / r21;
	r19 = r19 - r20;
	r20 = r17 - r16;
	r19 = r19 / r20;
	r20 = 1.;
	r19 = r19 + r20;
	r20 = 2.;
	r19 = r19 / r20;
	r15 = r19;
	label$375b116_7_98:
	r23 = 0;
	r8 = r0->ctx;
	if( r8 == NULL ) hl_null_access();
	r3 = r8->camera;
	if( r3 == NULL ) hl_null_access();
	r18 = r14;
	r25 = &r18;
	r19 = r15;
	r26 = &r19;
	r24 = h3d_Camera_getFrustumCorners(r3,r25,r26);
	label$375b116_7_108:
	if( r24 == NULL ) hl_null_access();
	r27 = r24->length;
	if( r23 >= r27 ) goto label$375b116_7_211;
	r27 = r24->length;
	if( ((unsigned)r23) < ((unsigned)r27) ) goto label$375b116_7_116;
	r28 = NULL;
	goto label$375b116_7_119;
	label$375b116_7_116:
	r30 = r24->array;
	r29 = ((vdynamic**)(r30 + 1))[r23];
	r28 = (h3d__Vector)r29;
	label$375b116_7_119:
	++r23;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->mcam;
	if( r28 == NULL ) hl_null_access();
	r20 = r28->x;
	if( r6 == NULL ) hl_null_access();
	r21 = r6->_11;
	r20 = r20 * r21;
	r21 = r28->y;
	r22 = r6->_21;
	r21 = r21 * r22;
	r20 = r20 + r21;
	r21 = r28->z;
	r22 = r6->_31;
	r21 = r21 * r22;
	r20 = r20 + r21;
	r21 = r28->w;
	r22 = r6->_41;
	r21 = r21 * r22;
	r20 = r20 + r21;
	r21 = r28->x;
	r22 = r6->_12;
	r21 = r21 * r22;
	r22 = r28->y;
	r31 = r6->_22;
	r22 = r22 * r31;
	r21 = r21 + r22;
	r22 = r28->z;
	r31 = r6->_32;
	r22 = r22 * r31;
	r21 = r21 + r22;
	r22 = r28->w;
	r31 = r6->_42;
	r22 = r22 * r31;
	r21 = r21 + r22;
	r22 = r28->x;
	r31 = r6->_13;
	r22 = r22 * r31;
	r31 = r28->y;
	r32 = r6->_23;
	r31 = r31 * r32;
	r22 = r22 + r31;
	r31 = r28->z;
	r32 = r6->_33;
	r31 = r31 * r32;
	r22 = r22 + r31;
	r31 = r28->w;
	r32 = r6->_43;
	r31 = r31 * r32;
	r22 = r22 + r31;
	r31 = r28->x;
	r32 = r6->_14;
	r31 = r31 * r32;
	r32 = r28->y;
	r33 = r6->_24;
	r32 = r32 * r33;
	r31 = r31 + r32;
	r32 = r28->z;
	r33 = r6->_34;
	r32 = r32 * r33;
	r31 = r31 + r32;
	r32 = r28->w;
	r33 = r6->_44;
	r32 = r32 * r33;
	r31 = r31 + r32;
	r28->x = r20;
	r28->y = r21;
	r28->z = r22;
	r28->w = r31;
	r20 = r28->x;
	r21 = r28->y;
	r22 = r28->z;
	if( r13 == NULL ) hl_null_access();
	r32 = r13->xMin;
	if( !(r20 < r32) ) goto label$375b116_7_195;
	r13->xMin = r20;
	label$375b116_7_195:
	r32 = r13->xMax;
	if( !(r32 < r20) ) goto label$375b116_7_198;
	r13->xMax = r20;
	label$375b116_7_198:
	r32 = r13->yMin;
	if( !(r21 < r32) ) goto label$375b116_7_201;
	r13->yMin = r21;
	label$375b116_7_201:
	r32 = r13->yMax;
	if( !(r32 < r21) ) goto label$375b116_7_204;
	r13->yMax = r21;
	label$375b116_7_204:
	r32 = r13->zMin;
	if( !(r22 < r32) ) goto label$375b116_7_207;
	r13->zMin = r22;
	label$375b116_7_207:
	r32 = r13->zMax;
	if( !(r32 < r22) ) goto label$375b116_7_210;
	r13->zMax = r22;
	label$375b116_7_210:
	goto label$375b116_7_108;
	label$375b116_7_211:
	r5 = r0->autoShrink;
	if( !r5 ) goto label$375b116_7_219;
	if( r13 == NULL ) hl_null_access();
	if( r2 == NULL ) hl_null_access();
	r20 = r2->zMin;
	r13->zMin = r20;
	h3d_col_Bounds_intersection(r2,r2,r13);
	goto label$375b116_7_221;
	label$375b116_7_219:
	if( r2 == NULL ) hl_null_access();
	h3d_col_Bounds_load(r2,r13);
	label$375b116_7_221:
	if( r2 == NULL ) hl_null_access();
	r14 = 1.010000000000000009;
	h3d_col_Bounds_scaleCenter(r2,r14);
	return;
}

void h3d_pass_DirShadowMap_setGlobals(h3d__pass__DirShadowMap r0) {
	h3d__pass__ShaderManager r13;
	venum *r2, *r3;
	bool r4;
	h3d__col__Bounds r6;
	haxe__ds__IntMap r11;
	h3d__Camera r7;
	hxsl__Globals r12;
	vclosure *r9;
	double r8;
	h3d__scene__RenderContext r5;
	int r14;
	h3d__Matrix r10;
	h3d_pass_Default_setGlobals(((h3d__pass__Default)r0));
	r2 = r0->mode;
	r3 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r2 != r3 ) goto label$375b116_8_8;
	r5 = r0->ctx;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->computingStatic;
	if( !r4 ) goto label$375b116_8_31;
	label$375b116_8_8:
	r7 = r0->lightCamera;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->orthoBounds;
	if( r6 == NULL ) hl_null_access();
	r8 = 1e+20;
	r6->xMin = r8;
	r8 = -1e+20;
	r6->xMax = r8;
	r8 = 1e+20;
	r6->yMin = r8;
	r8 = -1e+20;
	r6->yMax = r8;
	r8 = 1e+20;
	r6->zMin = r8;
	r8 = -1e+20;
	r6->zMax = r8;
	r9 = r0->calcShadowBounds;
	if( r9 == NULL ) hl_null_access();
	r7 = r0->lightCamera;
	r9->hasValue ? ((void (*)(vdynamic*,h3d__Camera))r9->fun)((vdynamic*)r9->value,r7) : ((void (*)(h3d__Camera))r9->fun)(r7);
	r7 = r0->lightCamera;
	if( r7 == NULL ) hl_null_access();
	h3d_Camera_update(r7);
	label$375b116_8_31:
	r10 = h3d_pass_Shadows_getShadowProj(((h3d__pass__Shadows)r0));
	r13 = r0->manager;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->globals;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->map;
	if( r11 == NULL ) hl_null_access();
	r14 = r0->cameraViewProj_id;
	haxe_ds_IntMap_set(r11,r14,((vdynamic*)r10));
	return;
}

void h3d_pass_DirShadowMap_syncShader(h3d__pass__DirShadowMap r0,h3d__mat__Texture r1) {
	venum *r5, *r6, *r7, *r11, *r12;
	bool r4;
	h3d__mat__$Texture r8;
	h3d__Vector r13;
	double r9;
	int r14;
	h3d__Matrix r10;
	h3d__shader__DirShadow r2;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r4 = true;
	r2->constModified = r4;
	r2->shadowMap__ = r1;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r4 = true;
	r2->constModified = r4;
	r6 = r0->format;
	r8 = (h3d__mat__$Texture)g$_h3d_mat_Texture;
	r7 = r8->nativeFormat;
	if( r6 != r7 ) goto label$375b116_9_15;
	r5 = (venum*)g$hxsl_Channel_PackedFloat;
	goto label$375b116_9_16;
	label$375b116_9_15:
	r5 = (venum*)g$hxsl_Channel_R;
	label$375b116_9_16:
	r2->shadowMapChannel__ = r5;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r9 = r0->bias;
	r2->shadowBias__ = r9;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r9 = r0->power;
	r2->shadowPower__ = r9;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r10 = h3d_pass_Shadows_getShadowProj(((h3d__pass__Shadows)r0));
	r2->shadowProj__ = r10;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r4 = true;
	r2->constModified = r4;
	r11 = r0->samplingKind;
	r12 = (venum*)g$h3d_pass_ShadowSamplingKind_ESM;
	if( r11 == r12 ) goto label$375b116_9_38;
	r4 = false;
	goto label$375b116_9_39;
	label$375b116_9_38:
	r4 = true;
	label$375b116_9_39:
	r2->USE_ESM__ = r4;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r9 = r0->power;
	r2->shadowPower__ = r9;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r4 = true;
	r2->constModified = r4;
	r11 = r0->samplingKind;
	r12 = (venum*)g$h3d_pass_ShadowSamplingKind_PCF;
	if( r11 == r12 ) goto label$375b116_9_53;
	r4 = false;
	goto label$375b116_9_54;
	label$375b116_9_53:
	r4 = true;
	label$375b116_9_54:
	r2->USE_PCF__ = r4;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r13 = r2->shadowRes__;
	if( r13 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r14 = r1->width;
	r9 = (double)r14;
	r13->x = r9;
	r14 = r1->height;
	r9 = (double)r14;
	r13->y = r9;
	r9 = 0.;
	r13->z = r9;
	r9 = 1.;
	r13->w = r9;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r9 = r0->pcfScale;
	r2->pcfScale__ = r9;
	r2 = r0->dshader;
	if( r2 == NULL ) hl_null_access();
	r4 = true;
	r2->constModified = r4;
	r14 = r0->pcfQuality;
	r2->pcfQuality__ = r14;
	return;
}

haxe__io__Bytes h3d_pass_DirShadowMap_saveStaticData(h3d__pass__DirShadowMap r0) {
	String r7;
	haxe__io__BytesBuffer r13;
	hxd__Pixels r8;
	h2d__col__IBounds r11;
	venum *r2, *r3;
	haxe__io__Bytes r4, r22;
	h3d__col__Bounds r21;
	h3d__Camera r19;
	h3d__Vector r18;
	float r20;
	double r17;
	int *r9, *r10;
	vdynamic *r5;
	vbyte *r16;
	int r12, r14, r15;
	h3d__mat__Texture r6;
	r2 = r0->mode;
	r3 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r2 == r3 ) goto label$375b116_10_8;
	r2 = r0->mode;
	r3 = (venum*)g$h3d_pass_RenderMode_Static;
	if( r2 == r3 ) goto label$375b116_10_8;
	r4 = NULL;
	return r4;
	label$375b116_10_8:
	r6 = r0->staticTexture;
	if( r6 ) goto label$375b116_10_13;
	r7 = (String)s$Data_not_computed;
	r5 = haxe_Exception_thrown(((vdynamic*)r7));
	hl_throw((vdynamic*)r5);
	label$375b116_10_13:
	r6 = r0->staticTexture;
	if( r6 == NULL ) hl_null_access();
	r9 = NULL;
	r10 = NULL;
	r11 = NULL;
	r8 = h3d_mat_Texture_capturePixels(r6,r9,r10,r11);
	if( r8 == NULL ) hl_null_access();
	r4 = r8->bytes;
	r12 = 9;
	r4 = haxe_zip_Compress_run(r4,r12);
	r13 = (haxe__io__BytesBuffer)hl_alloc_obj(&t$haxe_io_BytesBuffer);
	haxe_io_BytesBuffer_new(r13);
	r6 = r0->staticTexture;
	if( r6 == NULL ) hl_null_access();
	r12 = r6->width;
	r14 = r13->pos;
	r15 = 4;
	r14 = r14 + r15;
	r15 = r13->size;
	if( r15 >= r14 ) goto label$375b116_10_35;
	r14 = 0;
	haxe_io_BytesBuffer___expand(r13,r14);
	label$375b116_10_35:
	r16 = r13->b;
	r14 = r13->pos;
	*(int*)(r16 + r14) = r12;
	r14 = r13->pos;
	r15 = 4;
	r14 = r14 + r15;
	r13->pos = r14;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->pos;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->x;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_54;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_54:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->pos;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->y;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_74;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_74:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->pos;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->z;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_94;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_94:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->target;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->x;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_114;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_114:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->target;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->y;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_134;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_134:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->target;
	if( r18 == NULL ) hl_null_access();
	r17 = r18->z;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_154;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_154:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r21 = r19->orthoBounds;
	if( r21 == NULL ) hl_null_access();
	r17 = r21->xMin;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_174;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_174:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r21 = r19->orthoBounds;
	if( r21 == NULL ) hl_null_access();
	r17 = r21->yMin;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_194;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_194:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r21 = r19->orthoBounds;
	if( r21 == NULL ) hl_null_access();
	r17 = r21->zMin;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_214;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_214:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r21 = r19->orthoBounds;
	if( r21 == NULL ) hl_null_access();
	r17 = r21->xMax;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_234;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_234:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r21 = r19->orthoBounds;
	if( r21 == NULL ) hl_null_access();
	r17 = r21->yMax;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_254;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_254:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	r19 = r0->lightCamera;
	if( r19 == NULL ) hl_null_access();
	r21 = r19->orthoBounds;
	if( r21 == NULL ) hl_null_access();
	r17 = r21->zMax;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r14 = r13->size;
	if( r14 >= r12 ) goto label$375b116_10_274;
	r12 = 0;
	haxe_io_BytesBuffer___expand(r13,r12);
	label$375b116_10_274:
	r16 = r13->b;
	r12 = r13->pos;
	r20 = (float)r17;
	*(float*)(r16 + r12) = r20;
	r12 = r13->pos;
	r14 = 4;
	r12 = r12 + r14;
	r13->pos = r12;
	if( r4 == NULL ) hl_null_access();
	r12 = r4->length;
	r14 = r13->pos;
	r15 = 4;
	r14 = r14 + r15;
	r15 = r13->size;
	if( r15 >= r14 ) goto label$375b116_10_291;
	r14 = 0;
	haxe_io_BytesBuffer___expand(r13,r14);
	label$375b116_10_291:
	r16 = r13->b;
	r14 = r13->pos;
	*(int*)(r16 + r14) = r12;
	r14 = r13->pos;
	r15 = 4;
	r14 = r14 + r15;
	r13->pos = r14;
	r16 = r4->b;
	r12 = 0;
	r14 = r4->length;
	haxe_io_BytesBuffer___add(r13,r16,r12,r14);
	r22 = haxe_io_BytesBuffer_getBytes(r13);
	return r22;
}

bool h3d_pass_DirShadowMap_loadStaticData(h3d__pass__DirShadowMap r0,haxe__io__Bytes r1) {
	String r27;
	hxd__Pixels r17;
	hl__types__ArrayObj r22;
	haxe__io__BytesInput r7;
	hl_type *r24;
	venum *r3, *r4, *r19, *r25;
	bool r6;
	haxe__io__Bytes r5;
	h3d__col__Bounds r16;
	h3d__Camera r14;
	h3d__Vector r13;
	double r15;
	int *r20, *r26;
	vdynamic *r8, *r9;
	varray *r23;
	h3d__mat__Texture r21;
	int r10, r11, r12, r18;
	r3 = r0->mode;
	r4 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r3 == r4 ) goto label$375b116_11_6;
	r3 = r0->mode;
	r4 = (venum*)g$h3d_pass_RenderMode_Static;
	if( r3 != r4 ) goto label$375b116_11_7;
	label$375b116_11_6:
	if( r1 ) goto label$375b116_11_9;
	label$375b116_11_7:
	r6 = false;
	return r6;
	label$375b116_11_9:
	r7 = (haxe__io__BytesInput)hl_alloc_obj(&t$haxe_io_BytesInput);
	r8 = NULL;
	r9 = NULL;
	haxe_io_BytesInput_new(r7,r1,r8,r9);
	r10 = haxe_io_Input_readInt32(((haxe__io__Input)r7));
	r12 = r0->size;
	if( r10 == r12 ) goto label$375b116_11_18;
	r6 = false;
	return r6;
	label$375b116_11_18:
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->pos;
	if( r13 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r13->x = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->pos;
	if( r13 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r13->y = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->pos;
	if( r13 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r13->z = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->target;
	if( r13 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r13->x = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->target;
	if( r13 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r13->y = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->target;
	if( r13 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r13->z = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->orthoBounds;
	if( r16 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r16->xMin = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->orthoBounds;
	if( r16 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r16->yMin = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->orthoBounds;
	if( r16 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r16->zMin = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->orthoBounds;
	if( r16 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r16->xMax = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->orthoBounds;
	if( r16 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r16->yMax = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->orthoBounds;
	if( r16 == NULL ) hl_null_access();
	r15 = haxe_io_Input_readFloat(((haxe__io__Input)r7));
	r16->zMax = r15;
	r14 = r0->lightCamera;
	if( r14 == NULL ) hl_null_access();
	h3d_Camera_update(r14);
	r11 = haxe_io_Input_readInt32(((haxe__io__Input)r7));
	r17 = (hxd__Pixels)hl_alloc_obj(&t$hxd_Pixels);
	r5 = haxe_io_Input_read(((haxe__io__Input)r7),r11);
	r8 = NULL;
	r5 = haxe_zip_Uncompress_run(r5,r8);
	r19 = r0->format;
	r20 = NULL;
	hxd_Pixels_new(r17,r10,r10,r5,r19,r20);
	r21 = r0->staticTexture;
	if( !r21 ) goto label$375b116_11_106;
	r21 = r0->staticTexture;
	if( r21 == NULL ) hl_null_access();
	h3d_mat_Texture_dispose(r21);
	label$375b116_11_106:
	r21 = (h3d__mat__Texture)hl_alloc_obj(&t$h3d_mat_Texture);
	r24 = &t$h3d_mat_TextureFlags;
	r18 = 1;
	r23 = hl_alloc_array(r24,r18);
	r25 = (venum*)g$h3d_mat_TextureFlags_Target;
	r18 = 0;
	((venum**)(r23 + 1))[r18] = r25;
	r22 = hl_types_ArrayObj_alloc(r23);
	r19 = r0->format;
	h3d_mat_Texture_new(r21,r10,r10,r22,r19);
	r0->staticTexture = r21;
	r21 = r0->staticTexture;
	if( r21 == NULL ) hl_null_access();
	r20 = NULL;
	r26 = NULL;
	h3d_mat_Texture_uploadPixels(r21,r17,r20,r26);
	r21 = r0->staticTexture;
	if( r21 == NULL ) hl_null_access();
	r27 = (String)s$staticTexture;
	r21->name = r27;
	r21 = r0->staticTexture;
	if( r21 == NULL ) hl_null_access();
	h3d_mat_Texture_preventAutoDispose(r21);
	r21 = r0->staticTexture;
	h3d_pass_DirShadowMap_syncShader(r0,r21);
	r6 = true;
	return r6;
}

bool h3d_pass_DirShadowMap_draw__$1(h3d__pass__DirShadowMap r0,vvirtual* r1) {
	bool r2;
	h3d__col__Frustum r3;
	h3d__Camera r4;
	h3d__Matrix r5;
	if( r1 == NULL ) hl_null_access();
	if( r0 == NULL ) hl_null_access();
	r4 = r0->lightCamera;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->frustum;
	r5 = NULL;
	if( hl_vfields(r1)[2] ) r2 = ((bool (*)(vdynamic*,h3d__col__Frustum,h3d__Matrix))hl_vfields(r1)[2])(r1->value,r3,r5); else {
		void *args[] = {r3,r5};
		vdynamic ret;
		hl_dyn_call_obj(r1->value,&t$fun_b7b1fe3,-159610637/*inFrustum*/,args,&ret);
		r2 = (bool)ret.v.i;
	}
	return r2;
}

void h3d_pass_DirShadowMap_draw(h3d__pass__DirShadowMap r0,h3d__pass__PassList r1,vclosure* r2) {
	bool *r24, *r26;
	String r21;
	h3d__impl__TextureCache r19;
	h3d__mat__DepthBuffer r27;
	h3d__shader__ScreenShader r48;
	vvirtual *r6, *r13;
	h3d__shader__MinMaxShader r50;
	venum *r25, *r28, *r30, *r31;
	bool r4, r15, r16;
	h3d__Camera r33;
	h3d__pass__ScreenFx r49;
	h3d__Engine r41;
	h3d__pass__Border r47;
	h3d__Vector r32, r36, r37;
	h3d__scene__Light r34;
	h3d__pass__Blur r52;
	double r38, r39, r40;
	h3d__pass__PassObject r7, r8, r9, r10, r11, r12, r17;
	vclosure *r5;
	vdynamic *r44, *r45, *r46;
	int *r42, *r43;
	h3d__scene__RenderContext r20;
	h3d__scene__LightSystem r35;
	int r22, r23;
	h3d__mat__Texture r18, r29, r51;
	h3d__scene__Object r14;
	r4 = r0->enabled;
	if( r4 ) goto label$375b116_13_3;
	return;
	label$375b116_13_3:
	r4 = h3d_pass_Shadows_filterPasses(((h3d__pass__Shadows)r0),r1);
	if( r4 ) goto label$375b116_13_6;
	return;
	label$375b116_13_6:
	r5 = hl_alloc_closure_ptr(&t$fun_ccf33c0,h3d_pass_DirShadowMap_draw__$1,r0);
	r6 = NULL;
	r4 = true;
	r7 = NULL;
	r8 = NULL;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->discarded;
	r10 = r1->lastDisc;
	r11 = r1->current;
	label$375b116_13_15:
	if( !r11 ) goto label$375b116_13_50;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->obj;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->cullingCollider;
	if( r13 ) goto label$375b116_13_25;
	r16 = true;
	r15 = r16;
	goto label$375b116_13_31;
	label$375b116_13_25:
	if( r13 == r6 || (r13 && r6 && r13->value && r6->value && r13->value == r6->value) ) goto label$375b116_13_30;
	r6 = r13;
	if( r5 == NULL ) hl_null_access();
	r16 = r5->hasValue ? ((bool (*)(vdynamic*,vvirtual*))r5->fun)((vdynamic*)r5->value,r13) : ((bool (*)(vvirtual*))r5->fun)(r13);
	r4 = r16;
	label$375b116_13_30:
	r15 = r4;
	label$375b116_13_31:
	if( !r15 ) goto label$375b116_13_40;
	if( r7 ) goto label$375b116_13_36;
	r8 = r11;
	r7 = r11;
	goto label$375b116_13_39;
	label$375b116_13_36:
	if( r8 == NULL ) hl_null_access();
	r8->next = r11;
	r8 = r11;
	label$375b116_13_39:
	goto label$375b116_13_47;
	label$375b116_13_40:
	if( r9 ) goto label$375b116_13_44;
	r10 = r11;
	r9 = r11;
	goto label$375b116_13_47;
	label$375b116_13_44:
	if( r10 == NULL ) hl_null_access();
	r10->next = r11;
	r10 = r11;
	label$375b116_13_47:
	r12 = r11->next;
	r11 = r12;
	goto label$375b116_13_15;
	label$375b116_13_50:
	if( !r8 ) goto label$375b116_13_54;
	if( r8 == NULL ) hl_null_access();
	r17 = NULL;
	r8->next = r17;
	label$375b116_13_54:
	if( !r10 ) goto label$375b116_13_58;
	if( r10 == NULL ) hl_null_access();
	r17 = NULL;
	r10->next = r17;
	label$375b116_13_58:
	if( r1 == NULL ) hl_null_access();
	r1->current = r7;
	r1->discarded = r9;
	r1->lastDisc = r10;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->textures;
	if( r19 == NULL ) hl_null_access();
	r21 = (String)s$dirShadowMap;
	r22 = r0->size;
	r23 = r0->size;
	r4 = false;
	r24 = &r4;
	r25 = r0->format;
	r26 = NULL;
	r18 = h3d_impl_TextureCache_allocTarget(r19,r21,r22,r23,r24,r25,r26);
	r15 = r0->customDepth;
	if( !r15 ) goto label$375b116_13_103;
	r27 = r0->depth;
	if( !r27 ) goto label$375b116_13_92;
	r27 = r0->depth;
	if( r27 == NULL ) hl_null_access();
	r22 = r27->width;
	r23 = r0->size;
	if( r22 != r23 ) goto label$375b116_13_92;
	r27 = r0->depth;
	if( r27 == NULL ) hl_null_access();
	r22 = r27->height;
	r23 = r0->size;
	if( r22 != r23 ) goto label$375b116_13_92;
	r27 = r0->depth;
	if( r27 == NULL ) hl_null_access();
	r15 = h3d_mat_DepthBuffer_isDisposed(r27);
	if( !r15 ) goto label$375b116_13_103;
	label$375b116_13_92:
	r27 = r0->depth;
	if( !r27 ) goto label$375b116_13_97;
	r27 = r0->depth;
	if( r27 == NULL ) hl_null_access();
	h3d_mat_DepthBuffer_dispose(r27);
	label$375b116_13_97:
	r27 = (h3d__mat__DepthBuffer)hl_alloc_obj(&t$h3d_mat_DepthBuffer);
	r22 = r0->size;
	r23 = r0->size;
	r28 = NULL;
	h3d_mat_DepthBuffer_new(r27,r22,r23,r28);
	r0->depth = r27;
	label$375b116_13_103:
	if( r18 == NULL ) hl_null_access();
	r27 = r0->depth;
	r18->depthBuffer = r27;
	r30 = r0->mode;
	r31 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r30 != r31 ) goto label$375b116_13_113;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r15 = r20->computingStatic;
	if( !r15 ) goto label$375b116_13_232;
	label$375b116_13_113:
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r33 = r20->camera;
	if( r33 == NULL ) hl_null_access();
	r32 = r33->target;
	r34 = r0->light;
	if( r34 ) goto label$375b116_13_126;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r35 = r20->lightSystem;
	if( r35 == NULL ) hl_null_access();
	r34 = r35->shadowLight;
	goto label$375b116_13_127;
	label$375b116_13_126:
	r34 = r0->light;
	label$375b116_13_127:
	if( r34 ) goto label$375b116_13_130;
	r36 = NULL;
	goto label$375b116_13_132;
	label$375b116_13_130:
	if( r34 == NULL ) hl_null_access();
	r36 = h3d_scene_Light_getShadowDirection(r34);
	label$375b116_13_132:
	if( r36 ) goto label$375b116_13_146;
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->target;
	if( r37 == NULL ) hl_null_access();
	r38 = 0.;
	r37->x = r38;
	r38 = 0.;
	r37->y = r38;
	r38 = -1.;
	r37->z = r38;
	r38 = 1.;
	r37->w = r38;
	goto label$375b116_13_192;
	label$375b116_13_146:
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->target;
	if( r37 == NULL ) hl_null_access();
	if( r36 == NULL ) hl_null_access();
	r38 = r36->x;
	r37->x = r38;
	r38 = r36->y;
	r37->y = r38;
	r38 = r36->z;
	r37->z = r38;
	r38 = 1.;
	r37->w = r38;
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->target;
	if( r37 == NULL ) hl_null_access();
	r38 = r37->x;
	r39 = r37->x;
	r38 = r38 * r39;
	r39 = r37->y;
	r40 = r37->y;
	r39 = r39 * r40;
	r38 = r38 + r39;
	r39 = r37->z;
	r40 = r37->z;
	r39 = r39 * r40;
	r38 = r38 + r39;
	r40 = 1.000000000000000036e-10;
	if( !(r38 < r40) ) goto label$375b116_13_179;
	r39 = 0.;
	r38 = r39;
	goto label$375b116_13_183;
	label$375b116_13_179:
	r39 = 1.;
	r40 = hl_math_sqrt(r38);
	r39 = r39 / r40;
	r38 = r39;
	label$375b116_13_183:
	r39 = r37->x;
	r39 = r39 * r38;
	r37->x = r39;
	r39 = r37->y;
	r39 = r39 * r38;
	r37->y = r39;
	r39 = r37->z;
	r39 = r39 * r38;
	r37->z = r39;
	label$375b116_13_192:
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->target;
	if( r37 == NULL ) hl_null_access();
	r38 = r37->x;
	if( r32 == NULL ) hl_null_access();
	r39 = r32->x;
	r38 = r38 + r39;
	r37->x = r38;
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->target;
	if( r37 == NULL ) hl_null_access();
	r38 = r37->y;
	r39 = r32->y;
	r38 = r38 + r39;
	r37->y = r38;
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->target;
	if( r37 == NULL ) hl_null_access();
	r38 = r37->z;
	r39 = r32->z;
	r38 = r38 + r39;
	r37->z = r38;
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	r37 = r33->pos;
	if( r37 == NULL ) hl_null_access();
	r38 = r32->x;
	r37->x = r38;
	r38 = r32->y;
	r37->y = r38;
	r38 = r32->z;
	r37->z = r38;
	r38 = r32->w;
	r37->w = r38;
	r33 = r0->lightCamera;
	if( r33 == NULL ) hl_null_access();
	h3d_Camera_update(r33);
	label$375b116_13_232:
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r41 = r20->engine;
	if( r41 == NULL ) hl_null_access();
	r42 = NULL;
	r43 = NULL;
	h3d_Engine_pushTarget(r41,r18,r42,r43);
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r41 = r20->engine;
	if( r41 == NULL ) hl_null_access();
	r22 = 16777215;
	r44 = hl_alloc_dynamic(&t$_i32);
	r44->v.i = r22;
	r22 = 1;
	r38 = (double)r22;
	r45 = hl_alloc_dynamic(&t$_f64);
	r45->v.d = r38;
	r46 = NULL;
	h3d_Engine_clear(r41,r44,r45,r46);
	h3d_pass_Default_draw(((h3d__pass__Default)r0),r1,r2);
	r47 = r0->border;
	if( !r47 ) goto label$375b116_13_256;
	r47 = r0->border;
	if( r47 == NULL ) hl_null_access();
	h3d_pass_ScreenFx_render(((h3d__pass__ScreenFx)r47));
	label$375b116_13_256:
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r41 = r20->engine;
	if( r41 == NULL ) hl_null_access();
	h3d_Engine_popTarget(r41);
	r30 = r0->mode;
	r31 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r30 != r31 ) goto label$375b116_13_309;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r15 = r20->computingStatic;
	if( r15 ) goto label$375b116_13_309;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->textures;
	if( r19 == NULL ) hl_null_access();
	r21 = (String)s$mergedDirShadowMap;
	r22 = r0->size;
	r23 = r0->size;
	r15 = false;
	r24 = &r15;
	r25 = r0->format;
	r26 = NULL;
	r29 = h3d_impl_TextureCache_allocTarget(r19,r21,r22,r23,r24,r25,r26);
	r49 = r0->mergePass;
	if( r49 == NULL ) hl_null_access();
	r48 = r49->shader;
	r50 = (h3d__shader__MinMaxShader)r48;
	if( r50 == NULL ) hl_null_access();
	r50->texA__ = r18;
	r49 = r0->mergePass;
	if( r49 == NULL ) hl_null_access();
	r48 = r49->shader;
	r50 = (h3d__shader__MinMaxShader)r48;
	if( r50 == NULL ) hl_null_access();
	r51 = r0->staticTexture;
	r50->texB__ = r51;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r41 = r20->engine;
	if( r41 == NULL ) hl_null_access();
	r42 = NULL;
	r43 = NULL;
	h3d_Engine_pushTarget(r41,r29,r42,r43);
	r49 = r0->mergePass;
	if( r49 == NULL ) hl_null_access();
	h3d_pass_ScreenFx_render(r49);
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r41 = r20->engine;
	if( r41 == NULL ) hl_null_access();
	h3d_Engine_popTarget(r41);
	r18 = r29;
	label$375b116_13_309:
	r52 = r0->blur;
	if( r52 == NULL ) hl_null_access();
	r38 = r52->radius;
	r39 = 0.;
	if( !(r39 < r38) ) goto label$375b116_13_326;
	r30 = r0->mode;
	r31 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r30 != r31 ) goto label$375b116_13_321;
	r20 = r0->ctx;
	if( r20 == NULL ) hl_null_access();
	r16 = r20->computingStatic;
	if( r16 ) goto label$375b116_13_326;
	label$375b116_13_321:
	r52 = r0->blur;
	if( r52 == NULL ) hl_null_access();
	r20 = r0->ctx;
	r51 = NULL;
	h3d_pass_Blur_apply(r52,((h3d__impl__RenderContext)r20),r18,r51);
	label$375b116_13_326:
	h3d_pass_DirShadowMap_syncShader(r0,r18);
	return;
}

void h3d_pass_DirShadowMap_computeStatic(h3d__pass__DirShadowMap r0,h3d__pass__PassList r1) {
	String r10;
	venum *r3, *r4;
	bool r11;
	vclosure *r5;
	h3d__shader__DirShadow r7;
	h3d__mat__Texture r6, r8, r9;
	r3 = r0->mode;
	r4 = (venum*)g$h3d_pass_RenderMode_Static;
	if( r3 == r4 ) goto label$375b116_14_7;
	r3 = r0->mode;
	r4 = (venum*)g$h3d_pass_RenderMode_Mixed;
	if( r3 == r4 ) goto label$375b116_14_7;
	return;
	label$375b116_14_7:
	r5 = NULL;
	((void (*)(h3d__pass__DirShadowMap,h3d__pass__PassList,vclosure*))r0->$type->vobj_proto[2])(r0,r1,r5);
	r7 = r0->dshader;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->shadowMap__;
	r8 = r0->staticTexture;
	if( r6 == NULL ) hl_null_access();
	r9 = ((h3d__mat__Texture (*)(h3d__mat__Texture))r6->$type->vobj_proto[1])(r6);
	r0->staticTexture = r9;
	r9 = r0->staticTexture;
	if( r9 == NULL ) hl_null_access();
	r10 = (String)s$StaticDirShadowMap;
	r9->name = r10;
	r9 = r0->staticTexture;
	if( r9 == NULL ) hl_null_access();
	h3d_mat_Texture_preventAutoDispose(r9);
	r7 = r0->dshader;
	if( r7 == NULL ) hl_null_access();
	r11 = true;
	r7->constModified = r11;
	r9 = r0->staticTexture;
	r7->shadowMap__ = r9;
	if( !r8 ) goto label$375b116_14_32;
	if( r8 == NULL ) hl_null_access();
	h3d_mat_Texture_dispose(r8);
	label$375b116_14_32:
	return;
}

void h3d_pass_DirShadowMap_new(h3d__pass__DirShadowMap r0,h3d__scene__Light r1) {
	bool *r15;
	h3d__mat__DepthBuffer r26;
	hl__types__ArrayObj r8;
	venum *r25;
	h3d__shader__MinMaxShader r6;
	bool r4;
	h3d__col__Bounds r16;
	h3d__Camera r9;
	h3d__Engine r23;
	h3d__pass__ScreenFx r5;
	h3d__$Engine r24;
	h3d__pass__Border r18;
	double r3;
	vclosure *r2;
	h3d__impl__Driver r22;
	int *r21;
	double *r10, *r11, *r12, *r13, *r14;
	int r19, r20;
	h3d__shader__DirShadow r17;
	r2 = r0->calcShadowBounds;
	if( r2 ) goto label$375b116_15_4;
	r2 = hl_alloc_closure_ptr(&t$fun_48e3d53,h3d_pass_DirShadowMap_calcShadowBounds,r0);
	r0->calcShadowBounds = r2;
	label$375b116_15_4:
	r3 = -1.;
	r0->minDist = r3;
	r3 = -1.;
	r0->maxDist = r3;
	r4 = true;
	r0->autoShrink = r4;
	r5 = (h3d__pass__ScreenFx)hl_alloc_obj(&t$h3d_pass_ScreenFx);
	r6 = (h3d__shader__MinMaxShader)hl_alloc_obj(&t$h3d_shader_MinMaxShader);
	h3d_shader_MinMaxShader_new(r6);
	r8 = NULL;
	h3d_pass_ScreenFx_new(r5,((h3d__shader__ScreenShader)r6),r8);
	r0->mergePass = r5;
	h3d_pass_Shadows_new(((h3d__pass__Shadows)r0),r1);
	r9 = (h3d__Camera)hl_alloc_obj(&t$h3d_Camera);
	r10 = NULL;
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	h3d_Camera_new(r9,r10,r11,r12,r13,r14,r15);
	r0->lightCamera = r9;
	r9 = r0->lightCamera;
	if( r9 == NULL ) hl_null_access();
	r16 = (h3d__col__Bounds)hl_alloc_obj(&t$h3d_col_Bounds);
	h3d_col_Bounds_new(r16);
	r9->orthoBounds = r16;
	r17 = (h3d__shader__DirShadow)hl_alloc_obj(&t$h3d_shader_DirShadow);
	h3d_shader_DirShadow_new(r17);
	r0->dshader = r17;
	r0->shader = ((hxsl__Shader)r17);
	r18 = (h3d__pass__Border)hl_alloc_obj(&t$h3d_pass_Border);
	r19 = r0->size;
	r20 = r0->size;
	r21 = NULL;
	h3d_pass_Border_new(r18,r19,r20,r21);
	r0->border = r18;
	r24 = (h3d__$Engine)g$_h3d_Engine;
	r23 = r24->CURRENT;
	if( r23 == NULL ) hl_null_access();
	r22 = r23->driver;
	if( r22 == NULL ) hl_null_access();
	r25 = (venum*)g$8341d6f;
	r4 = ((bool (*)(h3d__impl__Driver,venum*))r22->$type->vobj_proto[0])(r22,r25);
	r0->customDepth = r4;
	r4 = r0->customDepth;
	if( r4 ) goto label$375b116_15_53;
	r26 = h3d_mat_DepthBuffer_getDefault();
	r0->depth = r26;
	label$375b116_15_53:
	return;
}

