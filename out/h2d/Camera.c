// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h2d/Camera.h>
void h2d_Scene_removeCamera(h2d__Scene,h2d__Camera);
#include <h2d/RenderContext.h>
void h2d_RenderContext_pushCamera(h2d__RenderContext,h2d__Camera);
void h2d_RenderContext_pushRenderZone(h2d__RenderContext,double,double,double,double);
void h2d_RenderContext_popRenderZone(h2d__RenderContext);
void h2d_RenderContext_popCamera(h2d__RenderContext);
#include <hl/natives.h>
extern String s$39cc4fe;
vdynamic* haxe_Exception_thrown(vdynamic*);
#include <hxd/Event.h>
#include <h2d/col/Point.h>
extern hl_type t$fun_751a5f0;
void h2d_Scene_addCamera(h2d__Scene,h2d__Camera,vdynamic*);

void h2d_Camera_remove(h2d__Camera r0) {
	h2d__Scene r2;
	r2 = r0->scene;
	if( !r2 ) goto label$0439708_1_5;
	r2 = r0->scene;
	if( r2 == NULL ) hl_null_access();
	h2d_Scene_removeCamera(r2,r0);
	label$0439708_1_5:
	return;
}

bool h2d_Camera_layerVisible(h2d__Camera r0,int r1) {
	bool r2;
	r2 = true;
	return r2;
}

void h2d_Camera_enter(h2d__Camera r0,h2d__RenderContext r1) {
	bool r3;
	h2d__Object r4, r5;
	double r6, r9, r10, r11, r12;
	h2d__Scene r8;
	int r7;
	if( r1 == NULL ) hl_null_access();
	h2d_RenderContext_pushCamera(r1,r0);
	r3 = r0->clipViewport;
	if( !r3 ) goto label$0439708_3_33;
	r4 = r1->inFilter;
	r5 = NULL;
	r1->inFilter = r5;
	r6 = r0->viewX;
	r8 = r0->scene;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	r9 = (double)r7;
	r6 = r6 * r9;
	r9 = r0->viewY;
	r8 = r0->scene;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->height;
	r10 = (double)r7;
	r9 = r9 * r10;
	r10 = r0->viewW;
	r8 = r0->scene;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	r11 = (double)r7;
	r10 = r10 * r11;
	r11 = r0->viewH;
	r8 = r0->scene;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->height;
	r12 = (double)r7;
	r11 = r11 * r12;
	h2d_RenderContext_pushRenderZone(r1,r6,r9,r10,r11);
	r1->inFilter = r4;
	label$0439708_3_33:
	return;
}

void h2d_Camera_exit(h2d__Camera r0,h2d__RenderContext r1) {
	bool r3;
	h2d__Object r4, r5;
	r3 = r0->clipViewport;
	if( !r3 ) goto label$0439708_4_8;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->inFilter;
	r5 = NULL;
	r1->inFilter = r5;
	h2d_RenderContext_popRenderZone(r1);
	r1->inFilter = r4;
	label$0439708_4_8:
	if( r1 == NULL ) hl_null_access();
	h2d_RenderContext_popCamera(r1);
	return;
}

void h2d_Camera_sync(h2d__Camera r0,h2d__RenderContext r1,bool* r2) {
	bool r3, r7;
	h2d__Object r6;
	double r8, r9, r10, r11;
	h2d__Scene r5;
	int r12;
	if( r2 ) goto label$0439708_5_3;
	r3 = false;
	goto label$0439708_5_4;
	label$0439708_5_3:
	r3 = *r2;
	label$0439708_5_4:
	r5 = r0->scene;
	if( r5 ) goto label$0439708_5_7;
	return;
	label$0439708_5_7:
	r6 = r0->follow;
	if( !r6 ) goto label$0439708_5_30;
	r7 = true;
	r0->posChanged = r7;
	r6 = r0->follow;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->absX;
	r0->x = r8;
	r7 = true;
	r0->posChanged = r7;
	r6 = r0->follow;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->absY;
	r0->y = r8;
	r7 = r0->followRotation;
	if( !r7 ) goto label$0439708_5_30;
	r7 = true;
	r0->posChanged = r7;
	r6 = r0->follow;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->rotation;
	r8 = -r8;
	r0->rotation = r8;
	label$0439708_5_30:
	r7 = r0->posChanged;
	if( r7 ) goto label$0439708_5_33;
	if( !r3 ) goto label$0439708_5_128;
	label$0439708_5_33:
	r8 = r0->rotation;
	r9 = 0.;
	if( r8 != r9 ) goto label$0439708_5_45;
	r8 = r0->scaleX;
	r0->matA = r8;
	r8 = 0.;
	r0->matB = r8;
	r8 = 0.;
	r0->matC = r8;
	r8 = r0->scaleY;
	r0->matD = r8;
	goto label$0439708_5_62;
	label$0439708_5_45:
	r8 = r0->rotation;
	r8 = hl_math_cos(r8);
	r9 = r0->rotation;
	r9 = hl_math_sin(r9);
	r10 = r0->scaleX;
	r10 = r10 * r8;
	r0->matA = r10;
	r10 = r0->scaleX;
	r10 = r10 * r9;
	r0->matB = r10;
	r10 = r0->scaleY;
	r11 = -r9;
	r10 = r10 * r11;
	r0->matC = r10;
	r10 = r0->scaleY;
	r10 = r10 * r8;
	r0->matD = r10;
	label$0439708_5_62:
	r8 = r0->x;
	r9 = r0->matA;
	r8 = r8 * r9;
	r9 = r0->y;
	r10 = r0->matC;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r8 = -r8;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r12 = r5->width;
	r9 = (double)r12;
	r10 = r0->anchorX;
	r9 = r9 * r10;
	r10 = r0->viewW;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r12 = r5->width;
	r9 = (double)r12;
	r10 = r0->viewX;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r12 = hl_math_round(r8);
	r8 = (double)r12;
	r0->absX = r8;
	r8 = r0->x;
	r9 = r0->matB;
	r8 = r8 * r9;
	r9 = r0->y;
	r10 = r0->matD;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r8 = -r8;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r12 = r5->height;
	r9 = (double)r12;
	r10 = r0->anchorY;
	r9 = r9 * r10;
	r10 = r0->viewH;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r12 = r5->height;
	r9 = (double)r12;
	r10 = r0->viewY;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r12 = hl_math_round(r8);
	r8 = (double)r12;
	r0->absY = r8;
	r8 = 1.;
	r9 = r0->matA;
	r10 = r0->matD;
	r9 = r9 * r10;
	r10 = r0->matB;
	r11 = r0->matC;
	r10 = r10 * r11;
	r9 = r9 - r10;
	r8 = r8 / r9;
	r0->invDet = r8;
	r7 = false;
	r0->posChanged = r7;
	label$0439708_5_128:
	return;
}

void h2d_Camera_setScale(h2d__Camera r0,double r1,double r2) {
	bool r3;
	r3 = true;
	r0->posChanged = r3;
	r0->scaleX = r1;
	r3 = true;
	r0->posChanged = r3;
	r0->scaleY = r2;
	return;
}

void h2d_Camera_scale(h2d__Camera r0,double r1,double r2) {
	bool r3;
	double r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->scaleX;
	r4 = r4 * r1;
	r0->scaleX = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->scaleY;
	r4 = r4 * r2;
	r0->scaleY = r4;
	return;
}

void h2d_Camera_setPosition(h2d__Camera r0,double r1,double r2) {
	bool r3;
	r3 = true;
	r0->posChanged = r3;
	r0->x = r1;
	r3 = true;
	r0->posChanged = r3;
	r0->y = r2;
	return;
}

void h2d_Camera_move(h2d__Camera r0,double r1,double r2) {
	bool r3;
	double r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->x;
	r4 = r4 + r1;
	r0->x = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = r0->y;
	r4 = r4 + r2;
	r0->y = r4;
	return;
}

void h2d_Camera_rotate(h2d__Camera r0,double r1) {
	bool r2;
	double r3;
	r2 = true;
	r0->posChanged = r2;
	r3 = r0->rotation;
	r3 = r3 + r1;
	r0->rotation = r3;
	return;
}

void h2d_Camera_setAnchor(h2d__Camera r0,double r1,double r2) {
	bool r3;
	r3 = true;
	r0->posChanged = r3;
	r0->anchorX = r1;
	r3 = true;
	r0->posChanged = r3;
	r0->anchorY = r2;
	return;
}

void h2d_Camera_setViewport(h2d__Camera r0,double* r1,double* r2,double* r3,double* r4) {
	String r12;
	bool r13;
	double r5, r6, r7, r8, r14, r16, r17;
	vdynamic *r11;
	h2d__Scene r10;
	int r15;
	if( r1 ) goto label$0439708_12_3;
	r5 = 0.;
	goto label$0439708_12_4;
	label$0439708_12_3:
	r5 = *r1;
	label$0439708_12_4:
	if( r2 ) goto label$0439708_12_7;
	r6 = 0.;
	goto label$0439708_12_8;
	label$0439708_12_7:
	r6 = *r2;
	label$0439708_12_8:
	if( r3 ) goto label$0439708_12_11;
	r7 = 0.;
	goto label$0439708_12_12;
	label$0439708_12_11:
	r7 = *r3;
	label$0439708_12_12:
	if( r4 ) goto label$0439708_12_15;
	r8 = 0.;
	goto label$0439708_12_16;
	label$0439708_12_15:
	r8 = *r4;
	label$0439708_12_16:
	r10 = r0->scene;
	if( r10 ) goto label$0439708_12_21;
	r12 = (String)s$39cc4fe;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$0439708_12_21:
	r10 = r0->scene;
	if( r10 ) goto label$0439708_12_26;
	r12 = (String)s$39cc4fe;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$0439708_12_26:
	r13 = true;
	r0->posChanged = r13;
	r15 = hl_math_floor(r5);
	r14 = (double)r15;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->width;
	r16 = (double)r15;
	r14 = r14 / r16;
	r0->viewX = r14;
	r10 = r0->scene;
	if( r10 ) goto label$0439708_12_41;
	r12 = (String)s$39cc4fe;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$0439708_12_41:
	r13 = true;
	r0->posChanged = r13;
	r15 = hl_math_floor(r6);
	r14 = (double)r15;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->height;
	r16 = (double)r15;
	r14 = r14 / r16;
	r0->viewY = r14;
	r16 = 0.;
	if( r7 != r16 ) goto label$0439708_12_58;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->width;
	r14 = (double)r15;
	goto label$0439708_12_59;
	label$0439708_12_58:
	r14 = r7;
	label$0439708_12_59:
	r10 = r0->scene;
	if( r10 ) goto label$0439708_12_64;
	r12 = (String)s$39cc4fe;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$0439708_12_64:
	r13 = true;
	r0->posChanged = r13;
	r15 = hl_math_ceil(r14);
	r16 = (double)r15;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->width;
	r17 = (double)r15;
	r16 = r16 / r17;
	r0->viewW = r16;
	r16 = 0.;
	if( r8 != r16 ) goto label$0439708_12_81;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->height;
	r14 = (double)r15;
	goto label$0439708_12_82;
	label$0439708_12_81:
	r14 = r8;
	label$0439708_12_82:
	r10 = r0->scene;
	if( r10 ) goto label$0439708_12_87;
	r12 = (String)s$39cc4fe;
	r11 = haxe_Exception_thrown(((vdynamic*)r12));
	hl_throw((vdynamic*)r11);
	label$0439708_12_87:
	r13 = true;
	r0->posChanged = r13;
	r15 = hl_math_ceil(r14);
	r16 = (double)r15;
	r10 = r0->scene;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->height;
	r17 = (double)r15;
	r16 = r16 / r17;
	r0->viewH = r16;
	return;
}

void h2d_Camera_setRawViewport(h2d__Camera r0,double* r1,double* r2,double* r3,double* r4) {
	bool r9;
	double r5, r6, r7, r8;
	if( r1 ) goto label$0439708_13_3;
	r5 = 0.;
	goto label$0439708_13_4;
	label$0439708_13_3:
	r5 = *r1;
	label$0439708_13_4:
	if( r2 ) goto label$0439708_13_7;
	r6 = 0.;
	goto label$0439708_13_8;
	label$0439708_13_7:
	r6 = *r2;
	label$0439708_13_8:
	if( r3 ) goto label$0439708_13_11;
	r7 = 1.;
	goto label$0439708_13_12;
	label$0439708_13_11:
	r7 = *r3;
	label$0439708_13_12:
	if( r4 ) goto label$0439708_13_15;
	r8 = 1.;
	goto label$0439708_13_16;
	label$0439708_13_15:
	r8 = *r4;
	label$0439708_13_16:
	r0->viewX = r5;
	r0->viewY = r6;
	r0->viewW = r7;
	r0->viewH = r8;
	r9 = true;
	r0->posChanged = r9;
	return;
}

double h2d_Camera_screenXToCamera(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r6;
	h2d__Scene r5;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->offsetX;
	r3 = r1 - r4;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->viewportScaleX;
	r3 = r3 / r4;
	r4 = r0->absX;
	r3 = r3 - r4;
	r4 = r0->matD;
	r3 = r3 * r4;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->offsetY;
	r4 = r2 - r6;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->viewportScaleY;
	r4 = r4 / r6;
	r6 = r0->absY;
	r4 = r4 - r6;
	r6 = r0->matC;
	r4 = r4 * r6;
	r3 = r3 - r4;
	r4 = r0->invDet;
	r3 = r3 * r4;
	return r3;
}

double h2d_Camera_screenYToCamera(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r6;
	h2d__Scene r5;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->offsetX;
	r3 = r1 - r4;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->viewportScaleX;
	r3 = r3 / r4;
	r4 = r0->absX;
	r3 = r3 - r4;
	r3 = -r3;
	r4 = r0->matB;
	r3 = r3 * r4;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->offsetY;
	r4 = r2 - r6;
	r5 = r0->scene;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->viewportScaleY;
	r4 = r4 / r6;
	r6 = r0->absY;
	r4 = r4 - r6;
	r6 = r0->matA;
	r4 = r4 * r6;
	r3 = r3 + r4;
	r4 = r0->invDet;
	r3 = r3 * r4;
	return r3;
}

double h2d_Camera_cameraXToScreen(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r5;
	h2d__Scene r6;
	r4 = r0->matA;
	r3 = r1 * r4;
	r5 = r0->matC;
	r4 = r2 * r5;
	r3 = r3 + r4;
	r4 = r0->absX;
	r3 = r3 + r4;
	r6 = r0->scene;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->viewportScaleX;
	r3 = r3 * r4;
	r6 = r0->scene;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->offsetX;
	r3 = r3 + r4;
	return r3;
}

double h2d_Camera_cameraYToScreen(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r5;
	h2d__Scene r6;
	r4 = r0->matB;
	r3 = r1 * r4;
	r5 = r0->matD;
	r4 = r2 * r5;
	r3 = r3 + r4;
	r4 = r0->absY;
	r3 = r3 + r4;
	r6 = r0->scene;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->viewportScaleY;
	r3 = r3 * r4;
	r6 = r0->scene;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->offsetY;
	r3 = r3 + r4;
	return r3;
}

double h2d_Camera_sceneXToCamera(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r5;
	r4 = r0->absX;
	r3 = r1 - r4;
	r4 = r0->matD;
	r3 = r3 * r4;
	r5 = r0->absY;
	r4 = r2 - r5;
	r5 = r0->matC;
	r4 = r4 * r5;
	r3 = r3 - r4;
	r4 = r0->invDet;
	r3 = r3 * r4;
	return r3;
}

double h2d_Camera_sceneYToCamera(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r5;
	r4 = r0->absX;
	r3 = r1 - r4;
	r3 = -r3;
	r4 = r0->matB;
	r3 = r3 * r4;
	r5 = r0->absY;
	r4 = r2 - r5;
	r5 = r0->matA;
	r4 = r4 * r5;
	r3 = r3 + r4;
	r4 = r0->invDet;
	r3 = r3 * r4;
	return r3;
}

double h2d_Camera_cameraXToScene(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r5;
	r4 = r0->matA;
	r3 = r1 * r4;
	r5 = r0->matC;
	r4 = r2 * r5;
	r3 = r3 + r4;
	r4 = r0->absX;
	r3 = r3 + r4;
	return r3;
}

double h2d_Camera_cameraYToScene(h2d__Camera r0,double r1,double r2) {
	double r3, r4, r5;
	r4 = r0->matB;
	r3 = r1 * r4;
	r5 = r0->matD;
	r4 = r2 * r5;
	r3 = r3 + r4;
	r4 = r0->absY;
	r3 = r3 + r4;
	return r3;
}

void h2d_Camera_eventToCamera(h2d__Camera r0,hxd__Event r1) {
	double r2, r3, r6, r7, r8;
	h2d__Scene r4;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->relX;
	r4 = r0->scene;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->offsetX;
	r2 = r2 - r3;
	r4 = r0->scene;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->viewportScaleX;
	r2 = r2 / r3;
	r3 = r0->absX;
	r2 = r2 - r3;
	r3 = r1->relY;
	r4 = r0->scene;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->offsetY;
	r3 = r3 - r6;
	r4 = r0->scene;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->viewportScaleY;
	r3 = r3 / r6;
	r6 = r0->absY;
	r3 = r3 - r6;
	r7 = r0->matD;
	r6 = r2 * r7;
	r8 = r0->matC;
	r7 = r3 * r8;
	r6 = r6 - r7;
	r7 = r0->invDet;
	r6 = r6 * r7;
	r1->relX = r6;
	r6 = -r2;
	r7 = r0->matB;
	r6 = r6 * r7;
	r8 = r0->matA;
	r7 = r3 * r8;
	r6 = r6 + r7;
	r7 = r0->invDet;
	r6 = r6 * r7;
	r1->relY = r6;
	return;
}

void h2d_Camera_screenToCamera(h2d__Camera r0,h2d__col__Point r1) {
	String r5;
	double r6, r7, r8, r9, r10;
	vdynamic *r4;
	h2d__Scene r3;
	r3 = r0->scene;
	if( r3 ) goto label$0439708_23_5;
	r5 = (String)s$39cc4fe;
	r4 = haxe_Exception_thrown(((vdynamic*)r5));
	hl_throw((vdynamic*)r4);
	label$0439708_23_5:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->x;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->offsetX;
	r6 = r6 - r7;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->viewportScaleX;
	r6 = r6 / r7;
	r7 = r0->absX;
	r6 = r6 - r7;
	r7 = r1->y;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->offsetY;
	r7 = r7 - r8;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->viewportScaleY;
	r7 = r7 / r8;
	r8 = r0->absY;
	r7 = r7 - r8;
	r9 = r0->matD;
	r8 = r6 * r9;
	r10 = r0->matC;
	r9 = r7 * r10;
	r8 = r8 - r9;
	r9 = r0->invDet;
	r8 = r8 * r9;
	r1->x = r8;
	r8 = -r6;
	r9 = r0->matB;
	r8 = r8 * r9;
	r10 = r0->matA;
	r9 = r7 * r10;
	r8 = r8 + r9;
	r9 = r0->invDet;
	r8 = r8 * r9;
	r1->y = r8;
	return;
}

void h2d_Camera_cameraToScreen(h2d__Camera r0,h2d__col__Point r1) {
	String r5;
	double r6, r7, r8, r9, r10;
	vdynamic *r4;
	h2d__Scene r3;
	r3 = r0->scene;
	if( r3 ) goto label$0439708_24_5;
	r5 = (String)s$39cc4fe;
	r4 = haxe_Exception_thrown(((vdynamic*)r5));
	hl_throw((vdynamic*)r4);
	label$0439708_24_5:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->x;
	r7 = r1->y;
	r9 = r0->matA;
	r8 = r6 * r9;
	r10 = r0->matC;
	r9 = r7 * r10;
	r8 = r8 + r9;
	r9 = r0->absX;
	r8 = r8 + r9;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->viewportScaleX;
	r8 = r8 * r9;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->offsetX;
	r8 = r8 + r9;
	r1->x = r8;
	r9 = r0->matB;
	r8 = r6 * r9;
	r10 = r0->matD;
	r9 = r7 * r10;
	r8 = r8 + r9;
	r9 = r0->absY;
	r8 = r8 + r9;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->viewportScaleY;
	r8 = r8 * r9;
	r3 = r0->scene;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->offsetY;
	r8 = r8 + r9;
	r1->y = r8;
	return;
}

void h2d_Camera_sceneToCamera(h2d__Camera r0,h2d__col__Point r1) {
	String r5;
	double r6, r7, r8, r9, r10;
	vdynamic *r4;
	h2d__Scene r3;
	r3 = r0->scene;
	if( r3 ) goto label$0439708_25_5;
	r5 = (String)s$39cc4fe;
	r4 = haxe_Exception_thrown(((vdynamic*)r5));
	hl_throw((vdynamic*)r4);
	label$0439708_25_5:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->x;
	r7 = r0->absX;
	r6 = r6 - r7;
	r7 = r1->y;
	r8 = r0->absY;
	r7 = r7 - r8;
	r9 = r0->matD;
	r8 = r6 * r9;
	r10 = r0->matC;
	r9 = r7 * r10;
	r8 = r8 - r9;
	r9 = r0->invDet;
	r8 = r8 * r9;
	r1->x = r8;
	r8 = -r6;
	r9 = r0->matB;
	r8 = r8 * r9;
	r10 = r0->matA;
	r9 = r7 * r10;
	r8 = r8 + r9;
	r9 = r0->invDet;
	r8 = r8 * r9;
	r1->y = r8;
	return;
}

void h2d_Camera_cameraToScene(h2d__Camera r0,h2d__col__Point r1) {
	String r5;
	double r6, r7, r8, r9, r10;
	vdynamic *r4;
	h2d__Scene r3;
	r3 = r0->scene;
	if( r3 ) goto label$0439708_26_5;
	r5 = (String)s$39cc4fe;
	r4 = haxe_Exception_thrown(((vdynamic*)r5));
	hl_throw((vdynamic*)r4);
	label$0439708_26_5:
	if( r1 == NULL ) hl_null_access();
	r6 = r1->x;
	r7 = r1->y;
	r9 = r0->matA;
	r8 = r6 * r9;
	r10 = r0->matC;
	r9 = r7 * r10;
	r8 = r8 + r9;
	r9 = r0->absX;
	r8 = r8 + r9;
	r1->x = r8;
	r9 = r0->matB;
	r8 = r6 * r9;
	r10 = r0->matD;
	r9 = r7 * r10;
	r8 = r8 + r9;
	r9 = r0->absY;
	r8 = r8 + r9;
	r1->y = r8;
	return;
}

void h2d_Camera_checkScene(h2d__Camera r0) {
	String r4;
	vdynamic *r3;
	h2d__Scene r2;
	r2 = r0->scene;
	if( r2 ) goto label$0439708_27_5;
	r4 = (String)s$39cc4fe;
	r3 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r3);
	label$0439708_27_5:
	return;
}

double h2d_Camera_set_x(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->x = r1;
	return r1;
}

double h2d_Camera_set_y(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->y = r1;
	return r1;
}

double h2d_Camera_set_scaleX(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->scaleX = r1;
	return r1;
}

double h2d_Camera_set_scaleY(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->scaleY = r1;
	return r1;
}

double h2d_Camera_set_rotation(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->rotation = r1;
	return r1;
}

double h2d_Camera_get_viewportX(h2d__Camera r0) {
	String r3;
	double r4, r6;
	vdynamic *r2;
	h2d__Scene r1;
	int r5;
	r1 = r0->scene;
	if( r1 ) goto label$0439708_33_5;
	r3 = (String)s$39cc4fe;
	r2 = haxe_Exception_thrown(((vdynamic*)r3));
	hl_throw((vdynamic*)r2);
	label$0439708_33_5:
	r4 = r0->viewX;
	r1 = r0->scene;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->width;
	r6 = (double)r5;
	r4 = r4 * r6;
	return r4;
}

double h2d_Camera_set_viewportX(h2d__Camera r0,double r1) {
	String r4;
	bool r5;
	double r6, r8;
	vdynamic *r3;
	h2d__Scene r2;
	int r7;
	r2 = r0->scene;
	if( r2 ) goto label$0439708_34_5;
	r4 = (String)s$39cc4fe;
	r3 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r3);
	label$0439708_34_5:
	r5 = true;
	r0->posChanged = r5;
	r7 = hl_math_floor(r1);
	r6 = (double)r7;
	r2 = r0->scene;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->width;
	r8 = (double)r7;
	r6 = r6 / r8;
	r0->viewX = r6;
	return r1;
}

double h2d_Camera_get_viewportY(h2d__Camera r0) {
	String r3;
	double r4, r6;
	vdynamic *r2;
	h2d__Scene r1;
	int r5;
	r1 = r0->scene;
	if( r1 ) goto label$0439708_35_5;
	r3 = (String)s$39cc4fe;
	r2 = haxe_Exception_thrown(((vdynamic*)r3));
	hl_throw((vdynamic*)r2);
	label$0439708_35_5:
	r4 = r0->viewY;
	r1 = r0->scene;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->height;
	r6 = (double)r5;
	r4 = r4 * r6;
	return r4;
}

double h2d_Camera_set_viewportY(h2d__Camera r0,double r1) {
	String r4;
	bool r5;
	double r6, r8;
	vdynamic *r3;
	h2d__Scene r2;
	int r7;
	r2 = r0->scene;
	if( r2 ) goto label$0439708_36_5;
	r4 = (String)s$39cc4fe;
	r3 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r3);
	label$0439708_36_5:
	r5 = true;
	r0->posChanged = r5;
	r7 = hl_math_floor(r1);
	r6 = (double)r7;
	r2 = r0->scene;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->height;
	r8 = (double)r7;
	r6 = r6 / r8;
	r0->viewY = r6;
	return r1;
}

double h2d_Camera_get_viewportWidth(h2d__Camera r0) {
	String r3;
	double r4, r6;
	vdynamic *r2;
	h2d__Scene r1;
	int r5;
	r1 = r0->scene;
	if( r1 ) goto label$0439708_37_5;
	r3 = (String)s$39cc4fe;
	r2 = haxe_Exception_thrown(((vdynamic*)r3));
	hl_throw((vdynamic*)r2);
	label$0439708_37_5:
	r4 = r0->viewW;
	r1 = r0->scene;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->width;
	r6 = (double)r5;
	r4 = r4 * r6;
	return r4;
}

double h2d_Camera_set_viewportWidth(h2d__Camera r0,double r1) {
	String r4;
	bool r5;
	double r6, r8;
	vdynamic *r3;
	h2d__Scene r2;
	int r7;
	r2 = r0->scene;
	if( r2 ) goto label$0439708_38_5;
	r4 = (String)s$39cc4fe;
	r3 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r3);
	label$0439708_38_5:
	r5 = true;
	r0->posChanged = r5;
	r7 = hl_math_ceil(r1);
	r6 = (double)r7;
	r2 = r0->scene;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->width;
	r8 = (double)r7;
	r6 = r6 / r8;
	r0->viewW = r6;
	return r1;
}

double h2d_Camera_get_viewportHeight(h2d__Camera r0) {
	String r3;
	double r4, r6;
	vdynamic *r2;
	h2d__Scene r1;
	int r5;
	r1 = r0->scene;
	if( r1 ) goto label$0439708_39_5;
	r3 = (String)s$39cc4fe;
	r2 = haxe_Exception_thrown(((vdynamic*)r3));
	hl_throw((vdynamic*)r2);
	label$0439708_39_5:
	r4 = r0->viewH;
	r1 = r0->scene;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->height;
	r6 = (double)r5;
	r4 = r4 * r6;
	return r4;
}

double h2d_Camera_set_viewportHeight(h2d__Camera r0,double r1) {
	String r4;
	bool r5;
	double r6, r8;
	vdynamic *r3;
	h2d__Scene r2;
	int r7;
	r2 = r0->scene;
	if( r2 ) goto label$0439708_40_5;
	r4 = (String)s$39cc4fe;
	r3 = haxe_Exception_thrown(((vdynamic*)r4));
	hl_throw((vdynamic*)r3);
	label$0439708_40_5:
	r5 = true;
	r0->posChanged = r5;
	r7 = hl_math_ceil(r1);
	r6 = (double)r7;
	r2 = r0->scene;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->height;
	r8 = (double)r7;
	r6 = r6 / r8;
	r0->viewH = r6;
	return r1;
}

double h2d_Camera_set_anchorX(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->anchorX = r1;
	return r1;
}

double h2d_Camera_set_anchorY(h2d__Camera r0,double r1) {
	bool r2;
	r2 = true;
	r0->posChanged = r2;
	r0->anchorY = r1;
	return r1;
}

void h2d_Camera_new(h2d__Camera r0,h2d__Scene r1) {
	bool r3;
	double r4;
	vclosure *r2;
	vdynamic *r6;
	r2 = r0->layerVisible;
	if( r2 ) goto label$0439708_43_4;
	r2 = hl_alloc_closure_ptr(&t$fun_751a5f0,h2d_Camera_layerVisible,r0);
	r0->layerVisible = r2;
	label$0439708_43_4:
	r3 = false;
	r0->followRotation = r3;
	r3 = true;
	r0->posChanged = r3;
	r4 = 0.;
	r0->x = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = 0.;
	r0->y = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = 1.;
	r0->scaleX = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = 1.;
	r0->scaleY = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = 0.;
	r0->rotation = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = 0.;
	r0->anchorX = r4;
	r3 = true;
	r0->posChanged = r3;
	r4 = 0.;
	r0->anchorY = r4;
	r4 = 0.;
	r0->viewX = r4;
	r4 = 0.;
	r0->viewY = r4;
	r4 = 1.;
	r0->viewW = r4;
	r4 = 1.;
	r0->viewH = r4;
	r3 = true;
	r0->visible = r3;
	if( !r1 ) goto label$0439708_43_48;
	if( r1 == NULL ) hl_null_access();
	r6 = NULL;
	h2d_Scene_addCamera(r1,r0,r6);
	label$0439708_43_48:
	return;
}

