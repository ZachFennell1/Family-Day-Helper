// Generated by HLC 4.2.4 (HL v4)
#define HLC_BOOT
#include <hlc.h>
#include <h2d/col/_Polygons/Polygons_Impl_.h>
extern hl_type t$hl_types_ArrayObj;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$hxd_impl_ArrayIterator_h2d_col_Polygon;
void hxd_impl_ArrayIterator_h2d_col_Polygon_new(hxd__impl__ArrayIterator_h2d_col_Polygon,hl__types__ArrayObj);
extern hl_type t$_dyn;
hl__types__ArrayObj h2d_col__Polygon_Polygon_Impl__toIPolygon(hl__types__ArrayObj,double*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$h2d_col_Bounds;
void h2d_col_Bounds_new(h2d__col__Bounds);
h2d__col__Bounds h2d_col__Polygon_Polygon_Impl__getBounds(hl__types__ArrayObj,h2d__col__Bounds);
extern hl_type t$h2d_col_PolygonCollider;
void h2d_col_PolygonCollider_new(h2d__col__PolygonCollider,hl__types__ArrayObj,bool*);
bool h2d_col__Polygon_Polygon_Impl__contains(hl__types__ArrayObj,h2d__col__Point,bool*);
hl__types__ArrayObj h2d_col__Polygon_Polygon_Impl__optimize(hl__types__ArrayObj,double);

int h2d_col__Polygons_Polygons_Impl__get_length(hl__types__ArrayObj r0) {
	int r1;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	return r1;
}

hl__types__ArrayObj h2d_col__Polygons_Polygons_Impl__get_polygons(hl__types__ArrayObj r0) {
	return r0;
}

hl__types__ArrayObj h2d_col__Polygons_Polygons_Impl___new(hl__types__ArrayObj r0) {
	hl__types__ArrayObj r1;
	hl_type *r3;
	int r4;
	varray *r2;
	if( r0 ) goto label$bcc7b0d_3_6;
	r3 = &t$hl_types_ArrayObj;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	goto label$bcc7b0d_3_7;
	label$bcc7b0d_3_6:
	r1 = r0;
	label$bcc7b0d_3_7:
	return r1;
}

hxd__impl__ArrayIterator_h2d_col_Polygon h2d_col__Polygons_Polygons_Impl__iterator(hl__types__ArrayObj r0) {
	hxd__impl__ArrayIterator_h2d_col_Polygon r1;
	r1 = (hxd__impl__ArrayIterator_h2d_col_Polygon)hl_alloc_obj(&t$hxd_impl_ArrayIterator_h2d_col_Polygon);
	hxd_impl_ArrayIterator_h2d_col_Polygon_new(r1,r0);
	return r1;
}

hl__types__ArrayObj h2d_col__Polygons_Polygons_Impl__toIPolygons(hl__types__ArrayObj r0,double* r1) {
	hl__types__ArrayObj r3, r7, r10, r12;
	hl_type *r5;
	double r2, r13;
	vdynamic *r11;
	int r6, r8, r9;
	varray *r4;
	if( r1 ) goto label$bcc7b0d_5_3;
	r2 = 1.;
	goto label$bcc7b0d_5_4;
	label$bcc7b0d_5_3:
	r2 = *r1;
	label$bcc7b0d_5_4:
	r5 = &t$hl_types_ArrayObj;
	r6 = 0;
	r4 = hl_alloc_array(r5,r6);
	r3 = hl_types_ArrayObj_alloc(r4);
	r6 = 0;
	r7 = r0;
	label$bcc7b0d_5_10:
	if( r7 == NULL ) hl_null_access();
	r9 = r7->length;
	if( r6 >= r9 ) goto label$bcc7b0d_5_28;
	r9 = r7->length;
	if( ((unsigned)r6) < ((unsigned)r9) ) goto label$bcc7b0d_5_18;
	r10 = NULL;
	goto label$bcc7b0d_5_21;
	label$bcc7b0d_5_18:
	r4 = r7->array;
	r11 = ((vdynamic**)(r4 + 1))[r6];
	r10 = (hl__types__ArrayObj)hl_dyn_castp(&r11,&t$_dyn,&t$hl_types_ArrayObj);
	label$bcc7b0d_5_21:
	++r6;
	if( r3 == NULL ) hl_null_access();
	r13 = r2;
	r1 = &r13;
	r12 = h2d_col__Polygon_Polygon_Impl__toIPolygon(r10,r1);
	r8 = hl_types_ArrayObj_push(r3,((vdynamic*)r12));
	goto label$bcc7b0d_5_10;
	label$bcc7b0d_5_28:
	return r3;
}

h2d__col__Bounds h2d_col__Polygons_Polygons_Impl__getBounds(hl__types__ArrayObj r0,h2d__col__Bounds r1) {
	h2d__col__Bounds r3;
	hl__types__ArrayObj r5, r7;
	vdynamic *r8;
	varray *r9;
	int r4, r6;
	if( r1 ) goto label$bcc7b0d_6_4;
	r3 = (h2d__col__Bounds)hl_alloc_obj(&t$h2d_col_Bounds);
	h2d_col_Bounds_new(r3);
	r1 = r3;
	label$bcc7b0d_6_4:
	r4 = 0;
	r5 = r0;
	label$bcc7b0d_6_6:
	if( r5 == NULL ) hl_null_access();
	r6 = r5->length;
	if( r4 >= r6 ) goto label$bcc7b0d_6_20;
	r6 = r5->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$bcc7b0d_6_14;
	r7 = NULL;
	goto label$bcc7b0d_6_17;
	label$bcc7b0d_6_14:
	r9 = r5->array;
	r8 = ((vdynamic**)(r9 + 1))[r4];
	r7 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$bcc7b0d_6_17:
	++r4;
	r3 = h2d_col__Polygon_Polygon_Impl__getBounds(r7,r1);
	goto label$bcc7b0d_6_6;
	label$bcc7b0d_6_20:
	return r1;
}

h2d__col__PolygonCollider h2d_col__Polygons_Polygons_Impl__getCollider(hl__types__ArrayObj r0,bool* r1) {
	bool r2, r4;
	h2d__col__PolygonCollider r3;
	if( r1 ) goto label$bcc7b0d_7_3;
	r2 = false;
	goto label$bcc7b0d_7_4;
	label$bcc7b0d_7_3:
	r2 = *r1;
	label$bcc7b0d_7_4:
	r3 = (h2d__col__PolygonCollider)hl_alloc_obj(&t$h2d_col_PolygonCollider);
	r4 = r2;
	r1 = &r4;
	h2d_col_PolygonCollider_new(r3,r0,r1);
	return r3;
}

bool h2d_col__Polygons_Polygons_Impl__contains(hl__types__ArrayObj r0,h2d__col__Point r1,bool* r2) {
	hl__types__ArrayObj r5, r7;
	bool r3, r10, r11;
	vdynamic *r8;
	varray *r9;
	int r4, r6;
	if( r2 ) goto label$bcc7b0d_8_3;
	r3 = false;
	goto label$bcc7b0d_8_4;
	label$bcc7b0d_8_3:
	r3 = *r2;
	label$bcc7b0d_8_4:
	r4 = 0;
	r5 = r0;
	label$bcc7b0d_8_6:
	if( r5 == NULL ) hl_null_access();
	r6 = r5->length;
	if( r4 >= r6 ) goto label$bcc7b0d_8_25;
	r6 = r5->length;
	if( ((unsigned)r4) < ((unsigned)r6) ) goto label$bcc7b0d_8_14;
	r7 = NULL;
	goto label$bcc7b0d_8_17;
	label$bcc7b0d_8_14:
	r9 = r5->array;
	r8 = ((vdynamic**)(r9 + 1))[r4];
	r7 = (hl__types__ArrayObj)hl_dyn_castp(&r8,&t$_dyn,&t$hl_types_ArrayObj);
	label$bcc7b0d_8_17:
	++r4;
	r10 = r3;
	r2 = &r10;
	r10 = h2d_col__Polygon_Polygon_Impl__contains(r7,r1,r2);
	if( !r10 ) goto label$bcc7b0d_8_24;
	r11 = true;
	return r11;
	label$bcc7b0d_8_24:
	goto label$bcc7b0d_8_6;
	label$bcc7b0d_8_25:
	r11 = false;
	return r11;
}

hl__types__ArrayObj h2d_col__Polygons_Polygons_Impl__optimize(hl__types__ArrayObj r0,double r1) {
	hl__types__ArrayObj r2, r6, r9, r11;
	hl_type *r4;
	vdynamic *r10;
	int r5, r7, r8;
	varray *r3;
	r4 = &t$hl_types_ArrayObj;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r2 = hl_types_ArrayObj_alloc(r3);
	r5 = 0;
	r6 = r0;
	label$bcc7b0d_9_6:
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( r5 >= r8 ) goto label$bcc7b0d_9_22;
	r8 = r6->length;
	if( ((unsigned)r5) < ((unsigned)r8) ) goto label$bcc7b0d_9_14;
	r9 = NULL;
	goto label$bcc7b0d_9_17;
	label$bcc7b0d_9_14:
	r3 = r6->array;
	r10 = ((vdynamic**)(r3 + 1))[r5];
	r9 = (hl__types__ArrayObj)hl_dyn_castp(&r10,&t$_dyn,&t$hl_types_ArrayObj);
	label$bcc7b0d_9_17:
	++r5;
	if( r2 == NULL ) hl_null_access();
	r11 = h2d_col__Polygon_Polygon_Impl__optimize(r9,r1);
	r7 = hl_types_ArrayObj_push(r2,((vdynamic*)r11));
	goto label$bcc7b0d_9_6;
	label$bcc7b0d_9_22:
	return r2;
}

